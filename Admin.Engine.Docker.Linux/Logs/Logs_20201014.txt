INFO  14-10-2020 11:20:03 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 11:20:03 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 11:20:03 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 11:20:03 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 11:20:03 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><property name="ContactType" type="QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 11:20:04 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:20:04 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:20:04 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
ERROR 14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - could not complete schema validation NHibernate.SchemaValidationException: Schema validation failed: see list of validation errors
   at NHibernate.Cfg.Configuration.ValidateSchema(Dialect dialect, IDatabaseMetadata databaseMetadata)
   at NHibernate.Tool.hbm2ddl.SchemaValidator.Validate()

DEBUG 14-10-2020 11:20:04 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier_contact') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier_contact 
DEBUG 14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier 
DEBUG 14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier_contact (
        Id UNIQUEIDENTIFIER not null,
       ContactType INT not null,
       Value NVARCHAR(255) not null,
       supplier_id UNIQUEIDENTIFIER not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier (
        Id UNIQUEIDENTIFIER not null,
       Name NVARCHAR(150) not null,
       Address NVARCHAR(255) not null,
       City NVARCHAR(50) not null,
       PostCode NVARCHAR(5) not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (supplier_id) 
        references supplier 
DEBUG 14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (id) 
        references supplier 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 11:20:04 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:20:04 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:20:04 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
DEBUG 14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier_contact (Id UNIQUEIDENTIFIER not null, ContactType INT not null, Value NVARCHAR(255) not null, supplier_id UNIQUEIDENTIFIER not null, primary key (Id)) 
DEBUG 14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier (Id UNIQUEIDENTIFIER not null, Name NVARCHAR(150) not null, Address NVARCHAR(255) not null, City NVARCHAR(50) not null, PostCode NVARCHAR(5) not null, primary key (Id)) 
DEBUG 14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (supplier_id) references supplier 
DEBUG 14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier 
ERROR 14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Unsuccessful: alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'fk_supplier_id' in the database.
Could not create constraint or index. See previous errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.Tool.hbm2ddl.SchemaUpdate.Execute(Action`1 scriptAction, Boolean doUpdate)
ClientConnectionId:282b2e73-5533-407d-bd53-f583f5b627bc
Error Number:2714,State:5,Class:16

INFO  14-10-2020 11:20:04 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 11:20:04 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:20:04 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:20:04 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:05 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:05 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 11:20:05 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:20:05 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:20:05 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 11:20:05 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 11:20:05 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 11:20:05 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 11:20:05 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 11:20:05 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:20:05 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:20:05 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:20:05 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:20:05 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:20:05 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:20:05 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:20:05 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:20:05 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 11:20:05 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:20:05 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 11:20:05 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 11:20:05 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:20:05 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:20:05 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 11:20:05 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 11:20:05 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:20:05 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:20:05 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:20:05 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:20:05 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:20:05 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:20:05 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:20:05 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:20:05 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:20:05 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:20:05 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:20:05 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 11:20:05 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 11:20:05 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 11:20:05 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:20:05 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:20:05 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:20:05 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:20:05 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:20:05 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:20:05 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:20:05 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:20:06 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 11:20:06 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 11:20:06 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 94d50cf2129b4ecd97882fe9fd45212f(unnamed) 
INFO  14-10-2020 11:20:06 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 11:20:06 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 11:20:06 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 11:20:06 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 11:20:07 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
FATAL 14-10-2020 11:20:08 Microsoft.AspNetCore.Hosting.Internal.WebHost [1] - Application startup exception System.InvalidOperationException: Unable to resolve service for type 'QSI.Web.Middleware.IResponseActionFactory' while attempting to activate 'QSI.Web.Middleware.MiddlewareExceptionShaper'.
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass4_0.<UseMiddleware>b__0(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.Internal.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()

FATAL 14-10-2020 11:20:08 Microsoft.AspNetCore.Hosting.Internal.WebHost [1] - Application startup exception System.InvalidOperationException: Unable to resolve service for type 'QSI.Web.Middleware.IResponseActionFactory' while attempting to activate 'QSI.Web.Middleware.MiddlewareExceptionShaper'.
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass4_0.<UseMiddleware>b__0(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.Internal.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()

INFO  14-10-2020 11:20:08 NHibernate.Impl.SessionFactoryImpl [1] - Closing 
DEBUG 14-10-2020 11:20:08 NHibernate.Connection.ConnectionProvider [1] - Disposing of ConnectionProvider. 
INFO  14-10-2020 11:25:41 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 11:25:41 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 11:25:41 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 11:25:41 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 11:25:41 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><property name="ContactType" type="QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:25:42 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:25:42 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:25:42 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 11:25:42 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 11:25:42 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:25:42 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:25:42 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:25:42 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:25:42 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 11:25:42 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:25:42 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:25:42 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:25:42 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:25:42 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:25:42 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 11:25:42 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 11:25:42 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:25:42 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:25:42 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:25:42 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:25:42 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 11:25:42 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:25:42 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:25:42 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:25:42 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:25:42 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:25:42 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:25:43 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 11:25:43 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 11:25:43 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 11:25:43 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07D14622AE 
INFO  14-10-2020 11:25:43 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 11:25:43 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 11:25:43 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 11:25:43 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07119BC7DB 
INFO  14-10-2020 11:25:43 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 11:25:43 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:25:43 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:25:43 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:25:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:25:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:25:43 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 11:25:43 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:25:43 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:25:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 11:25:43 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 11:25:43 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 11:25:43 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 11:25:43 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 11:25:43 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:25:43 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:25:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:25:43 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:25:43 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:25:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:25:43 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:25:43 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:25:43 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 11:25:43 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:25:43 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 11:25:43 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 11:25:43 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:25:43 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:25:43 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 11:25:43 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:25:43 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:25:43 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:25:43 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:25:43 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 11:25:43 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 11:25:43 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:25:43 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 11:25:43 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 11:25:43 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 0f1e86afada1407499175c4b16d7db9b(unnamed) 
INFO  14-10-2020 11:25:43 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 11:25:43 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 11:25:43 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 11:25:43 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 11:25:45 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 11:25:49 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:25:49 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:25:49 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request finished in 302.1367ms 200 text/html 
INFO  14-10-2020 11:25:49 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request finished in 302.1367ms 200 text/html 
INFO  14-10-2020 11:25:51 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:25:51 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:25:51 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 326.4721ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:25:51 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 326.4721ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:27:02 Microsoft.AspNetCore.Hosting.Internal.WebHost [15] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 185 
INFO  14-10-2020 11:27:02 Microsoft.AspNetCore.Hosting.Internal.WebHost [15] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 185 
WARN  14-10-2020 11:27:02 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [15] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 11:27:02 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [15] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 11:27:02 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [15] - CORS policy execution successful. 
INFO  14-10-2020 11:27:02 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [15] - CORS policy execution successful. 
INFO  14-10-2020 11:27:02 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [15] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:27:02 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [15] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:27:02 QSI.Web.Middleware.LogActionFilter [15] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 11:27:03 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [15] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 11:27:03 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [15] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 11:27:03 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [15] - Opening Hibernate Session. 
DEBUG 14-10-2020 11:27:03 NHibernate.Impl.SessionImpl [15] - [session-id=3da0304e-f9e3-442c-b9b9-44ab83aebd1e] opened session at timestamp: 637382716233, for session factory: [/0f1e86afada1407499175c4b16d7db9b] 
DEBUG 14-10-2020 11:27:03 NHibernate.Transaction.AdoTransaction [15] - Begin (Unspecified) 
DEBUG 14-10-2020 11:27:03 NHibernate.Connection.DriverConnectionProvider [15] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:27:03 NHibernate.Engine.IdentifierValue [15] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 11:27:03 NHibernate.Event.Default.AbstractSaveEventListener [15] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:27:03 NHibernate.Event.Default.DefaultMergeEventListener [15] - merging transient instance 
DEBUG 14-10-2020 11:27:03 NHibernate.AdoNet.AbstractBatcher [15] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 11:27:03 NHibernate.AdoNet.AbstractBatcher [15] - Building an DbCommand object for the SqlString: select newid() 
DEBUG 14-10-2020 11:27:03 NHibernate.SQL [15] - 
    select
        newid() 
DEBUG 14-10-2020 11:27:03 NHibernate.Transaction.AdoTransaction [15] - Enlist Command 
DEBUG 14-10-2020 11:27:03 NHibernate.AdoNet.AbstractBatcher [15] - ExecuteReader took 1 ms 
DEBUG 14-10-2020 11:27:03 NHibernate.AdoNet.AbstractBatcher [15] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 11:27:03 NHibernate.Type.GuidType [15] - returning '02cd70d0-4495-473d-9ba8-6ff02db219d0' as column:  
DEBUG 14-10-2020 11:27:03 NHibernate.Id.NativeGuidGenerator [15] - GUID identifier generated: 02cd70d0-4495-473d-9ba8-6ff02db219d0 
DEBUG 14-10-2020 11:27:03 NHibernate.AdoNet.AbstractBatcher [15] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 11:27:03 NHibernate.AdoNet.AbstractBatcher [15] - DataReader was closed after 8 ms 
DEBUG 14-10-2020 11:27:03 NHibernate.AdoNet.AbstractBatcher [15] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 11:27:03 NHibernate.Event.Default.AbstractSaveEventListener [15] - generated identifier: 02cd70d0-4495-473d-9ba8-6ff02db219d0, using strategy: NHibernate.Id.NativeGuidGenerator 
DEBUG 14-10-2020 11:27:03 NHibernate.Event.Default.AbstractSaveEventListener [15] - saving [BookWarehouse.Repository.Models.Supplier#02cd70d0-4495-473d-9ba8-6ff02db219d0] 
DEBUG 14-10-2020 11:27:03 NHibernate.Engine.IdentifierValue [15] - unsaved-value: 00000000-0000-0000-0000-000000000000 
INFO  14-10-2020 11:27:03 NHibernate.Event.Default.DefaultMergeEventListener [15] - transient instance could not be processed by merge: BookWarehouse.Repository.Models.SupplierContact [BookWarehouse.Repository.Models.SupplierContact] 
DEBUG 14-10-2020 11:27:03 NHibernate.Transaction.AdoTransaction [15] - Rollback 
DEBUG 14-10-2020 11:27:03 NHibernate.Transaction.AdoTransaction [15] - DbTransaction RolledBack 
DEBUG 14-10-2020 11:27:03 NHibernate.Transaction.AdoTransaction [15] - DbTransaction disposed. 
DEBUG 14-10-2020 11:27:03 NHibernate.AdoNet.ConnectionManager [15] - Aggressively releasing database connection 
DEBUG 14-10-2020 11:27:03 NHibernate.Connection.ConnectionProvider [15] - Closing connection 
DEBUG 14-10-2020 11:27:03 NHibernate.Impl.SessionImpl [15] - transaction completion 
DEBUG 14-10-2020 11:27:03 NHibernate.Impl.SessionImpl [15] - closing session 
DEBUG 14-10-2020 11:27:03 NHibernate.AdoNet.AbstractBatcher [15] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 11:29:18 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 11:29:18 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 11:29:18 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 11:29:18 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 11:29:18 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><property name="ContactType" type="QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:29:19 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 11:29:19 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 11:29:19 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:29:19 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:29:19 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:29:19 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:29:19 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 11:29:19 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 11:29:19 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:29:19 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:29:19 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:29:19 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07D14622AE 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07119BC7DB 
INFO  14-10-2020 11:29:19 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 11:29:19 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:29:19 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:29:19 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:29:20 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 11:29:20 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:29:20 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:29:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 11:29:20 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 11:29:20 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 11:29:20 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 11:29:20 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 11:29:20 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:29:20 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:29:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:29:20 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:29:20 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:29:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:29:20 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:29:20 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:29:20 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 11:29:20 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:29:20 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 11:29:20 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 11:29:20 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:29:20 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:29:20 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 11:29:20 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:29:20 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:29:20 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:29:20 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:29:20 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 11:29:20 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 11:29:20 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:29:20 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 11:29:20 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 11:29:20 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 2d08d1819784404ab9097311941d9673(unnamed) 
INFO  14-10-2020 11:29:20 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 11:29:20 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 11:29:20 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 11:29:20 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 11:29:21 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 11:29:23 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:29:23 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:29:23 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 232.4894ms 200 text/html 
INFO  14-10-2020 11:29:23 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 232.4894ms 200 text/html 
INFO  14-10-2020 11:29:23 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:29:23 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:29:24 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 292.3491ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:29:24 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 292.3491ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:29:39 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 183 
INFO  14-10-2020 11:29:39 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 183 
WARN  14-10-2020 11:29:39 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 11:29:39 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 11:29:39 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 11:29:39 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 11:29:39 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:29:39 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:29:40 QSI.Web.Middleware.LogActionFilter [7] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 11:29:40 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 11:29:40 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 11:29:40 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [7] - Opening Hibernate Session. 
DEBUG 14-10-2020 11:29:40 NHibernate.Impl.SessionImpl [7] - [session-id=a02d6a93-e9ab-42a6-87e8-684cc81a5e37] opened session at timestamp: 637382717804, for session factory: [/2d08d1819784404ab9097311941d9673] 
DEBUG 14-10-2020 11:29:40 NHibernate.Transaction.AdoTransaction [7] - Begin (Unspecified) 
DEBUG 14-10-2020 11:29:40 NHibernate.Connection.DriverConnectionProvider [7] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:29:40 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 11:29:40 NHibernate.Event.Default.AbstractSaveEventListener [7] - transient instance of: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:29:40 NHibernate.Event.Default.DefaultMergeEventListener [7] - merging transient instance 
DEBUG 14-10-2020 11:29:40 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 11:29:40 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 11:29:40 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: select newid() 
DEBUG 14-10-2020 11:29:40 NHibernate.SQL [7] - 
    select
        newid() 
DEBUG 14-10-2020 11:29:40 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
DEBUG 14-10-2020 11:29:40 NHibernate.AdoNet.AbstractBatcher [7] - ExecuteReader took 0 ms 
DEBUG 14-10-2020 11:29:40 NHibernate.AdoNet.AbstractBatcher [7] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 11:29:40 NHibernate.Type.GuidType [7] - returning 'c60378fb-d3fc-4723-8812-98d3870c56d5' as column:  
DEBUG 14-10-2020 11:29:40 NHibernate.Id.NativeGuidGenerator [7] - GUID identifier generated: c60378fb-d3fc-4723-8812-98d3870c56d5 
DEBUG 14-10-2020 11:29:40 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 11:29:40 NHibernate.AdoNet.AbstractBatcher [7] - DataReader was closed after 14 ms 
DEBUG 14-10-2020 11:29:40 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 11:29:40 NHibernate.Event.Default.AbstractSaveEventListener [7] - generated identifier: c60378fb-d3fc-4723-8812-98d3870c56d5, using strategy: NHibernate.Id.NativeGuidGenerator 
DEBUG 14-10-2020 11:29:40 NHibernate.Event.Default.AbstractSaveEventListener [7] - saving [BookWarehouse.Repository.Models.SupplierContact#c60378fb-d3fc-4723-8812-98d3870c56d5] 
DEBUG 14-10-2020 11:29:40 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 00000000-0000-0000-0000-000000000000 
INFO  14-10-2020 11:29:40 NHibernate.Event.Default.DefaultMergeEventListener [7] - property 'BookWarehouse.Repository.Models.SupplierContact.Supplier' from original entity is in copyCache and is not in the process of being merged; Supplier =[BookWarehouse.Repository.Models.Supplier] NHibernate.PropertyValueException: not-null property references a null or transient value BookWarehouse.Repository.Models.SupplierContact.Supplier
   at NHibernate.Engine.Nullability.CheckNullability(Object[] values, IEntityPersister persister, Boolean isUpdate)
   at NHibernate.Event.Default.AbstractSaveEventListener.PerformSaveOrReplicate(Object entity, EntityKey key, IEntityPersister persister, Boolean useIdentityColumn, Object anything, IEventSource source, Boolean requiresImmediateIdAccess)
   at NHibernate.Event.Default.AbstractSaveEventListener.PerformSave(Object entity, Object id, IEntityPersister persister, Boolean useIdentityColumn, Object anything, IEventSource source, Boolean requiresImmediateIdAccess)
   at NHibernate.Event.Default.AbstractSaveEventListener.SaveWithGeneratedId(Object entity, String entityName, Object anything, IEventSource source, Boolean requiresImmediateIdAccess)
   at NHibernate.Event.Default.DefaultMergeEventListener.MergeTransientEntity(Object entity, String entityName, Object requestedId, IEventSource source, IDictionary copyCache)

INFO  14-10-2020 11:29:40 NHibernate.Event.Default.DefaultMergeEventListener [7] - transient instance could not be processed by merge: BookWarehouse.Repository.Models.Supplier [BookWarehouse.Repository.Models.Supplier] 
DEBUG 14-10-2020 11:29:40 NHibernate.Transaction.AdoTransaction [7] - Rollback 
DEBUG 14-10-2020 11:29:40 NHibernate.Transaction.AdoTransaction [7] - DbTransaction RolledBack 
DEBUG 14-10-2020 11:29:40 NHibernate.Transaction.AdoTransaction [7] - DbTransaction disposed. 
DEBUG 14-10-2020 11:29:40 NHibernate.AdoNet.ConnectionManager [7] - Aggressively releasing database connection 
DEBUG 14-10-2020 11:29:40 NHibernate.Connection.ConnectionProvider [7] - Closing connection 
DEBUG 14-10-2020 11:29:40 NHibernate.Impl.SessionImpl [7] - transaction completion 
DEBUG 14-10-2020 11:29:40 NHibernate.Impl.SessionImpl [7] - closing session 
DEBUG 14-10-2020 11:29:40 NHibernate.AdoNet.AbstractBatcher [7] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 11:31:19 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 11:31:19 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 11:31:19 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 11:31:19 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 11:31:19 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><property name="ContactType" type="QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:31:20 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 11:31:20 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 11:31:20 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:31:20 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:31:20 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:31:20 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:31:20 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 11:31:20 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 11:31:20 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:31:20 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:31:20 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:31:20 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07D14622AE 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07119BC7DB 
INFO  14-10-2020 11:31:20 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 11:31:20 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:31:20 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 11:31:20 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:31:20 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:31:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 11:31:20 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 11:31:21 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 11:31:21 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 11:31:21 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 11:31:21 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 11:31:21 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:31:21 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:31:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:31:21 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:31:21 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:31:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:31:21 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:31:21 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:31:21 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 11:31:21 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:31:21 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 11:31:21 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 11:31:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:31:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:31:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 11:31:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:31:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:31:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:31:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:31:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 11:31:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 11:31:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:31:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 11:31:21 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 11:31:21 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 9f916a45da7d4672ad5b7d4d06c4c010(unnamed) 
INFO  14-10-2020 11:31:21 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 11:31:21 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 11:31:21 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 11:31:21 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 11:31:22 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 11:31:24 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:31:24 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:31:24 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 233.4321ms 200 text/html 
INFO  14-10-2020 11:31:24 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 233.4321ms 200 text/html 
INFO  14-10-2020 11:31:25 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:31:25 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:31:25 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 233.5245ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:31:25 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 233.5245ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:31:31 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 11:31:31 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 11:31:31 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 11:31:31 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 11:31:31 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 11:31:31 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 11:31:31 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:31:31 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:31:31 QSI.Web.Middleware.LogActionFilter [7] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 11:31:31 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 11:31:31 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 11:31:32 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [7] - Opening Hibernate Session. 
DEBUG 14-10-2020 11:31:32 NHibernate.Impl.SessionImpl [7] - [session-id=84158c79-7867-4bd0-8022-86b291c4a452] opened session at timestamp: 637382718921, for session factory: [/9f916a45da7d4672ad5b7d4d06c4c010] 
DEBUG 14-10-2020 11:31:32 NHibernate.Transaction.AdoTransaction [7] - Begin (Unspecified) 
DEBUG 14-10-2020 11:31:32 NHibernate.Connection.DriverConnectionProvider [7] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:31:32 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 11:31:32 NHibernate.Event.Default.AbstractSaveEventListener [7] - transient instance of: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:31:32 NHibernate.Event.Default.DefaultMergeEventListener [7] - merging transient instance 
DEBUG 14-10-2020 11:31:32 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 11:31:32 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 11:31:32 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: select newid() 
DEBUG 14-10-2020 11:31:32 NHibernate.SQL [7] - 
    select
        newid() 
DEBUG 14-10-2020 11:31:32 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
DEBUG 14-10-2020 11:31:32 NHibernate.AdoNet.AbstractBatcher [7] - ExecuteReader took 1 ms 
DEBUG 14-10-2020 11:31:32 NHibernate.AdoNet.AbstractBatcher [7] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 11:31:32 NHibernate.Type.GuidType [7] - returning 'bb803398-8b1b-46c4-8fd0-054e00ce9b5d' as column:  
DEBUG 14-10-2020 11:31:32 NHibernate.Id.NativeGuidGenerator [7] - GUID identifier generated: bb803398-8b1b-46c4-8fd0-054e00ce9b5d 
DEBUG 14-10-2020 11:31:32 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 11:31:32 NHibernate.AdoNet.AbstractBatcher [7] - DataReader was closed after 7 ms 
DEBUG 14-10-2020 11:31:32 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 11:31:32 NHibernate.Event.Default.AbstractSaveEventListener [7] - generated identifier: bb803398-8b1b-46c4-8fd0-054e00ce9b5d, using strategy: NHibernate.Id.NativeGuidGenerator 
DEBUG 14-10-2020 11:31:32 NHibernate.Event.Default.AbstractSaveEventListener [7] - saving [BookWarehouse.Repository.Models.SupplierContact#bb803398-8b1b-46c4-8fd0-054e00ce9b5d] 
DEBUG 14-10-2020 11:31:32 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 00000000-0000-0000-0000-000000000000 
INFO  14-10-2020 11:31:32 NHibernate.Event.Default.DefaultMergeEventListener [7] - property 'BookWarehouse.Repository.Models.SupplierContact.Supplier' from original entity is in copyCache and is not in the process of being merged; Supplier =[BookWarehouse.Repository.Models.Supplier] NHibernate.PropertyValueException: not-null property references a null or transient value BookWarehouse.Repository.Models.SupplierContact.Supplier
   at NHibernate.Engine.Nullability.CheckNullability(Object[] values, IEntityPersister persister, Boolean isUpdate)
   at NHibernate.Event.Default.AbstractSaveEventListener.PerformSaveOrReplicate(Object entity, EntityKey key, IEntityPersister persister, Boolean useIdentityColumn, Object anything, IEventSource source, Boolean requiresImmediateIdAccess)
   at NHibernate.Event.Default.AbstractSaveEventListener.PerformSave(Object entity, Object id, IEntityPersister persister, Boolean useIdentityColumn, Object anything, IEventSource source, Boolean requiresImmediateIdAccess)
   at NHibernate.Event.Default.AbstractSaveEventListener.SaveWithGeneratedId(Object entity, String entityName, Object anything, IEventSource source, Boolean requiresImmediateIdAccess)
   at NHibernate.Event.Default.DefaultMergeEventListener.MergeTransientEntity(Object entity, String entityName, Object requestedId, IEventSource source, IDictionary copyCache)

INFO  14-10-2020 11:31:32 NHibernate.Event.Default.DefaultMergeEventListener [7] - transient instance could not be processed by merge: BookWarehouse.Repository.Models.Supplier [BookWarehouse.Repository.Models.Supplier] 
DEBUG 14-10-2020 11:31:32 NHibernate.Transaction.AdoTransaction [7] - Rollback 
DEBUG 14-10-2020 11:31:32 NHibernate.Transaction.AdoTransaction [7] - DbTransaction RolledBack 
DEBUG 14-10-2020 11:31:32 NHibernate.Transaction.AdoTransaction [7] - DbTransaction disposed. 
DEBUG 14-10-2020 11:31:32 NHibernate.AdoNet.ConnectionManager [7] - Aggressively releasing database connection 
DEBUG 14-10-2020 11:31:32 NHibernate.Connection.ConnectionProvider [7] - Closing connection 
DEBUG 14-10-2020 11:31:32 NHibernate.Impl.SessionImpl [7] - transaction completion 
DEBUG 14-10-2020 11:31:32 NHibernate.Impl.SessionImpl [7] - closing session 
DEBUG 14-10-2020 11:31:32 NHibernate.AdoNet.AbstractBatcher [7] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 11:32:53 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 11:32:53 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 11:32:53 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 11:32:53 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 11:32:53 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><property name="ContactType" type="QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:32:54 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 11:32:54 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 11:32:54 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:32:54 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:32:54 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:32:54 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:32:54 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 11:32:54 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 11:32:54 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:32:54 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:32:54 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:32:54 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07D14622AE 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07119BC7DB 
INFO  14-10-2020 11:32:54 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 11:32:54 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:32:54 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 11:32:54 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:32:54 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 11:32:54 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 11:32:54 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 11:32:54 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 11:32:54 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 11:32:54 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:32:54 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:32:54 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:32:55 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:32:55 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:32:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:32:55 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:32:55 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:32:55 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 11:32:55 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:32:55 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 11:32:55 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 11:32:55 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:32:55 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:32:55 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 11:32:55 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:32:55 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:32:55 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:32:55 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:32:55 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 11:32:55 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 11:32:55 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:32:55 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 11:32:55 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 11:32:55 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 58a9bbe3385946f1a9a8353e73c6e21b(unnamed) 
INFO  14-10-2020 11:32:55 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 11:32:55 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 11:32:55 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 11:32:55 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 11:32:56 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 11:32:58 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:32:58 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:32:58 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 231.9489ms 200 text/html 
INFO  14-10-2020 11:32:58 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 231.9489ms 200 text/html 
INFO  14-10-2020 11:32:58 Microsoft.AspNetCore.Hosting.Internal.WebHost [15] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:32:58 Microsoft.AspNetCore.Hosting.Internal.WebHost [15] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:32:59 Microsoft.AspNetCore.Hosting.Internal.WebHost [15] - Request finished in 257.9454ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:32:59 Microsoft.AspNetCore.Hosting.Internal.WebHost [15] - Request finished in 257.9454ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:33:36 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 11:33:36 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 11:33:36 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [11] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 11:33:36 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [11] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 11:33:36 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [11] - CORS policy execution successful. 
INFO  14-10-2020 11:33:36 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [11] - CORS policy execution successful. 
INFO  14-10-2020 11:33:36 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [11] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:33:36 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [11] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:33:36 QSI.Web.Middleware.LogActionFilter [11] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 11:33:36 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [11] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 11:33:36 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [11] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 11:33:37 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [11] - Opening Hibernate Session. 
DEBUG 14-10-2020 11:33:37 NHibernate.Impl.SessionImpl [11] - [session-id=833c832f-ded3-40e4-ad25-41e9090f1640] opened session at timestamp: 637382720171, for session factory: [/58a9bbe3385946f1a9a8353e73c6e21b] 
DEBUG 14-10-2020 11:33:37 NHibernate.Transaction.AdoTransaction [11] - Begin (Unspecified) 
DEBUG 14-10-2020 11:33:37 NHibernate.Connection.DriverConnectionProvider [11] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:33:37 NHibernate.Engine.IdentifierValue [11] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 11:33:37 NHibernate.Event.Default.AbstractSaveEventListener [11] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:33:37 NHibernate.Event.Default.DefaultMergeEventListener [11] - merging transient instance 
DEBUG 14-10-2020 11:33:37 NHibernate.AdoNet.AbstractBatcher [11] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 11:33:37 NHibernate.AdoNet.AbstractBatcher [11] - Building an DbCommand object for the SqlString: select newid() 
DEBUG 14-10-2020 11:33:37 NHibernate.SQL [11] - 
    select
        newid() 
DEBUG 14-10-2020 11:33:37 NHibernate.Transaction.AdoTransaction [11] - Enlist Command 
DEBUG 14-10-2020 11:33:37 NHibernate.AdoNet.AbstractBatcher [11] - ExecuteReader took 1 ms 
DEBUG 14-10-2020 11:33:37 NHibernate.AdoNet.AbstractBatcher [11] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 11:33:37 NHibernate.Type.GuidType [11] - returning '7c503f68-533b-4f41-a8d0-cafc8479e6c2' as column:  
DEBUG 14-10-2020 11:33:37 NHibernate.Id.NativeGuidGenerator [11] - GUID identifier generated: 7c503f68-533b-4f41-a8d0-cafc8479e6c2 
DEBUG 14-10-2020 11:33:37 NHibernate.AdoNet.AbstractBatcher [11] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 11:33:37 NHibernate.AdoNet.AbstractBatcher [11] - DataReader was closed after 12 ms 
DEBUG 14-10-2020 11:33:37 NHibernate.AdoNet.AbstractBatcher [11] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 11:33:37 NHibernate.Event.Default.AbstractSaveEventListener [11] - generated identifier: 7c503f68-533b-4f41-a8d0-cafc8479e6c2, using strategy: NHibernate.Id.NativeGuidGenerator 
DEBUG 14-10-2020 11:33:37 NHibernate.Event.Default.AbstractSaveEventListener [11] - saving [BookWarehouse.Repository.Models.Supplier#7c503f68-533b-4f41-a8d0-cafc8479e6c2] 
DEBUG 14-10-2020 11:33:37 NHibernate.Engine.IdentifierValue [11] - unsaved-value: 00000000-0000-0000-0000-000000000000 
INFO  14-10-2020 11:33:37 NHibernate.Event.Default.DefaultMergeEventListener [11] - transient instance could not be processed by merge: BookWarehouse.Repository.Models.SupplierContact [BookWarehouse.Repository.Models.SupplierContact] 
DEBUG 14-10-2020 11:33:37 NHibernate.Transaction.AdoTransaction [11] - Rollback 
DEBUG 14-10-2020 11:33:37 NHibernate.Transaction.AdoTransaction [11] - DbTransaction RolledBack 
DEBUG 14-10-2020 11:33:37 NHibernate.Transaction.AdoTransaction [11] - DbTransaction disposed. 
DEBUG 14-10-2020 11:33:37 NHibernate.AdoNet.ConnectionManager [11] - Aggressively releasing database connection 
DEBUG 14-10-2020 11:33:37 NHibernate.Connection.ConnectionProvider [11] - Closing connection 
DEBUG 14-10-2020 11:33:37 NHibernate.Impl.SessionImpl [11] - transaction completion 
DEBUG 14-10-2020 11:33:37 NHibernate.Impl.SessionImpl [11] - closing session 
DEBUG 14-10-2020 11:33:37 NHibernate.AdoNet.AbstractBatcher [11] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 11:34:37 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 11:34:37 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 11:34:37 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 11:34:37 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 11:34:38 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><property name="ContactType" type="QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 11:34:38 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:34:38 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 11:34:38 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:34:38 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 11:34:38 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 11:34:38 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:34:38 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 11:34:38 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:34:38 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 11:34:38 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:34:38 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 11:34:38 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 11:34:38 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 11:34:38 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 11:34:38 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 11:34:38 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:34:38 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 11:34:38 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 11:34:38 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:34:38 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:34:38 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:34:38 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 11:34:39 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 11:34:39 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:34:39 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:34:39 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 11:34:39 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 11:34:39 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:34:39 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:34:39 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:34:39 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07D14622AE 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07119BC7DB 
INFO  14-10-2020 11:34:39 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 11:34:39 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:34:39 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 11:34:39 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:34:39 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 11:34:39 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 11:34:39 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 11:34:39 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 11:34:39 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 11:34:39 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:34:39 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:34:39 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:34:39 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:34:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:34:39 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:34:39 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:34:39 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 11:34:39 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:34:39 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 11:34:39 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 11:34:39 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:34:39 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:34:39 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 11:34:39 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:34:39 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:34:39 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:34:39 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:34:39 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 11:34:39 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 11:34:39 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:34:39 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 11:34:39 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 11:34:39 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 8b82ec43369c454bb5482d2f3e1cb328(unnamed) 
INFO  14-10-2020 11:34:39 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 11:34:39 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 11:34:39 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 11:34:39 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 11:34:41 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 11:34:42 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:34:42 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:34:43 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 239.7206ms 200 text/html 
INFO  14-10-2020 11:34:43 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 239.7206ms 200 text/html 
INFO  14-10-2020 11:34:43 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:34:43 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:34:43 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 244.5152ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:34:43 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 244.5152ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:34:49 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 11:34:49 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 11:34:49 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [13] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 11:34:49 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [13] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 11:34:49 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [13] - CORS policy execution successful. 
INFO  14-10-2020 11:34:49 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [13] - CORS policy execution successful. 
INFO  14-10-2020 11:34:49 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [13] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:34:49 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [13] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:34:50 QSI.Web.Middleware.LogActionFilter [13] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 11:34:50 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [13] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 11:34:50 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [13] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 11:34:50 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [13] - Opening Hibernate Session. 
DEBUG 14-10-2020 11:34:50 NHibernate.Impl.SessionImpl [13] - [session-id=8a4e9bb7-a7bd-44f9-b255-3034230264bd] opened session at timestamp: 637382720904, for session factory: [/8b82ec43369c454bb5482d2f3e1cb328] 
DEBUG 14-10-2020 11:34:50 NHibernate.Transaction.AdoTransaction [13] - Begin (Unspecified) 
DEBUG 14-10-2020 11:34:50 NHibernate.Connection.DriverConnectionProvider [13] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:34:50 NHibernate.Engine.IdentifierValue [13] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 11:34:50 NHibernate.Event.Default.AbstractSaveEventListener [13] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:34:50 NHibernate.Event.Default.DefaultMergeEventListener [13] - merging transient instance 
DEBUG 14-10-2020 11:34:50 NHibernate.AdoNet.AbstractBatcher [13] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 11:34:50 NHibernate.AdoNet.AbstractBatcher [13] - Building an DbCommand object for the SqlString: select newid() 
DEBUG 14-10-2020 11:34:50 NHibernate.SQL [13] - 
    select
        newid() 
DEBUG 14-10-2020 11:34:50 NHibernate.Transaction.AdoTransaction [13] - Enlist Command 
DEBUG 14-10-2020 11:34:50 NHibernate.AdoNet.AbstractBatcher [13] - ExecuteReader took 1 ms 
DEBUG 14-10-2020 11:34:50 NHibernate.AdoNet.AbstractBatcher [13] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 11:34:50 NHibernate.Type.GuidType [13] - returning '607e30a7-2e3b-4798-a446-8aaca14677c8' as column:  
DEBUG 14-10-2020 11:34:50 NHibernate.Id.NativeGuidGenerator [13] - GUID identifier generated: 607e30a7-2e3b-4798-a446-8aaca14677c8 
DEBUG 14-10-2020 11:34:50 NHibernate.AdoNet.AbstractBatcher [13] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 11:34:50 NHibernate.AdoNet.AbstractBatcher [13] - DataReader was closed after 10 ms 
DEBUG 14-10-2020 11:34:50 NHibernate.AdoNet.AbstractBatcher [13] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 11:34:50 NHibernate.Event.Default.AbstractSaveEventListener [13] - generated identifier: 607e30a7-2e3b-4798-a446-8aaca14677c8, using strategy: NHibernate.Id.NativeGuidGenerator 
DEBUG 14-10-2020 11:34:50 NHibernate.Event.Default.AbstractSaveEventListener [13] - saving [BookWarehouse.Repository.Models.Supplier#607e30a7-2e3b-4798-a446-8aaca14677c8] 
DEBUG 14-10-2020 11:34:50 NHibernate.Engine.IdentifierValue [13] - unsaved-value: 00000000-0000-0000-0000-000000000000 
INFO  14-10-2020 11:34:50 NHibernate.Event.Default.DefaultMergeEventListener [13] - transient instance could not be processed by merge: BookWarehouse.Repository.Models.SupplierContact [BookWarehouse.Repository.Models.SupplierContact] 
DEBUG 14-10-2020 11:34:50 NHibernate.Transaction.AdoTransaction [13] - Rollback 
DEBUG 14-10-2020 11:34:50 NHibernate.Transaction.AdoTransaction [13] - DbTransaction RolledBack 
DEBUG 14-10-2020 11:34:50 NHibernate.Transaction.AdoTransaction [13] - DbTransaction disposed. 
DEBUG 14-10-2020 11:34:50 NHibernate.AdoNet.ConnectionManager [13] - Aggressively releasing database connection 
DEBUG 14-10-2020 11:34:50 NHibernate.Connection.ConnectionProvider [13] - Closing connection 
DEBUG 14-10-2020 11:34:50 NHibernate.Impl.SessionImpl [13] - transaction completion 
DEBUG 14-10-2020 11:34:50 NHibernate.Impl.SessionImpl [13] - closing session 
DEBUG 14-10-2020 11:34:50 NHibernate.AdoNet.AbstractBatcher [13] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 11:36:30 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 11:36:30 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 11:36:30 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 11:36:30 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 11:36:31 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><property name="ContactType" type="QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 11:36:31 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:36:31 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 11:36:31 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:36:31 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 11:36:31 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 11:36:31 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:36:31 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 11:36:31 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:36:31 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 11:36:31 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:36:31 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 11:36:31 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 11:36:31 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 11:36:31 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 11:36:31 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 11:36:31 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:36:31 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 11:36:31 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 11:36:31 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:36:31 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:36:31 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:36:31 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:36:31 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:36:31 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 11:36:31 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 11:36:31 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 11:36:31 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:36:31 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:36:31 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:36:31 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:36:31 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:36:31 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:36:31 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 11:36:31 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 11:36:31 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:36:31 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:36:31 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:36:31 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:36:32 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:36:32 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 11:36:32 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 11:36:32 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:36:32 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:36:32 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:36:32 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:36:32 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:36:32 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07D14622AE 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07119BC7DB 
INFO  14-10-2020 11:36:32 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 11:36:32 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:36:32 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:36:32 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:36:32 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 11:36:32 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:36:32 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 11:36:32 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 11:36:32 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 11:36:32 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 11:36:32 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 11:36:32 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:36:32 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:36:32 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:36:32 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:36:32 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:36:32 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:36:32 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:36:32 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 11:36:32 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:36:32 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 11:36:32 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 11:36:32 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:36:32 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:36:32 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 11:36:32 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:36:32 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:36:32 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:36:32 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:36:32 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 11:36:32 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 11:36:32 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:36:32 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 11:36:32 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 11:36:32 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 4bed53afd9a14704b8e18f20af9dd240(unnamed) 
INFO  14-10-2020 11:36:32 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 11:36:32 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 11:36:32 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 11:36:32 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 11:36:34 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 11:36:35 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:36:35 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:36:36 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 247.7354ms 200 text/html 
INFO  14-10-2020 11:36:36 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 247.7354ms 200 text/html 
INFO  14-10-2020 11:36:36 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:36:36 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:36:36 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 233.5225ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:36:36 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 233.5225ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:37:04 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 11:37:04 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 11:37:04 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [13] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 11:37:04 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [13] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 11:37:04 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [13] - CORS policy execution successful. 
INFO  14-10-2020 11:37:04 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [13] - CORS policy execution successful. 
INFO  14-10-2020 11:37:04 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [13] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:37:04 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [13] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:37:04 QSI.Web.Middleware.LogActionFilter [13] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 11:37:04 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [13] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 11:37:04 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [13] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 11:37:04 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [13] - Opening Hibernate Session. 
DEBUG 14-10-2020 11:37:04 NHibernate.Impl.SessionImpl [13] - [session-id=1c8e2f97-4c95-4198-b673-1f7defdff4eb] opened session at timestamp: 637382722247, for session factory: [/4bed53afd9a14704b8e18f20af9dd240] 
DEBUG 14-10-2020 11:37:04 NHibernate.Transaction.AdoTransaction [13] - Begin (Unspecified) 
DEBUG 14-10-2020 11:37:04 NHibernate.Connection.DriverConnectionProvider [13] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:37:04 NHibernate.Engine.IdentifierValue [13] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 11:37:04 NHibernate.Event.Default.AbstractSaveEventListener [13] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:37:04 NHibernate.Event.Default.DefaultMergeEventListener [13] - merging transient instance 
DEBUG 14-10-2020 11:37:04 NHibernate.AdoNet.AbstractBatcher [13] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 11:37:04 NHibernate.AdoNet.AbstractBatcher [13] - Building an DbCommand object for the SqlString: select newid() 
DEBUG 14-10-2020 11:37:04 NHibernate.SQL [13] - 
    select
        newid() 
DEBUG 14-10-2020 11:37:04 NHibernate.Transaction.AdoTransaction [13] - Enlist Command 
DEBUG 14-10-2020 11:37:04 NHibernate.AdoNet.AbstractBatcher [13] - ExecuteReader took 1 ms 
DEBUG 14-10-2020 11:37:04 NHibernate.AdoNet.AbstractBatcher [13] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 11:37:04 NHibernate.Type.GuidType [13] - returning '8cc68754-fb9a-4177-aa43-981225acb38d' as column:  
DEBUG 14-10-2020 11:37:04 NHibernate.Id.NativeGuidGenerator [13] - GUID identifier generated: 8cc68754-fb9a-4177-aa43-981225acb38d 
DEBUG 14-10-2020 11:37:04 NHibernate.AdoNet.AbstractBatcher [13] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 11:37:04 NHibernate.AdoNet.AbstractBatcher [13] - DataReader was closed after 7 ms 
DEBUG 14-10-2020 11:37:04 NHibernate.AdoNet.AbstractBatcher [13] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 11:37:04 NHibernate.Event.Default.AbstractSaveEventListener [13] - generated identifier: 8cc68754-fb9a-4177-aa43-981225acb38d, using strategy: NHibernate.Id.NativeGuidGenerator 
DEBUG 14-10-2020 11:37:04 NHibernate.Event.Default.AbstractSaveEventListener [13] - saving [BookWarehouse.Repository.Models.Supplier#8cc68754-fb9a-4177-aa43-981225acb38d] 
DEBUG 14-10-2020 11:37:04 NHibernate.Transaction.AdoTransaction [13] - Start Commit 
DEBUG 14-10-2020 11:37:04 NHibernate.Impl.SessionImpl [13] - before transaction completion 
DEBUG 14-10-2020 11:37:04 NHibernate.Event.Default.AbstractFlushingEventListener [13] - flushing session 
DEBUG 14-10-2020 11:37:04 NHibernate.Event.Default.AbstractFlushingEventListener [13] - processing flush-time cascades 
DEBUG 14-10-2020 11:37:04 NHibernate.Event.Default.AbstractFlushingEventListener [13] - dirty checking collections 
DEBUG 14-10-2020 11:37:04 NHibernate.Event.Default.AbstractFlushingEventListener [13] - Flushing entities and processing referenced collections 
DEBUG 14-10-2020 11:37:04 NHibernate.Event.Default.AbstractFlushingEventListener [13] - Processing unreferenced collections 
DEBUG 14-10-2020 11:37:04 NHibernate.Event.Default.AbstractFlushingEventListener [13] - Scheduling collection removes/(re)creates/updates 
DEBUG 14-10-2020 11:37:04 NHibernate.Event.Default.AbstractFlushingEventListener [13] - Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects 
DEBUG 14-10-2020 11:37:04 NHibernate.Event.Default.AbstractFlushingEventListener [13] - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections 
DEBUG 14-10-2020 11:37:04 NHibernate.Impl.Printer [13] - listing entities: 
DEBUG 14-10-2020 11:37:04 NHibernate.Impl.Printer [13] - BookWarehouse.Repository.Models.Supplier{'Id'='8cc68754-fb9a-4177-aa43-981225acb38d', 'Contact'='null', 'Name'='string', 'Address'='string', 'City'='string', 'PostCode'='string'} 
DEBUG 14-10-2020 11:37:04 NHibernate.Event.Default.AbstractFlushingEventListener [13] - executing flush 
DEBUG 14-10-2020 11:37:04 NHibernate.AdoNet.ConnectionManager [13] - Registering flush begin 
DEBUG 14-10-2020 11:37:04 NHibernate.Persister.Entity.AbstractEntityPersister [13] - Inserting entity: [BookWarehouse.Repository.Models.Supplier#8cc68754-fb9a-4177-aa43-981225acb38d] 
DEBUG 14-10-2020 11:37:04 NHibernate.AdoNet.AbstractBatcher [13] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 11:37:04 NHibernate.AdoNet.AbstractBatcher [13] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 11:37:04 NHibernate.Persister.Entity.AbstractEntityPersister [13] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#8cc68754-fb9a-4177-aa43-981225acb38d] 
DEBUG 14-10-2020 11:37:04 NHibernate.Type.StringType [13] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 11:37:04 NHibernate.Type.StringType [13] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 11:37:04 NHibernate.Type.StringType [13] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 11:37:04 NHibernate.Type.StringType [13] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 11:37:04 NHibernate.Type.GuidType [13] - binding '8cc68754-fb9a-4177-aa43-981225acb38d' to parameter: 4 
DEBUG 14-10-2020 11:37:04 NHibernate.AdoNet.AbstractBatcher [13] - Adding to batch:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = 8cc68754-fb9a-4177-aa43-981225acb38d [Type: Guid (0:0:0)] 
DEBUG 14-10-2020 11:37:04 NHibernate.AdoNet.AbstractBatcher [13] - Executing batch 
DEBUG 14-10-2020 11:37:04 NHibernate.SQL [13] - Batch commands:
command 0:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = 8cc68754-fb9a-4177-aa43-981225acb38d [Type: Guid (0:0:0)]
 
DEBUG 14-10-2020 11:37:04 NHibernate.Transaction.AdoTransaction [13] - Enlist Command 
DEBUG 14-10-2020 11:37:04 NHibernate.Util.ADOExceptionReporter [13] - could not execute batch command.
[ SQL not available ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:5515319e-4f0c-44d7-b6ad-ac02f05a6f6e
Error Number:8152,State:30,Class:16

WARN  14-10-2020 11:37:05 NHibernate.Util.ADOExceptionReporter [13] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:5515319e-4f0c-44d7-b6ad-ac02f05a6f6e
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 11:37:05 NHibernate.Util.ADOExceptionReporter [13] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 11:37:05 NHibernate.AdoNet.AbstractBatcher [13] - Closed DbCommand, open DbCommands: 0 
ERROR 14-10-2020 11:37:05 NHibernate.Event.Default.AbstractFlushingEventListener [13] - Could not synchronize database state with session NHibernate.Exceptions.GenericADOException: could not execute batch command.[SQL: SQL not available] ---> System.Data.SqlClient.SqlException: String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   --- End of inner exception stack trace ---
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatchWithTiming(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatch()
   at NHibernate.Engine.ActionQueue.ExecuteActions()
   at NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)

DEBUG 14-10-2020 11:37:05 NHibernate.AdoNet.ConnectionManager [13] - Registering flush end 
DEBUG 14-10-2020 11:37:05 NHibernate.Impl.SessionImpl [13] - closing session 
DEBUG 14-10-2020 11:37:05 NHibernate.AdoNet.AbstractBatcher [13] - running BatcherImpl.Dispose(true) 
DEBUG 14-10-2020 11:37:05 NHibernate.Transaction.AdoTransaction [13] - DbTransaction disposed. 
DEBUG 14-10-2020 11:37:05 NHibernate.AdoNet.ConnectionManager [13] - Aggressively releasing database connection 
DEBUG 14-10-2020 11:37:05 NHibernate.Connection.ConnectionProvider [13] - Closing connection 
DEBUG 14-10-2020 11:37:05 NHibernate.Impl.SessionImpl [13] - transaction completion 
DEBUG 14-10-2020 11:37:25 NHibernate.Impl.SessionImpl [13] - closing session 
INFO  14-10-2020 11:40:56 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 11:40:56 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 11:40:56 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 11:40:56 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 11:40:57 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><property name="ContactType" type="QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 11:40:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:40:57 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 11:40:57 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:40:57 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 11:40:57 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 11:40:57 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:40:57 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 11:40:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:40:57 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 11:40:57 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:40:57 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 11:40:57 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 11:40:57 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 11:40:57 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 11:40:57 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 11:40:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:40:57 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 11:40:57 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 11:40:57 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:40:57 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:40:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:40:57 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 11:40:58 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 11:40:58 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:40:58 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:40:58 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 11:40:58 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 11:40:58 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:40:58 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:40:58 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:40:58 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07D14622AE 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07119BC7DB 
INFO  14-10-2020 11:40:58 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 11:40:58 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:40:58 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 11:40:58 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:40:58 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 11:40:58 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 11:40:58 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 11:40:58 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 11:40:58 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 11:40:58 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:40:58 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:40:58 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:40:58 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:40:58 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:40:58 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:40:58 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:40:58 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 11:40:58 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:40:58 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 11:40:58 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 11:40:58 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:40:58 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:40:58 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 11:40:58 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:40:58 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:40:58 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:40:58 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:40:58 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 11:40:58 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 11:40:58 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:40:58 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 11:40:58 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 11:40:58 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: ccaefe6cfe82457d97f0ad156f7a2c58(unnamed) 
INFO  14-10-2020 11:40:58 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 11:40:58 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 11:40:58 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 11:40:58 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 11:41:00 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 11:41:01 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:41:01 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:41:01 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 239.9658ms 200 text/html 
INFO  14-10-2020 11:41:01 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 239.9658ms 200 text/html 
INFO  14-10-2020 11:41:02 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:41:02 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:41:02 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 240.8318ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:41:02 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 240.8318ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:41:12 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 180 
INFO  14-10-2020 11:41:12 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 180 
WARN  14-10-2020 11:41:12 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 11:41:12 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 11:41:12 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 11:41:12 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 11:41:12 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:41:12 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:41:21 QSI.Web.Middleware.LogActionFilter [7] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 11:41:21 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 11:41:21 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 11:41:21 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [7] - Opening Hibernate Session. 
DEBUG 14-10-2020 11:41:21 NHibernate.Impl.SessionImpl [7] - [session-id=7d510602-ee5c-44ea-8b70-264b5285cd17] opened session at timestamp: 637382724815, for session factory: [/ccaefe6cfe82457d97f0ad156f7a2c58] 
DEBUG 14-10-2020 11:41:21 NHibernate.Transaction.AdoTransaction [7] - Begin (Unspecified) 
DEBUG 14-10-2020 11:41:21 NHibernate.Connection.DriverConnectionProvider [7] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:41:21 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 11:41:21 NHibernate.Event.Default.AbstractSaveEventListener [7] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:41:21 NHibernate.Event.Default.DefaultMergeEventListener [7] - merging transient instance 
DEBUG 14-10-2020 11:41:21 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 11:41:21 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: select newid() 
DEBUG 14-10-2020 11:41:21 NHibernate.SQL [7] - 
    select
        newid() 
DEBUG 14-10-2020 11:41:21 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
DEBUG 14-10-2020 11:41:21 NHibernate.AdoNet.AbstractBatcher [7] - ExecuteReader took 1 ms 
DEBUG 14-10-2020 11:41:21 NHibernate.AdoNet.AbstractBatcher [7] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 11:41:21 NHibernate.Type.GuidType [7] - returning '22edbcbe-d8e2-4d5f-975e-bdeea834aaa5' as column:  
DEBUG 14-10-2020 11:41:21 NHibernate.Id.NativeGuidGenerator [7] - GUID identifier generated: 22edbcbe-d8e2-4d5f-975e-bdeea834aaa5 
DEBUG 14-10-2020 11:41:21 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 11:41:21 NHibernate.AdoNet.AbstractBatcher [7] - DataReader was closed after 12 ms 
DEBUG 14-10-2020 11:41:21 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 11:41:21 NHibernate.Event.Default.AbstractSaveEventListener [7] - generated identifier: 22edbcbe-d8e2-4d5f-975e-bdeea834aaa5, using strategy: NHibernate.Id.NativeGuidGenerator 
DEBUG 14-10-2020 11:41:21 NHibernate.Event.Default.AbstractSaveEventListener [7] - saving [BookWarehouse.Repository.Models.Supplier#22edbcbe-d8e2-4d5f-975e-bdeea834aaa5] 
DEBUG 14-10-2020 11:41:21 NHibernate.Transaction.AdoTransaction [7] - Start Commit 
DEBUG 14-10-2020 11:41:21 NHibernate.Impl.SessionImpl [7] - before transaction completion 
DEBUG 14-10-2020 11:41:21 NHibernate.Event.Default.AbstractFlushingEventListener [7] - flushing session 
DEBUG 14-10-2020 11:41:21 NHibernate.Event.Default.AbstractFlushingEventListener [7] - processing flush-time cascades 
DEBUG 14-10-2020 11:41:21 NHibernate.Event.Default.AbstractFlushingEventListener [7] - dirty checking collections 
DEBUG 14-10-2020 11:41:21 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Flushing entities and processing referenced collections 
DEBUG 14-10-2020 11:41:21 NHibernate.Event.Default.WrapVisitor [7] - Wrapped collection in role: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 11:41:21 NHibernate.Engine.Collections [7] - Collection found: [BookWarehouse.Repository.Models.Supplier.Contact#22edbcbe-d8e2-4d5f-975e-bdeea834aaa5], was: [<unreferenced>] (initialized) 
DEBUG 14-10-2020 11:41:21 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Processing unreferenced collections 
DEBUG 14-10-2020 11:41:21 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Scheduling collection removes/(re)creates/updates 
DEBUG 14-10-2020 11:41:21 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects 
DEBUG 14-10-2020 11:41:21 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Flushed: 1 (re)creations, 0 updates, 0 removals to 1 collections 
DEBUG 14-10-2020 11:41:21 NHibernate.Impl.Printer [7] - listing entities: 
DEBUG 14-10-2020 11:41:21 NHibernate.Impl.Printer [7] - BookWarehouse.Repository.Models.Supplier{'Id'='22edbcbe-d8e2-4d5f-975e-bdeea834aaa5', 'Contact'='[]', 'Name'='string', 'Address'='string', 'City'='string', 'PostCode'='string'} 
DEBUG 14-10-2020 11:41:21 NHibernate.Event.Default.AbstractFlushingEventListener [7] - executing flush 
DEBUG 14-10-2020 11:41:21 NHibernate.AdoNet.ConnectionManager [7] - Registering flush begin 
DEBUG 14-10-2020 11:41:21 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Inserting entity: [BookWarehouse.Repository.Models.Supplier#22edbcbe-d8e2-4d5f-975e-bdeea834aaa5] 
DEBUG 14-10-2020 11:41:21 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 11:41:21 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 11:41:21 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#22edbcbe-d8e2-4d5f-975e-bdeea834aaa5] 
DEBUG 14-10-2020 11:41:21 NHibernate.Type.StringType [7] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 11:41:21 NHibernate.Type.StringType [7] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 11:41:21 NHibernate.Type.StringType [7] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 11:41:21 NHibernate.Type.StringType [7] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 11:41:21 NHibernate.Type.GuidType [7] - binding '22edbcbe-d8e2-4d5f-975e-bdeea834aaa5' to parameter: 4 
DEBUG 14-10-2020 11:41:21 NHibernate.AdoNet.AbstractBatcher [7] - Adding to batch:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = 22edbcbe-d8e2-4d5f-975e-bdeea834aaa5 [Type: Guid (0:0:0)] 
DEBUG 14-10-2020 11:41:21 NHibernate.AdoNet.AbstractBatcher [7] - Executing batch 
DEBUG 14-10-2020 11:41:21 NHibernate.SQL [7] - Batch commands:
command 0:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = 22edbcbe-d8e2-4d5f-975e-bdeea834aaa5 [Type: Guid (0:0:0)]
 
DEBUG 14-10-2020 11:41:21 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
DEBUG 14-10-2020 11:41:21 NHibernate.Util.ADOExceptionReporter [7] - could not execute batch command.
[ SQL not available ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:382a5443-c581-4e5d-95f8-446a6731d4e8
Error Number:8152,State:30,Class:16

WARN  14-10-2020 11:41:21 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:382a5443-c581-4e5d-95f8-446a6731d4e8
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 11:41:21 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 11:41:21 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
ERROR 14-10-2020 11:41:21 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Could not synchronize database state with session NHibernate.Exceptions.GenericADOException: could not execute batch command.[SQL: SQL not available] ---> System.Data.SqlClient.SqlException: String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   --- End of inner exception stack trace ---
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatchWithTiming(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatch()
   at NHibernate.Engine.ActionQueue.ExecuteActions()
   at NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)

DEBUG 14-10-2020 11:41:21 NHibernate.AdoNet.ConnectionManager [7] - Registering flush end 
DEBUG 14-10-2020 11:41:21 NHibernate.Impl.SessionImpl [7] - closing session 
DEBUG 14-10-2020 11:41:21 NHibernate.AdoNet.AbstractBatcher [7] - running BatcherImpl.Dispose(true) 
DEBUG 14-10-2020 11:41:21 NHibernate.Transaction.AdoTransaction [7] - DbTransaction disposed. 
DEBUG 14-10-2020 11:41:21 NHibernate.AdoNet.ConnectionManager [7] - Aggressively releasing database connection 
DEBUG 14-10-2020 11:41:21 NHibernate.Connection.ConnectionProvider [7] - Closing connection 
DEBUG 14-10-2020 11:41:21 NHibernate.Impl.SessionImpl [7] - transaction completion 
DEBUG 14-10-2020 11:41:34 NHibernate.Impl.SessionImpl [7] - closing session 
INFO  14-10-2020 11:43:51 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 11:43:51 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 11:43:51 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 11:43:51 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 11:43:51 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><property name="ContactType" type="QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:43:52 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 11:43:52 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 11:43:52 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:43:52 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:43:52 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:43:52 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:43:52 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 11:43:52 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 11:43:52 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:43:52 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:43:52 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:43:52 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07D14622AE 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07119BC7DB 
INFO  14-10-2020 11:43:52 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 11:43:52 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:43:52 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 11:43:52 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:43:52 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 11:43:52 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 11:43:52 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 11:43:52 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 11:43:52 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 11:43:52 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:43:52 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:43:52 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:43:52 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:43:52 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:43:52 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:43:52 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:43:52 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 11:43:52 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:43:52 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 11:43:52 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 11:43:52 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:43:52 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:43:52 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 11:43:52 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:43:52 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:43:52 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:43:52 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:43:52 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 11:43:52 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 11:43:52 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:43:52 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 11:43:52 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 11:43:52 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: e96c0244c53443cca8b72294c16e7bde(unnamed) 
INFO  14-10-2020 11:43:52 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 11:43:52 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 11:43:52 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 11:43:52 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 11:43:54 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 11:43:56 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:43:56 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:43:56 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 237.4162ms 200 text/html 
INFO  14-10-2020 11:43:56 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 237.4162ms 200 text/html 
INFO  14-10-2020 11:43:56 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:43:56 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:43:56 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 316.6043ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:43:56 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 316.6043ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:44:02 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 11:44:02 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 11:44:02 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 11:44:02 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 11:44:02 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 11:44:02 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 11:44:02 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:44:02 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:44:03 QSI.Web.Middleware.LogActionFilter [7] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 11:44:03 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 11:44:03 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 11:44:03 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [7] - Opening Hibernate Session. 
DEBUG 14-10-2020 11:44:03 NHibernate.Impl.SessionImpl [7] - [session-id=483e15ff-0b12-4f82-a0e0-5fcca07508fa] opened session at timestamp: 637382726431, for session factory: [/e96c0244c53443cca8b72294c16e7bde] 
DEBUG 14-10-2020 11:44:03 NHibernate.Transaction.AdoTransaction [7] - Begin (Unspecified) 
DEBUG 14-10-2020 11:44:03 NHibernate.Connection.DriverConnectionProvider [7] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:44:03 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 11:44:03 NHibernate.Event.Default.AbstractSaveEventListener [7] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:44:03 NHibernate.Event.Default.DefaultMergeEventListener [7] - merging transient instance 
DEBUG 14-10-2020 11:44:03 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 11:44:03 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: select newid() 
DEBUG 14-10-2020 11:44:03 NHibernate.SQL [7] - 
    select
        newid() 
DEBUG 14-10-2020 11:44:03 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
DEBUG 14-10-2020 11:44:03 NHibernate.AdoNet.AbstractBatcher [7] - ExecuteReader took 1 ms 
DEBUG 14-10-2020 11:44:03 NHibernate.AdoNet.AbstractBatcher [7] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 11:44:03 NHibernate.Type.GuidType [7] - returning 'fcc7d40e-89c7-4671-a1fa-d203984b6901' as column:  
DEBUG 14-10-2020 11:44:03 NHibernate.Id.NativeGuidGenerator [7] - GUID identifier generated: fcc7d40e-89c7-4671-a1fa-d203984b6901 
DEBUG 14-10-2020 11:44:03 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 11:44:03 NHibernate.AdoNet.AbstractBatcher [7] - DataReader was closed after 17 ms 
DEBUG 14-10-2020 11:44:03 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 11:44:03 NHibernate.Event.Default.AbstractSaveEventListener [7] - generated identifier: fcc7d40e-89c7-4671-a1fa-d203984b6901, using strategy: NHibernate.Id.NativeGuidGenerator 
DEBUG 14-10-2020 11:44:03 NHibernate.Event.Default.AbstractSaveEventListener [7] - saving [BookWarehouse.Repository.Models.Supplier#fcc7d40e-89c7-4671-a1fa-d203984b6901] 
DEBUG 14-10-2020 11:44:03 NHibernate.Transaction.AdoTransaction [7] - Start Commit 
DEBUG 14-10-2020 11:44:03 NHibernate.Impl.SessionImpl [7] - before transaction completion 
DEBUG 14-10-2020 11:44:03 NHibernate.Event.Default.AbstractFlushingEventListener [7] - flushing session 
DEBUG 14-10-2020 11:44:03 NHibernate.Event.Default.AbstractFlushingEventListener [7] - processing flush-time cascades 
DEBUG 14-10-2020 11:44:03 NHibernate.Event.Default.AbstractFlushingEventListener [7] - dirty checking collections 
DEBUG 14-10-2020 11:44:03 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Flushing entities and processing referenced collections 
DEBUG 14-10-2020 11:44:03 NHibernate.Event.Default.WrapVisitor [7] - Wrapped collection in role: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 11:44:03 NHibernate.Engine.Collections [7] - Collection found: [BookWarehouse.Repository.Models.Supplier.Contact#fcc7d40e-89c7-4671-a1fa-d203984b6901], was: [<unreferenced>] (initialized) 
DEBUG 14-10-2020 11:44:03 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Processing unreferenced collections 
DEBUG 14-10-2020 11:44:03 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Scheduling collection removes/(re)creates/updates 
DEBUG 14-10-2020 11:44:03 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects 
DEBUG 14-10-2020 11:44:03 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Flushed: 1 (re)creations, 0 updates, 0 removals to 1 collections 
DEBUG 14-10-2020 11:44:03 NHibernate.Impl.Printer [7] - listing entities: 
DEBUG 14-10-2020 11:44:03 NHibernate.Impl.Printer [7] - BookWarehouse.Repository.Models.Supplier{'Id'='fcc7d40e-89c7-4671-a1fa-d203984b6901', 'Contact'='[]', 'Name'='string', 'Address'='string', 'City'='string', 'PostCode'='string'} 
DEBUG 14-10-2020 11:44:03 NHibernate.Event.Default.AbstractFlushingEventListener [7] - executing flush 
DEBUG 14-10-2020 11:44:03 NHibernate.AdoNet.ConnectionManager [7] - Registering flush begin 
DEBUG 14-10-2020 11:44:03 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Inserting entity: [BookWarehouse.Repository.Models.Supplier#fcc7d40e-89c7-4671-a1fa-d203984b6901] 
DEBUG 14-10-2020 11:44:03 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 11:44:03 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 11:44:03 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#fcc7d40e-89c7-4671-a1fa-d203984b6901] 
DEBUG 14-10-2020 11:44:03 NHibernate.Type.StringType [7] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 11:44:03 NHibernate.Type.StringType [7] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 11:44:03 NHibernate.Type.StringType [7] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 11:44:03 NHibernate.Type.StringType [7] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 11:44:03 NHibernate.Type.GuidType [7] - binding 'fcc7d40e-89c7-4671-a1fa-d203984b6901' to parameter: 4 
DEBUG 14-10-2020 11:44:03 NHibernate.AdoNet.AbstractBatcher [7] - Adding to batch:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = fcc7d40e-89c7-4671-a1fa-d203984b6901 [Type: Guid (0:0:0)] 
DEBUG 14-10-2020 11:44:03 NHibernate.AdoNet.AbstractBatcher [7] - Executing batch 
DEBUG 14-10-2020 11:44:03 NHibernate.SQL [7] - Batch commands:
command 0:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = fcc7d40e-89c7-4671-a1fa-d203984b6901 [Type: Guid (0:0:0)]
 
DEBUG 14-10-2020 11:44:03 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
DEBUG 14-10-2020 11:44:03 NHibernate.Util.ADOExceptionReporter [7] - could not execute batch command.
[ SQL not available ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:8157a253-d30a-4992-9680-a06ce1477cea
Error Number:8152,State:30,Class:16

WARN  14-10-2020 11:44:03 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:8157a253-d30a-4992-9680-a06ce1477cea
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 11:44:03 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 11:44:03 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
ERROR 14-10-2020 11:44:03 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Could not synchronize database state with session NHibernate.Exceptions.GenericADOException: could not execute batch command.[SQL: SQL not available] ---> System.Data.SqlClient.SqlException: String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   --- End of inner exception stack trace ---
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatchWithTiming(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatch()
   at NHibernate.Engine.ActionQueue.ExecuteActions()
   at NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)

DEBUG 14-10-2020 11:44:03 NHibernate.AdoNet.ConnectionManager [7] - Registering flush end 
DEBUG 14-10-2020 11:44:03 NHibernate.Impl.SessionImpl [7] - closing session 
DEBUG 14-10-2020 11:44:03 NHibernate.AdoNet.AbstractBatcher [7] - running BatcherImpl.Dispose(true) 
DEBUG 14-10-2020 11:44:03 NHibernate.Transaction.AdoTransaction [7] - DbTransaction disposed. 
DEBUG 14-10-2020 11:44:03 NHibernate.AdoNet.ConnectionManager [7] - Aggressively releasing database connection 
DEBUG 14-10-2020 11:44:03 NHibernate.Connection.ConnectionProvider [7] - Closing connection 
DEBUG 14-10-2020 11:44:03 NHibernate.Impl.SessionImpl [7] - transaction completion 
INFO  14-10-2020 11:47:54 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 11:47:54 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 11:47:54 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 11:47:54 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 11:47:54 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><property name="ContactType" type="QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[QSI.Common.Contact.ContactType, QSI.Common, Version=1.2.6.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 11:47:55 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:47:55 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:47:55 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
ERROR 14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - could not complete schema validation NHibernate.SchemaValidationException: Schema validation failed: see list of validation errors
   at NHibernate.Cfg.Configuration.ValidateSchema(Dialect dialect, IDatabaseMetadata databaseMetadata)
   at NHibernate.Tool.hbm2ddl.SchemaValidator.Validate()

DEBUG 14-10-2020 11:47:55 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier_contact') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier_contact 
DEBUG 14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier 
DEBUG 14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier_contact (
        Id UNIQUEIDENTIFIER not null,
       ContactType INT not null,
       Value NVARCHAR(255) not null,
       supplier_id UNIQUEIDENTIFIER not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier (
        Id UNIQUEIDENTIFIER not null,
       Name NVARCHAR(150) not null,
       Address NVARCHAR(255) not null,
       City NVARCHAR(50) not null,
       PostCode NVARCHAR(5) not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (supplier_id) 
        references supplier 
DEBUG 14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (id) 
        references supplier 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 11:47:55 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:47:55 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:47:55 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
DEBUG 14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier_contact (Id UNIQUEIDENTIFIER not null, ContactType INT not null, Value NVARCHAR(255) not null, supplier_id UNIQUEIDENTIFIER not null, primary key (Id)) 
DEBUG 14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier (Id UNIQUEIDENTIFIER not null, Name NVARCHAR(150) not null, Address NVARCHAR(255) not null, City NVARCHAR(50) not null, PostCode NVARCHAR(5) not null, primary key (Id)) 
DEBUG 14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (supplier_id) references supplier 
DEBUG 14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier 
ERROR 14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Unsuccessful: alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'fk_supplier_id' in the database.
Could not create constraint or index. See previous errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.Tool.hbm2ddl.SchemaUpdate.Execute(Action`1 scriptAction, Boolean doUpdate)
ClientConnectionId:8c570892-c5db-435a-ae29-d546699b3812
Error Number:2714,State:5,Class:16

INFO  14-10-2020 11:47:55 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 11:47:55 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:47:55 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:56 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 11:47:56 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 11:47:56 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 11:47:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 11:47:56 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 11:47:56 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 11:47:56 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 11:47:56 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 11:47:56 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:47:56 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 11:47:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:47:56 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:47:56 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 11:47:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 11:47:56 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:47:56 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:47:56 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 11:47:56 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:47:56 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 11:47:56 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 11:47:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 11:47:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:47:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 11:47:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 11:47:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 11:47:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 11:47:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:47:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 11:47:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 11:47:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 11:47:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 11:47:56 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 11:47:56 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 0cf85419c8744225af7886d2ff47e0c6(unnamed) 
INFO  14-10-2020 11:47:56 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 11:47:56 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 11:47:56 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 11:47:56 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 11:47:57 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 11:47:59 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:47:59 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 11:47:59 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 239.8862ms 200 text/html 
INFO  14-10-2020 11:47:59 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 239.8862ms 200 text/html 
INFO  14-10-2020 11:47:59 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:47:59 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 11:48:00 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 226.0448ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:48:00 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 226.0448ms 200 application/json;charset=utf-8 
INFO  14-10-2020 11:48:25 Microsoft.AspNetCore.Hosting.Internal.WebHost [15] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 182 
INFO  14-10-2020 11:48:25 Microsoft.AspNetCore.Hosting.Internal.WebHost [15] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 182 
WARN  14-10-2020 11:48:25 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [15] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 11:48:25 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [15] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 11:48:25 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [15] - CORS policy execution successful. 
INFO  14-10-2020 11:48:25 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [15] - CORS policy execution successful. 
INFO  14-10-2020 11:48:25 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [15] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:48:25 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [15] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 11:48:26 QSI.Web.Middleware.LogActionFilter [15] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 11:48:26 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [15] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 11:48:26 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [15] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 11:48:26 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [15] - Opening Hibernate Session. 
DEBUG 14-10-2020 11:48:26 NHibernate.Impl.SessionImpl [15] - [session-id=7d08236e-f244-49b8-a369-51560f5becae] opened session at timestamp: 637382729062, for session factory: [/0cf85419c8744225af7886d2ff47e0c6] 
DEBUG 14-10-2020 11:48:26 NHibernate.Transaction.AdoTransaction [15] - Begin (Unspecified) 
DEBUG 14-10-2020 11:48:26 NHibernate.Connection.DriverConnectionProvider [15] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 11:48:26 NHibernate.Engine.IdentifierValue [15] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 11:48:26 NHibernate.Event.Default.AbstractSaveEventListener [15] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 11:48:26 NHibernate.Event.Default.DefaultMergeEventListener [15] - merging transient instance 
DEBUG 14-10-2020 11:48:26 NHibernate.AdoNet.AbstractBatcher [15] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 11:48:26 NHibernate.AdoNet.AbstractBatcher [15] - Building an DbCommand object for the SqlString: select newid() 
DEBUG 14-10-2020 11:48:26 NHibernate.SQL [15] - 
    select
        newid() 
DEBUG 14-10-2020 11:48:26 NHibernate.Transaction.AdoTransaction [15] - Enlist Command 
DEBUG 14-10-2020 11:48:26 NHibernate.AdoNet.AbstractBatcher [15] - ExecuteReader took 1 ms 
DEBUG 14-10-2020 11:48:26 NHibernate.AdoNet.AbstractBatcher [15] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 11:48:26 NHibernate.Type.GuidType [15] - returning 'b27f1efc-1e00-482c-8748-1dbc90286bb0' as column:  
DEBUG 14-10-2020 11:48:26 NHibernate.Id.NativeGuidGenerator [15] - GUID identifier generated: b27f1efc-1e00-482c-8748-1dbc90286bb0 
DEBUG 14-10-2020 11:48:26 NHibernate.AdoNet.AbstractBatcher [15] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 11:48:26 NHibernate.AdoNet.AbstractBatcher [15] - DataReader was closed after 8 ms 
DEBUG 14-10-2020 11:48:26 NHibernate.AdoNet.AbstractBatcher [15] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 11:48:26 NHibernate.Event.Default.AbstractSaveEventListener [15] - generated identifier: b27f1efc-1e00-482c-8748-1dbc90286bb0, using strategy: NHibernate.Id.NativeGuidGenerator 
DEBUG 14-10-2020 11:48:26 NHibernate.Event.Default.AbstractSaveEventListener [15] - saving [BookWarehouse.Repository.Models.Supplier#b27f1efc-1e00-482c-8748-1dbc90286bb0] 
DEBUG 14-10-2020 11:48:26 NHibernate.Transaction.AdoTransaction [15] - Start Commit 
DEBUG 14-10-2020 11:48:26 NHibernate.Impl.SessionImpl [15] - before transaction completion 
DEBUG 14-10-2020 11:48:26 NHibernate.Event.Default.AbstractFlushingEventListener [15] - flushing session 
DEBUG 14-10-2020 11:48:26 NHibernate.Event.Default.AbstractFlushingEventListener [15] - processing flush-time cascades 
DEBUG 14-10-2020 11:48:26 NHibernate.Event.Default.AbstractFlushingEventListener [15] - dirty checking collections 
DEBUG 14-10-2020 11:48:26 NHibernate.Event.Default.AbstractFlushingEventListener [15] - Flushing entities and processing referenced collections 
DEBUG 14-10-2020 11:48:26 NHibernate.Event.Default.WrapVisitor [15] - Wrapped collection in role: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 11:48:26 NHibernate.Engine.Collections [15] - Collection found: [BookWarehouse.Repository.Models.Supplier.Contact#b27f1efc-1e00-482c-8748-1dbc90286bb0], was: [<unreferenced>] (initialized) 
DEBUG 14-10-2020 11:48:26 NHibernate.Event.Default.AbstractFlushingEventListener [15] - Processing unreferenced collections 
DEBUG 14-10-2020 11:48:26 NHibernate.Event.Default.AbstractFlushingEventListener [15] - Scheduling collection removes/(re)creates/updates 
DEBUG 14-10-2020 11:48:26 NHibernate.Event.Default.AbstractFlushingEventListener [15] - Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects 
DEBUG 14-10-2020 11:48:26 NHibernate.Event.Default.AbstractFlushingEventListener [15] - Flushed: 1 (re)creations, 0 updates, 0 removals to 1 collections 
DEBUG 14-10-2020 11:48:26 NHibernate.Impl.Printer [15] - listing entities: 
DEBUG 14-10-2020 11:48:26 NHibernate.Impl.Printer [15] - BookWarehouse.Repository.Models.Supplier{'Id'='b27f1efc-1e00-482c-8748-1dbc90286bb0', 'Contact'='[]', 'Name'='string', 'Address'='string', 'City'='string', 'PostCode'='string'} 
DEBUG 14-10-2020 11:48:26 NHibernate.Event.Default.AbstractFlushingEventListener [15] - executing flush 
DEBUG 14-10-2020 11:48:26 NHibernate.AdoNet.ConnectionManager [15] - Registering flush begin 
DEBUG 14-10-2020 11:48:26 NHibernate.Persister.Entity.AbstractEntityPersister [15] - Inserting entity: [BookWarehouse.Repository.Models.Supplier#b27f1efc-1e00-482c-8748-1dbc90286bb0] 
DEBUG 14-10-2020 11:48:26 NHibernate.AdoNet.AbstractBatcher [15] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 11:48:26 NHibernate.AdoNet.AbstractBatcher [15] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 11:48:26 NHibernate.Persister.Entity.AbstractEntityPersister [15] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#b27f1efc-1e00-482c-8748-1dbc90286bb0] 
DEBUG 14-10-2020 11:48:26 NHibernate.Type.StringType [15] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 11:48:26 NHibernate.Type.StringType [15] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 11:48:26 NHibernate.Type.StringType [15] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 11:48:26 NHibernate.Type.StringType [15] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 11:48:26 NHibernate.Type.GuidType [15] - binding 'b27f1efc-1e00-482c-8748-1dbc90286bb0' to parameter: 4 
DEBUG 14-10-2020 11:48:26 NHibernate.AdoNet.AbstractBatcher [15] - Adding to batch:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = b27f1efc-1e00-482c-8748-1dbc90286bb0 [Type: Guid (0:0:0)] 
DEBUG 14-10-2020 11:48:26 NHibernate.AdoNet.AbstractBatcher [15] - Executing batch 
DEBUG 14-10-2020 11:48:26 NHibernate.SQL [15] - Batch commands:
command 0:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = b27f1efc-1e00-482c-8748-1dbc90286bb0 [Type: Guid (0:0:0)]
 
DEBUG 14-10-2020 11:48:26 NHibernate.Transaction.AdoTransaction [15] - Enlist Command 
DEBUG 14-10-2020 11:48:26 NHibernate.Util.ADOExceptionReporter [15] - could not execute batch command.
[ SQL not available ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:8c570892-c5db-435a-ae29-d546699b3812
Error Number:8152,State:30,Class:16

WARN  14-10-2020 11:48:26 NHibernate.Util.ADOExceptionReporter [15] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:8c570892-c5db-435a-ae29-d546699b3812
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 11:48:26 NHibernate.Util.ADOExceptionReporter [15] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 11:48:26 NHibernate.AdoNet.AbstractBatcher [15] - Closed DbCommand, open DbCommands: 0 
ERROR 14-10-2020 11:48:26 NHibernate.Event.Default.AbstractFlushingEventListener [15] - Could not synchronize database state with session NHibernate.Exceptions.GenericADOException: could not execute batch command.[SQL: SQL not available] ---> System.Data.SqlClient.SqlException: String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   --- End of inner exception stack trace ---
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatchWithTiming(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatch()
   at NHibernate.Engine.ActionQueue.ExecuteActions()
   at NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)

DEBUG 14-10-2020 11:48:26 NHibernate.AdoNet.ConnectionManager [15] - Registering flush end 
DEBUG 14-10-2020 11:48:26 NHibernate.Impl.SessionImpl [15] - closing session 
DEBUG 14-10-2020 11:48:26 NHibernate.AdoNet.AbstractBatcher [15] - running BatcherImpl.Dispose(true) 
DEBUG 14-10-2020 11:48:26 NHibernate.Transaction.AdoTransaction [15] - DbTransaction disposed. 
DEBUG 14-10-2020 11:48:26 NHibernate.AdoNet.ConnectionManager [15] - Aggressively releasing database connection 
DEBUG 14-10-2020 11:48:26 NHibernate.Connection.ConnectionProvider [15] - Closing connection 
DEBUG 14-10-2020 11:48:26 NHibernate.Impl.SessionImpl [15] - transaction completion 
DEBUG 14-10-2020 11:55:17 NHibernate.Impl.SessionImpl [15] - closing session 
INFO  14-10-2020 12:00:23 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 12:00:23 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 12:00:23 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 12:00:23 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 12:00:24 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 12:00:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:00:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 12:00:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 12:00:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 12:00:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 12:00:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 12:00:24 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 12:00:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:00:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 12:00:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 12:00:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 12:00:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 12:00:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 12:00:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 12:00:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 12:00:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:00:24 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 12:00:24 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 12:00:24 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 12:00:24 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 12:00:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 12:00:24 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 12:00:25 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 12:00:25 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 12:00:25 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:00:25 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 12:00:25 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 12:00:25 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 12:00:25 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 12:00:25 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 12:00:25 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07F430B5AA 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC071936CF71 
INFO  14-10-2020 12:00:25 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 12:00:25 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:00:25 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 12:00:25 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 12:00:25 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 12:00:25 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 12:00:25 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 12:00:25 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 12:00:25 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 12:00:25 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 12:00:25 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 12:00:25 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 12:00:25 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 12:00:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 12:00:25 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 12:00:25 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 12:00:25 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 12:00:25 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 12:00:25 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 12:00:25 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 12:00:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 12:00:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 12:00:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 12:00:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 12:00:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 12:00:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 12:00:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 12:00:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 12:00:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 12:00:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 12:00:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 12:00:25 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 12:00:25 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 3aad6649fee14f36bd5ad103a46bdf48(unnamed) 
INFO  14-10-2020 12:00:25 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 12:00:25 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 12:00:25 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 12:00:25 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 12:00:27 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 12:00:29 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 12:00:29 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 12:00:29 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 271.6949ms 200 text/html 
INFO  14-10-2020 12:00:29 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 271.6949ms 200 text/html 
INFO  14-10-2020 12:00:29 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 12:00:29 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 12:00:30 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 312.1765ms 200 application/json;charset=utf-8 
INFO  14-10-2020 12:00:30 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 312.1765ms 200 application/json;charset=utf-8 
INFO  14-10-2020 12:00:33 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 12:00:33 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 12:00:33 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 12:00:33 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 12:00:33 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 12:00:33 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 12:00:33 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 12:00:33 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 12:00:34 QSI.Web.Middleware.LogActionFilter [7] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 12:00:34 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 12:00:34 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 12:02:40 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executed action BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) in 126357.4801ms 
INFO  14-10-2020 12:02:40 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executed action BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) in 126357.4801ms 
INFO  14-10-2020 12:02:40 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 126588.2306ms 500 application/json 
INFO  14-10-2020 12:02:40 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 126588.2306ms 500 application/json 
INFO  14-10-2020 12:03:02 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 12:03:02 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 12:03:02 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 12:03:02 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 12:03:02 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 12:03:02 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 12:03:02 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 12:03:02 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 12:03:02 QSI.Web.Middleware.LogActionFilter [6] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 12:03:02 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 12:03:02 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 12:03:02 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [6] - Opening Hibernate Session. 
DEBUG 14-10-2020 12:03:02 NHibernate.Impl.SessionImpl [6] - [session-id=bfa28f0e-e2fe-4410-8e30-7fad259ecd55] opened session at timestamp: 637382737827, for session factory: [/3aad6649fee14f36bd5ad103a46bdf48] 
DEBUG 14-10-2020 12:03:02 NHibernate.Transaction.AdoTransaction [6] - Begin (Unspecified) 
DEBUG 14-10-2020 12:03:02 NHibernate.Connection.DriverConnectionProvider [6] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 12:03:02 NHibernate.Engine.IdentifierValue [6] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 12:03:02 NHibernate.Event.Default.AbstractSaveEventListener [6] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 12:03:02 NHibernate.Event.Default.DefaultMergeEventListener [6] - merging transient instance 
DEBUG 14-10-2020 12:03:02 NHibernate.AdoNet.AbstractBatcher [6] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 12:03:02 NHibernate.AdoNet.AbstractBatcher [6] - Building an DbCommand object for the SqlString: select newid() 
DEBUG 14-10-2020 12:03:02 NHibernate.SQL [6] - 
    select
        newid() 
DEBUG 14-10-2020 12:03:02 NHibernate.Transaction.AdoTransaction [6] - Enlist Command 
DEBUG 14-10-2020 12:03:02 NHibernate.AdoNet.AbstractBatcher [6] - ExecuteReader took 1 ms 
DEBUG 14-10-2020 12:03:02 NHibernate.AdoNet.AbstractBatcher [6] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 12:03:02 NHibernate.Type.GuidType [6] - returning 'a0e15e91-efee-43d0-95a1-cd36e894e6b5' as column:  
DEBUG 14-10-2020 12:03:02 NHibernate.Id.NativeGuidGenerator [6] - GUID identifier generated: a0e15e91-efee-43d0-95a1-cd36e894e6b5 
DEBUG 14-10-2020 12:03:02 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 12:03:02 NHibernate.AdoNet.AbstractBatcher [6] - DataReader was closed after 11 ms 
DEBUG 14-10-2020 12:03:02 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 12:03:02 NHibernate.Event.Default.AbstractSaveEventListener [6] - generated identifier: a0e15e91-efee-43d0-95a1-cd36e894e6b5, using strategy: NHibernate.Id.NativeGuidGenerator 
DEBUG 14-10-2020 12:03:02 NHibernate.Event.Default.AbstractSaveEventListener [6] - saving [BookWarehouse.Repository.Models.Supplier#a0e15e91-efee-43d0-95a1-cd36e894e6b5] 
DEBUG 14-10-2020 12:03:02 NHibernate.Transaction.AdoTransaction [6] - Start Commit 
DEBUG 14-10-2020 12:03:02 NHibernate.Impl.SessionImpl [6] - before transaction completion 
DEBUG 14-10-2020 12:03:02 NHibernate.Event.Default.AbstractFlushingEventListener [6] - flushing session 
DEBUG 14-10-2020 12:03:02 NHibernate.Event.Default.AbstractFlushingEventListener [6] - processing flush-time cascades 
DEBUG 14-10-2020 12:03:02 NHibernate.Event.Default.AbstractFlushingEventListener [6] - dirty checking collections 
DEBUG 14-10-2020 12:03:02 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushing entities and processing referenced collections 
DEBUG 14-10-2020 12:03:02 NHibernate.Event.Default.WrapVisitor [6] - Wrapped collection in role: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 12:03:02 NHibernate.Engine.Collections [6] - Collection found: [BookWarehouse.Repository.Models.Supplier.Contact#a0e15e91-efee-43d0-95a1-cd36e894e6b5], was: [<unreferenced>] (initialized) 
DEBUG 14-10-2020 12:03:02 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Processing unreferenced collections 
DEBUG 14-10-2020 12:03:02 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Scheduling collection removes/(re)creates/updates 
DEBUG 14-10-2020 12:03:02 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects 
DEBUG 14-10-2020 12:03:02 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushed: 1 (re)creations, 0 updates, 0 removals to 1 collections 
DEBUG 14-10-2020 12:03:02 NHibernate.Impl.Printer [6] - listing entities: 
DEBUG 14-10-2020 12:03:02 NHibernate.Impl.Printer [6] - BookWarehouse.Repository.Models.Supplier{'Id'='a0e15e91-efee-43d0-95a1-cd36e894e6b5', 'Contact'='[]', 'Name'='string', 'Address'='string', 'City'='string', 'PostCode'='string'} 
DEBUG 14-10-2020 12:03:02 NHibernate.Event.Default.AbstractFlushingEventListener [6] - executing flush 
DEBUG 14-10-2020 12:03:02 NHibernate.AdoNet.ConnectionManager [6] - Registering flush begin 
DEBUG 14-10-2020 12:03:02 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Inserting entity: [BookWarehouse.Repository.Models.Supplier#a0e15e91-efee-43d0-95a1-cd36e894e6b5] 
DEBUG 14-10-2020 12:03:02 NHibernate.AdoNet.AbstractBatcher [6] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 12:03:02 NHibernate.AdoNet.AbstractBatcher [6] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 12:03:02 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#a0e15e91-efee-43d0-95a1-cd36e894e6b5] 
DEBUG 14-10-2020 12:03:02 NHibernate.Type.StringType [6] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 12:03:02 NHibernate.Type.StringType [6] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 12:03:02 NHibernate.Type.StringType [6] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 12:03:02 NHibernate.Type.StringType [6] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 12:03:02 NHibernate.Type.GuidType [6] - binding 'a0e15e91-efee-43d0-95a1-cd36e894e6b5' to parameter: 4 
DEBUG 14-10-2020 12:03:02 NHibernate.AdoNet.AbstractBatcher [6] - Adding to batch:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = a0e15e91-efee-43d0-95a1-cd36e894e6b5 [Type: Guid (0:0:0)] 
DEBUG 14-10-2020 12:03:02 NHibernate.AdoNet.AbstractBatcher [6] - Executing batch 
DEBUG 14-10-2020 12:03:02 NHibernate.SQL [6] - Batch commands:
command 0:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = a0e15e91-efee-43d0-95a1-cd36e894e6b5 [Type: Guid (0:0:0)]
 
DEBUG 14-10-2020 12:03:02 NHibernate.Transaction.AdoTransaction [6] - Enlist Command 
DEBUG 14-10-2020 12:03:02 NHibernate.Util.ADOExceptionReporter [6] - could not execute batch command.
[ SQL not available ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:afcf3ace-0a1a-448a-86c9-14da0d2bf0a5
Error Number:8152,State:30,Class:16

WARN  14-10-2020 12:03:03 NHibernate.Util.ADOExceptionReporter [6] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:afcf3ace-0a1a-448a-86c9-14da0d2bf0a5
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 12:03:03 NHibernate.Util.ADOExceptionReporter [6] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 12:03:03 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbCommand, open DbCommands: 0 
ERROR 14-10-2020 12:03:03 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Could not synchronize database state with session NHibernate.Exceptions.GenericADOException: could not execute batch command.[SQL: SQL not available] ---> System.Data.SqlClient.SqlException: String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   --- End of inner exception stack trace ---
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatchWithTiming(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatch()
   at NHibernate.Engine.ActionQueue.ExecuteActions()
   at NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)

DEBUG 14-10-2020 12:03:03 NHibernate.AdoNet.ConnectionManager [6] - Registering flush end 
DEBUG 14-10-2020 12:03:03 NHibernate.Impl.SessionImpl [6] - closing session 
DEBUG 14-10-2020 12:03:03 NHibernate.AdoNet.AbstractBatcher [6] - running BatcherImpl.Dispose(true) 
DEBUG 14-10-2020 12:03:03 NHibernate.Transaction.AdoTransaction [6] - DbTransaction disposed. 
DEBUG 14-10-2020 12:03:03 NHibernate.AdoNet.ConnectionManager [6] - Aggressively releasing database connection 
DEBUG 14-10-2020 12:03:03 NHibernate.Connection.ConnectionProvider [6] - Closing connection 
DEBUG 14-10-2020 12:03:03 NHibernate.Impl.SessionImpl [6] - transaction completion 
INFO  14-10-2020 12:03:54 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 12:03:54 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 12:03:54 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 12:03:54 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 12:03:55 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 12:03:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:03:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 12:03:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 12:03:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 12:03:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 12:03:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 12:03:55 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 12:03:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:03:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 12:03:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 12:03:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 12:03:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 12:03:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 12:03:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 12:03:55 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 12:03:55 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:03:55 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 12:03:55 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 12:03:55 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 12:03:55 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 12:03:56 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 12:03:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 12:03:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 12:03:56 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:03:56 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 12:03:56 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 12:03:56 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 12:03:56 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 12:03:56 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 12:03:56 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07F430B5AA 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC071936CF71 
INFO  14-10-2020 12:03:56 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 12:03:56 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:03:56 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 12:03:56 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 12:03:56 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 12:03:56 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 12:03:56 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 12:03:56 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 12:03:56 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 12:03:56 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 12:03:56 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 12:03:56 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 12:03:56 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 12:03:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 12:03:56 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 12:03:56 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 12:03:56 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 12:03:56 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 12:03:56 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 12:03:56 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 12:03:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 12:03:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 12:03:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 12:03:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 12:03:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 12:03:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 12:03:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 12:03:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 12:03:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 12:03:56 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 12:03:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 12:03:56 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 12:03:56 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 169bf4fdaf0f4952a0c4db203772c142(unnamed) 
INFO  14-10-2020 12:03:56 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 12:03:56 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 12:03:56 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 12:03:56 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 12:03:58 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 12:03:59 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 12:03:59 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 12:04:00 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 268.4157ms 200 text/html 
INFO  14-10-2020 12:04:00 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 268.4157ms 200 text/html 
INFO  14-10-2020 12:04:00 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 12:04:00 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 12:04:00 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 251.1392ms 200 application/json;charset=utf-8 
INFO  14-10-2020 12:04:00 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 251.1392ms 200 application/json;charset=utf-8 
INFO  14-10-2020 12:04:04 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 12:04:04 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 12:04:04 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 12:04:04 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 12:04:04 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 12:04:04 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 12:04:04 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 12:04:04 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 12:04:08 QSI.Web.Middleware.LogActionFilter [6] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 12:04:08 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 12:04:08 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 12:04:08 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [6] - Opening Hibernate Session. 
DEBUG 14-10-2020 12:04:08 NHibernate.Impl.SessionImpl [6] - [session-id=9a77bcb6-c8e9-408f-a4b1-75291ae6573d] opened session at timestamp: 637382738486, for session factory: [/169bf4fdaf0f4952a0c4db203772c142] 
DEBUG 14-10-2020 12:04:08 NHibernate.Transaction.AdoTransaction [6] - Begin (Unspecified) 
DEBUG 14-10-2020 12:04:08 NHibernate.Connection.DriverConnectionProvider [6] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 12:04:08 NHibernate.Engine.IdentifierValue [6] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 12:04:08 NHibernate.Event.Default.AbstractSaveEventListener [6] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 12:04:08 NHibernate.Event.Default.DefaultMergeEventListener [6] - merging transient instance 
DEBUG 14-10-2020 12:04:08 NHibernate.AdoNet.AbstractBatcher [6] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 12:04:08 NHibernate.AdoNet.AbstractBatcher [6] - Building an DbCommand object for the SqlString: select newid() 
DEBUG 14-10-2020 12:04:08 NHibernate.SQL [6] - 
    select
        newid() 
DEBUG 14-10-2020 12:04:08 NHibernate.Transaction.AdoTransaction [6] - Enlist Command 
DEBUG 14-10-2020 12:04:08 NHibernate.AdoNet.AbstractBatcher [6] - ExecuteReader took 0 ms 
DEBUG 14-10-2020 12:04:08 NHibernate.AdoNet.AbstractBatcher [6] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 12:04:08 NHibernate.Type.GuidType [6] - returning '1ba8e036-9f58-40a6-befd-1038088844a1' as column:  
DEBUG 14-10-2020 12:04:08 NHibernate.Id.NativeGuidGenerator [6] - GUID identifier generated: 1ba8e036-9f58-40a6-befd-1038088844a1 
DEBUG 14-10-2020 12:04:08 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 12:04:08 NHibernate.AdoNet.AbstractBatcher [6] - DataReader was closed after 8 ms 
DEBUG 14-10-2020 12:04:08 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 12:04:08 NHibernate.Event.Default.AbstractSaveEventListener [6] - generated identifier: 1ba8e036-9f58-40a6-befd-1038088844a1, using strategy: NHibernate.Id.NativeGuidGenerator 
DEBUG 14-10-2020 12:04:08 NHibernate.Event.Default.AbstractSaveEventListener [6] - saving [BookWarehouse.Repository.Models.Supplier#1ba8e036-9f58-40a6-befd-1038088844a1] 
DEBUG 14-10-2020 12:04:08 NHibernate.Transaction.AdoTransaction [6] - Start Commit 
DEBUG 14-10-2020 12:04:08 NHibernate.Impl.SessionImpl [6] - before transaction completion 
DEBUG 14-10-2020 12:04:08 NHibernate.Event.Default.AbstractFlushingEventListener [6] - flushing session 
DEBUG 14-10-2020 12:04:08 NHibernate.Event.Default.AbstractFlushingEventListener [6] - processing flush-time cascades 
DEBUG 14-10-2020 12:04:08 NHibernate.Event.Default.AbstractFlushingEventListener [6] - dirty checking collections 
DEBUG 14-10-2020 12:04:08 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushing entities and processing referenced collections 
DEBUG 14-10-2020 12:04:08 NHibernate.Event.Default.WrapVisitor [6] - Wrapped collection in role: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 12:04:08 NHibernate.Engine.Collections [6] - Collection found: [BookWarehouse.Repository.Models.Supplier.Contact#1ba8e036-9f58-40a6-befd-1038088844a1], was: [<unreferenced>] (initialized) 
DEBUG 14-10-2020 12:04:08 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Processing unreferenced collections 
DEBUG 14-10-2020 12:04:08 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Scheduling collection removes/(re)creates/updates 
DEBUG 14-10-2020 12:04:08 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects 
DEBUG 14-10-2020 12:04:08 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushed: 1 (re)creations, 0 updates, 0 removals to 1 collections 
DEBUG 14-10-2020 12:04:08 NHibernate.Impl.Printer [6] - listing entities: 
DEBUG 14-10-2020 12:04:08 NHibernate.Impl.Printer [6] - BookWarehouse.Repository.Models.Supplier{'Id'='1ba8e036-9f58-40a6-befd-1038088844a1', 'Contact'='[]', 'Name'='string', 'Address'='string', 'City'='string', 'PostCode'='string'} 
DEBUG 14-10-2020 12:04:08 NHibernate.Event.Default.AbstractFlushingEventListener [6] - executing flush 
DEBUG 14-10-2020 12:04:08 NHibernate.AdoNet.ConnectionManager [6] - Registering flush begin 
DEBUG 14-10-2020 12:04:08 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Inserting entity: [BookWarehouse.Repository.Models.Supplier#1ba8e036-9f58-40a6-befd-1038088844a1] 
DEBUG 14-10-2020 12:04:08 NHibernate.AdoNet.AbstractBatcher [6] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 12:04:08 NHibernate.AdoNet.AbstractBatcher [6] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 12:04:08 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#1ba8e036-9f58-40a6-befd-1038088844a1] 
DEBUG 14-10-2020 12:04:08 NHibernate.Type.StringType [6] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 12:04:08 NHibernate.Type.StringType [6] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 12:04:08 NHibernate.Type.StringType [6] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 12:04:08 NHibernate.Type.StringType [6] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 12:04:08 NHibernate.Type.GuidType [6] - binding '1ba8e036-9f58-40a6-befd-1038088844a1' to parameter: 4 
DEBUG 14-10-2020 12:04:08 NHibernate.AdoNet.AbstractBatcher [6] - Adding to batch:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = 1ba8e036-9f58-40a6-befd-1038088844a1 [Type: Guid (0:0:0)] 
DEBUG 14-10-2020 12:04:08 NHibernate.AdoNet.AbstractBatcher [6] - Executing batch 
DEBUG 14-10-2020 12:04:08 NHibernate.SQL [6] - Batch commands:
command 0:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = 1ba8e036-9f58-40a6-befd-1038088844a1 [Type: Guid (0:0:0)]
 
DEBUG 14-10-2020 12:04:08 NHibernate.Transaction.AdoTransaction [6] - Enlist Command 
DEBUG 14-10-2020 12:04:08 NHibernate.Util.ADOExceptionReporter [6] - could not execute batch command.
[ SQL not available ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:975eca34-1dab-44c8-b7e0-2b917ad7a9ee
Error Number:8152,State:30,Class:16

WARN  14-10-2020 12:04:08 NHibernate.Util.ADOExceptionReporter [6] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:975eca34-1dab-44c8-b7e0-2b917ad7a9ee
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 12:04:08 NHibernate.Util.ADOExceptionReporter [6] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 12:04:08 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbCommand, open DbCommands: 0 
ERROR 14-10-2020 12:04:08 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Could not synchronize database state with session NHibernate.Exceptions.GenericADOException: could not execute batch command.[SQL: SQL not available] ---> System.Data.SqlClient.SqlException: String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   --- End of inner exception stack trace ---
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatchWithTiming(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatch()
   at NHibernate.Engine.ActionQueue.ExecuteActions()
   at NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)

DEBUG 14-10-2020 12:04:08 NHibernate.AdoNet.ConnectionManager [6] - Registering flush end 
DEBUG 14-10-2020 12:04:08 NHibernate.Impl.SessionImpl [6] - closing session 
DEBUG 14-10-2020 12:04:08 NHibernate.AdoNet.AbstractBatcher [6] - running BatcherImpl.Dispose(true) 
DEBUG 14-10-2020 12:04:08 NHibernate.Transaction.AdoTransaction [6] - DbTransaction disposed. 
DEBUG 14-10-2020 12:04:08 NHibernate.AdoNet.ConnectionManager [6] - Aggressively releasing database connection 
DEBUG 14-10-2020 12:04:08 NHibernate.Connection.ConnectionProvider [6] - Closing connection 
DEBUG 14-10-2020 12:04:08 NHibernate.Impl.SessionImpl [6] - transaction completion 
DEBUG 14-10-2020 13:00:26 NHibernate.Impl.SessionImpl [6] - closing session 
INFO  14-10-2020 13:15:19 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 13:15:19 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 13:15:19 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 13:15:19 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 13:15:20 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 13:15:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 13:15:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 13:15:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 13:15:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 13:15:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 13:15:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 13:15:20 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 13:15:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 13:15:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 13:15:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 13:15:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 13:15:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 13:15:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 13:15:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 13:15:20 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 13:15:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 13:15:20 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 13:15:20 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 13:15:20 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 13:15:20 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 13:15:20 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 13:15:20 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 13:15:21 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 13:15:21 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 13:15:21 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 13:15:21 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 13:15:21 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 13:15:21 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 13:15:21 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 13:15:21 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 13:15:21 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07F430B5AA 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC071936CF71 
INFO  14-10-2020 13:15:21 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 13:15:21 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 13:15:21 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 13:15:21 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 13:15:21 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 13:15:21 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 13:15:21 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 13:15:21 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 13:15:21 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 13:15:21 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 13:15:21 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 13:15:21 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 13:15:21 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 13:15:21 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 13:15:21 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 13:15:21 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 13:15:21 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 13:15:21 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 13:15:21 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 13:15:21 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 13:15:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 13:15:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 13:15:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 13:15:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 13:15:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 13:15:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 13:15:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 13:15:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 13:15:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 13:15:21 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 13:15:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 13:15:21 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 13:15:21 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 802b95a66beb4f23ad672607d094e793(unnamed) 
INFO  14-10-2020 13:15:21 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 13:15:21 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 13:15:21 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 13:15:21 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 13:15:22 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 13:15:24 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 13:15:24 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 13:15:24 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 293.869ms 200 text/html 
INFO  14-10-2020 13:15:24 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 293.869ms 200 text/html 
INFO  14-10-2020 13:15:25 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 13:15:25 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 13:15:25 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 239.34ms 200 application/json;charset=utf-8 
INFO  14-10-2020 13:15:25 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 239.34ms 200 application/json;charset=utf-8 
INFO  14-10-2020 13:15:34 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 13:15:34 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 13:15:34 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 13:15:34 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 13:15:34 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 13:15:34 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 13:15:34 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 13:15:34 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 13:15:34 QSI.Web.Middleware.LogActionFilter [7] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 13:15:34 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 13:15:34 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 13:15:34 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [7] - Opening Hibernate Session. 
DEBUG 14-10-2020 13:15:34 NHibernate.Impl.SessionImpl [7] - [session-id=7a12f732-70c8-497b-98e9-f31a2f7ef8fd] opened session at timestamp: 637382781349, for session factory: [/802b95a66beb4f23ad672607d094e793] 
DEBUG 14-10-2020 13:15:34 NHibernate.Transaction.AdoTransaction [7] - Begin (Unspecified) 
DEBUG 14-10-2020 13:15:34 NHibernate.Connection.DriverConnectionProvider [7] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 13:15:34 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 13:15:34 NHibernate.Event.Default.AbstractSaveEventListener [7] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 13:15:34 NHibernate.Event.Default.DefaultMergeEventListener [7] - merging transient instance 
DEBUG 14-10-2020 13:15:34 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 13:15:34 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: select newid() 
DEBUG 14-10-2020 13:15:35 NHibernate.SQL [7] - 
    select
        newid() 
DEBUG 14-10-2020 13:15:35 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
DEBUG 14-10-2020 13:15:35 NHibernate.AdoNet.AbstractBatcher [7] - ExecuteReader took 1 ms 
DEBUG 14-10-2020 13:15:35 NHibernate.AdoNet.AbstractBatcher [7] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 13:15:35 NHibernate.Type.GuidType [7] - returning '39d6d5a8-c570-4a1e-b146-69c56276f0eb' as column:  
DEBUG 14-10-2020 13:15:35 NHibernate.Id.NativeGuidGenerator [7] - GUID identifier generated: 39d6d5a8-c570-4a1e-b146-69c56276f0eb 
DEBUG 14-10-2020 13:15:35 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 13:15:35 NHibernate.AdoNet.AbstractBatcher [7] - DataReader was closed after 9 ms 
DEBUG 14-10-2020 13:15:35 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 13:15:35 NHibernate.Event.Default.AbstractSaveEventListener [7] - generated identifier: 39d6d5a8-c570-4a1e-b146-69c56276f0eb, using strategy: NHibernate.Id.NativeGuidGenerator 
DEBUG 14-10-2020 13:15:35 NHibernate.Event.Default.AbstractSaveEventListener [7] - saving [BookWarehouse.Repository.Models.Supplier#39d6d5a8-c570-4a1e-b146-69c56276f0eb] 
DEBUG 14-10-2020 13:15:35 NHibernate.Transaction.AdoTransaction [7] - Start Commit 
DEBUG 14-10-2020 13:15:35 NHibernate.Impl.SessionImpl [7] - before transaction completion 
DEBUG 14-10-2020 13:15:35 NHibernate.Event.Default.AbstractFlushingEventListener [7] - flushing session 
DEBUG 14-10-2020 13:15:35 NHibernate.Event.Default.AbstractFlushingEventListener [7] - processing flush-time cascades 
DEBUG 14-10-2020 13:15:35 NHibernate.Event.Default.AbstractFlushingEventListener [7] - dirty checking collections 
DEBUG 14-10-2020 13:15:35 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Flushing entities and processing referenced collections 
DEBUG 14-10-2020 13:15:35 NHibernate.Event.Default.WrapVisitor [7] - Wrapped collection in role: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 13:15:35 NHibernate.Engine.Collections [7] - Collection found: [BookWarehouse.Repository.Models.Supplier.Contact#39d6d5a8-c570-4a1e-b146-69c56276f0eb], was: [<unreferenced>] (initialized) 
DEBUG 14-10-2020 13:15:35 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Processing unreferenced collections 
DEBUG 14-10-2020 13:15:35 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Scheduling collection removes/(re)creates/updates 
DEBUG 14-10-2020 13:15:35 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects 
DEBUG 14-10-2020 13:15:35 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Flushed: 1 (re)creations, 0 updates, 0 removals to 1 collections 
DEBUG 14-10-2020 13:15:35 NHibernate.Impl.Printer [7] - listing entities: 
DEBUG 14-10-2020 13:15:35 NHibernate.Impl.Printer [7] - BookWarehouse.Repository.Models.Supplier{'Id'='39d6d5a8-c570-4a1e-b146-69c56276f0eb', 'Contact'='[]', 'Name'='string', 'Address'='string', 'City'='string', 'PostCode'='string'} 
DEBUG 14-10-2020 13:15:35 NHibernate.Event.Default.AbstractFlushingEventListener [7] - executing flush 
DEBUG 14-10-2020 13:15:35 NHibernate.AdoNet.ConnectionManager [7] - Registering flush begin 
DEBUG 14-10-2020 13:15:35 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Inserting entity: [BookWarehouse.Repository.Models.Supplier#39d6d5a8-c570-4a1e-b146-69c56276f0eb] 
DEBUG 14-10-2020 13:15:35 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 13:15:35 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 13:15:35 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#39d6d5a8-c570-4a1e-b146-69c56276f0eb] 
DEBUG 14-10-2020 13:15:35 NHibernate.Type.StringType [7] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 13:15:35 NHibernate.Type.StringType [7] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 13:15:35 NHibernate.Type.StringType [7] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 13:15:35 NHibernate.Type.StringType [7] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 13:15:35 NHibernate.Type.GuidType [7] - binding '39d6d5a8-c570-4a1e-b146-69c56276f0eb' to parameter: 4 
DEBUG 14-10-2020 13:15:35 NHibernate.AdoNet.AbstractBatcher [7] - Adding to batch:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = 39d6d5a8-c570-4a1e-b146-69c56276f0eb [Type: Guid (0:0:0)] 
DEBUG 14-10-2020 13:15:35 NHibernate.AdoNet.AbstractBatcher [7] - Executing batch 
DEBUG 14-10-2020 13:15:35 NHibernate.SQL [7] - Batch commands:
command 0:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = 39d6d5a8-c570-4a1e-b146-69c56276f0eb [Type: Guid (0:0:0)]
 
DEBUG 14-10-2020 13:15:35 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
DEBUG 14-10-2020 13:15:35 NHibernate.Util.ADOExceptionReporter [7] - could not execute batch command.
[ SQL not available ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:cc6ff079-9a26-4eb7-8cb6-80a47c7d46e9
Error Number:8152,State:30,Class:16

WARN  14-10-2020 13:15:35 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:cc6ff079-9a26-4eb7-8cb6-80a47c7d46e9
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 13:15:35 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 13:15:35 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
ERROR 14-10-2020 13:15:35 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Could not synchronize database state with session NHibernate.Exceptions.GenericADOException: could not execute batch command.[SQL: SQL not available] ---> System.Data.SqlClient.SqlException: String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   --- End of inner exception stack trace ---
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatchWithTiming(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatch()
   at NHibernate.Engine.ActionQueue.ExecuteActions()
   at NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)

DEBUG 14-10-2020 13:15:35 NHibernate.AdoNet.ConnectionManager [7] - Registering flush end 
DEBUG 14-10-2020 13:15:35 NHibernate.Impl.SessionImpl [7] - closing session 
DEBUG 14-10-2020 13:15:35 NHibernate.AdoNet.AbstractBatcher [7] - running BatcherImpl.Dispose(true) 
DEBUG 14-10-2020 13:15:35 NHibernate.Transaction.AdoTransaction [7] - DbTransaction disposed. 
DEBUG 14-10-2020 13:15:35 NHibernate.AdoNet.ConnectionManager [7] - Aggressively releasing database connection 
DEBUG 14-10-2020 13:15:35 NHibernate.Connection.ConnectionProvider [7] - Closing connection 
DEBUG 14-10-2020 13:15:35 NHibernate.Impl.SessionImpl [7] - transaction completion 
INFO  14-10-2020 14:12:55 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 14:12:55 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 14:12:55 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 14:12:55 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 14:12:56 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 14:12:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:12:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 14:12:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 14:12:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 14:12:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 14:12:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:12:56 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 14:12:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:12:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 14:12:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 14:12:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 14:12:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 14:12:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 14:12:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 14:12:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 14:12:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:12:56 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 14:12:56 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 14:12:56 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:12:56 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:12:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:12:56 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 14:12:57 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 14:12:57 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:12:57 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:12:57 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 14:12:57 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 14:12:57 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:12:57 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:12:57 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:12:57 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07F430B5AA 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC071936CF71 
INFO  14-10-2020 14:12:57 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 14:12:57 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:12:57 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 14:12:57 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:12:57 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 14:12:57 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 14:12:57 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 14:12:57 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 14:12:57 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 14:12:57 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:12:57 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:12:57 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:12:57 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:12:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:12:57 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:12:57 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:12:57 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 14:12:57 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:12:57 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 14:12:57 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 14:12:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:12:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:12:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 14:12:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:12:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:12:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:12:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:12:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 14:12:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 14:12:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:12:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 14:12:57 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 14:12:57 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 3f0eb5ea29f343ca9f77805fe808bce0(unnamed) 
INFO  14-10-2020 14:12:57 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 14:12:57 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 14:12:57 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 14:12:57 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 14:12:58 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 14:13:01 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:13:01 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:13:01 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 303.0643ms 200 text/html 
INFO  14-10-2020 14:13:01 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 303.0643ms 200 text/html 
INFO  14-10-2020 14:13:01 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:13:01 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:13:02 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request finished in 228.987ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:13:02 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request finished in 228.987ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:13:06 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 14:13:06 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 14:13:06 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 14:13:06 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 14:13:06 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 14:13:06 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 14:13:07 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:13:07 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:13:07 QSI.Web.Middleware.LogActionFilter [6] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 14:13:07 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 14:13:07 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 14:13:07 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [6] - Opening Hibernate Session. 
DEBUG 14-10-2020 14:13:07 NHibernate.Impl.SessionImpl [6] - [session-id=3d1c1b99-e94b-4e42-b08e-3e6f90aaf25f] opened session at timestamp: 637382815875, for session factory: [/3f0eb5ea29f343ca9f77805fe808bce0] 
DEBUG 14-10-2020 14:13:07 NHibernate.Transaction.AdoTransaction [6] - Begin (Unspecified) 
DEBUG 14-10-2020 14:13:07 NHibernate.Connection.DriverConnectionProvider [6] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:13:07 NHibernate.Engine.IdentifierValue [6] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 14:13:07 NHibernate.Event.Default.AbstractSaveEventListener [6] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:13:07 NHibernate.Event.Default.DefaultMergeEventListener [6] - merging transient instance 
DEBUG 14-10-2020 14:13:07 NHibernate.AdoNet.AbstractBatcher [6] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 14:13:07 NHibernate.AdoNet.AbstractBatcher [6] - Building an DbCommand object for the SqlString: select newid() 
DEBUG 14-10-2020 14:13:07 NHibernate.SQL [6] - 
    select
        newid() 
DEBUG 14-10-2020 14:13:07 NHibernate.Transaction.AdoTransaction [6] - Enlist Command 
DEBUG 14-10-2020 14:13:07 NHibernate.AdoNet.AbstractBatcher [6] - ExecuteReader took 1 ms 
DEBUG 14-10-2020 14:13:07 NHibernate.AdoNet.AbstractBatcher [6] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 14:13:07 NHibernate.Type.GuidType [6] - returning '09020680-7747-4fa6-9212-8f1dfd80c63a' as column:  
DEBUG 14-10-2020 14:13:07 NHibernate.Id.NativeGuidGenerator [6] - GUID identifier generated: 09020680-7747-4fa6-9212-8f1dfd80c63a 
DEBUG 14-10-2020 14:13:07 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 14:13:07 NHibernate.AdoNet.AbstractBatcher [6] - DataReader was closed after 11 ms 
DEBUG 14-10-2020 14:13:07 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 14:13:07 NHibernate.Event.Default.AbstractSaveEventListener [6] - generated identifier: 09020680-7747-4fa6-9212-8f1dfd80c63a, using strategy: NHibernate.Id.NativeGuidGenerator 
DEBUG 14-10-2020 14:13:07 NHibernate.Event.Default.AbstractSaveEventListener [6] - saving [BookWarehouse.Repository.Models.Supplier#09020680-7747-4fa6-9212-8f1dfd80c63a] 
DEBUG 14-10-2020 14:13:07 NHibernate.Transaction.AdoTransaction [6] - Start Commit 
DEBUG 14-10-2020 14:13:07 NHibernate.Impl.SessionImpl [6] - before transaction completion 
DEBUG 14-10-2020 14:13:07 NHibernate.Event.Default.AbstractFlushingEventListener [6] - flushing session 
DEBUG 14-10-2020 14:13:07 NHibernate.Event.Default.AbstractFlushingEventListener [6] - processing flush-time cascades 
DEBUG 14-10-2020 14:13:07 NHibernate.Event.Default.AbstractFlushingEventListener [6] - dirty checking collections 
DEBUG 14-10-2020 14:13:07 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushing entities and processing referenced collections 
DEBUG 14-10-2020 14:13:07 NHibernate.Event.Default.WrapVisitor [6] - Wrapped collection in role: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 14:13:07 NHibernate.Engine.Collections [6] - Collection found: [BookWarehouse.Repository.Models.Supplier.Contact#09020680-7747-4fa6-9212-8f1dfd80c63a], was: [<unreferenced>] (initialized) 
DEBUG 14-10-2020 14:13:07 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Processing unreferenced collections 
DEBUG 14-10-2020 14:13:07 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Scheduling collection removes/(re)creates/updates 
DEBUG 14-10-2020 14:13:07 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects 
DEBUG 14-10-2020 14:13:07 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushed: 1 (re)creations, 0 updates, 0 removals to 1 collections 
DEBUG 14-10-2020 14:13:07 NHibernate.Impl.Printer [6] - listing entities: 
DEBUG 14-10-2020 14:13:07 NHibernate.Impl.Printer [6] - BookWarehouse.Repository.Models.Supplier{'Id'='09020680-7747-4fa6-9212-8f1dfd80c63a', 'Contact'='[]', 'Name'='string', 'Address'='string', 'City'='string', 'PostCode'='string'} 
DEBUG 14-10-2020 14:13:07 NHibernate.Event.Default.AbstractFlushingEventListener [6] - executing flush 
DEBUG 14-10-2020 14:13:07 NHibernate.AdoNet.ConnectionManager [6] - Registering flush begin 
DEBUG 14-10-2020 14:13:07 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Inserting entity: [BookWarehouse.Repository.Models.Supplier#09020680-7747-4fa6-9212-8f1dfd80c63a] 
DEBUG 14-10-2020 14:13:07 NHibernate.AdoNet.AbstractBatcher [6] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 14:13:07 NHibernate.AdoNet.AbstractBatcher [6] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 14:13:07 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#09020680-7747-4fa6-9212-8f1dfd80c63a] 
DEBUG 14-10-2020 14:13:07 NHibernate.Type.StringType [6] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 14:13:07 NHibernate.Type.StringType [6] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 14:13:07 NHibernate.Type.StringType [6] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 14:13:07 NHibernate.Type.StringType [6] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 14:13:07 NHibernate.Type.GuidType [6] - binding '09020680-7747-4fa6-9212-8f1dfd80c63a' to parameter: 4 
DEBUG 14-10-2020 14:13:07 NHibernate.AdoNet.AbstractBatcher [6] - Adding to batch:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = 09020680-7747-4fa6-9212-8f1dfd80c63a [Type: Guid (0:0:0)] 
DEBUG 14-10-2020 14:13:07 NHibernate.AdoNet.AbstractBatcher [6] - Executing batch 
DEBUG 14-10-2020 14:13:07 NHibernate.SQL [6] - Batch commands:
command 0:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = 09020680-7747-4fa6-9212-8f1dfd80c63a [Type: Guid (0:0:0)]
 
DEBUG 14-10-2020 14:13:07 NHibernate.Transaction.AdoTransaction [6] - Enlist Command 
DEBUG 14-10-2020 14:13:07 NHibernate.Util.ADOExceptionReporter [6] - could not execute batch command.
[ SQL not available ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:0c727401-a406-481f-83a2-918af997ccd1
Error Number:8152,State:30,Class:16

WARN  14-10-2020 14:13:07 NHibernate.Util.ADOExceptionReporter [6] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:0c727401-a406-481f-83a2-918af997ccd1
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 14:13:07 NHibernate.Util.ADOExceptionReporter [6] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 14:13:07 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbCommand, open DbCommands: 0 
ERROR 14-10-2020 14:13:07 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Could not synchronize database state with session NHibernate.Exceptions.GenericADOException: could not execute batch command.[SQL: SQL not available] ---> System.Data.SqlClient.SqlException: String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   --- End of inner exception stack trace ---
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatchWithTiming(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatch()
   at NHibernate.Engine.ActionQueue.ExecuteActions()
   at NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)

DEBUG 14-10-2020 14:13:07 NHibernate.AdoNet.ConnectionManager [6] - Registering flush end 
DEBUG 14-10-2020 14:13:07 NHibernate.Impl.SessionImpl [6] - closing session 
DEBUG 14-10-2020 14:13:07 NHibernate.AdoNet.AbstractBatcher [6] - running BatcherImpl.Dispose(true) 
DEBUG 14-10-2020 14:13:07 NHibernate.Transaction.AdoTransaction [6] - DbTransaction disposed. 
DEBUG 14-10-2020 14:13:07 NHibernate.AdoNet.ConnectionManager [6] - Aggressively releasing database connection 
DEBUG 14-10-2020 14:13:07 NHibernate.Connection.ConnectionProvider [6] - Closing connection 
DEBUG 14-10-2020 14:13:07 NHibernate.Impl.SessionImpl [6] - transaction completion 
INFO  14-10-2020 14:28:48 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 14:28:48 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 14:28:48 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 14:28:48 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 14:28:48 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 14:28:49 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 14:28:49 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:28:49 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:28:49 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
ERROR 14-10-2020 14:28:49 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - could not complete schema validation NHibernate.SchemaValidationException: Schema validation failed: see list of validation errors
   at NHibernate.Cfg.Configuration.ValidateSchema(Dialect dialect, IDatabaseMetadata databaseMetadata)
   at NHibernate.Tool.hbm2ddl.SchemaValidator.Validate()

DEBUG 14-10-2020 14:28:49 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:28:49 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 14:28:49 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 14:28:49 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier_contact') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier_contact 
DEBUG 14-10-2020 14:28:49 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier 
DEBUG 14-10-2020 14:28:49 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier_contact (
        Id INT IDENTITY NOT NULL,
       ContactType INT not null,
       Value NVARCHAR(255) not null,
       supplier_id INT not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 14:28:49 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier (
        Id INT IDENTITY NOT NULL,
       Name NVARCHAR(150) not null,
       Address NVARCHAR(255) not null,
       City NVARCHAR(50) not null,
       PostCode NVARCHAR(5) not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 14:28:49 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (supplier_id) 
        references supplier 
DEBUG 14-10-2020 14:28:49 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (id) 
        references supplier 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 14:28:49 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 14:28:49 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:28:49 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:28:49 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:28:49 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07F430B5AA 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC071936CF71 
INFO  14-10-2020 14:28:49 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 14:28:49 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 14:28:49 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:28:49 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 14:28:49 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 14:28:49 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 14:28:49 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 14:28:49 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 14:28:49 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:28:49 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:28:49 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:28:49 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:28:49 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:28:49 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:28:49 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:28:49 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 14:28:49 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:28:49 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 14:28:49 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 14:28:50 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:28:50 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:28:50 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 14:28:50 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:28:50 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:28:50 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier_contact (ContactType, Value, supplier_id) VALUES (?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:28:50 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:28:50 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:28:50 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 14:28:50 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 14:28:50 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:28:50 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:28:50 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 14:28:50 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 14:28:50 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 6741ad10c9c34e52845e817ff267da24(unnamed) 
INFO  14-10-2020 14:28:50 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 14:28:50 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 14:28:50 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 14:28:50 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 14:28:51 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 14:28:53 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:28:53 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:28:53 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 243.2912ms 200 text/html 
INFO  14-10-2020 14:28:53 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 243.2912ms 200 text/html 
INFO  14-10-2020 14:28:53 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:28:53 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:28:54 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 303.0596ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:28:54 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 303.0596ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:28:59 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 14:28:59 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 14:28:59 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 14:28:59 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 14:28:59 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 14:28:59 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 14:28:59 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:28:59 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:28:59 QSI.Web.Middleware.LogActionFilter [6] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 14:28:59 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 14:28:59 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 14:28:59 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [6] - Opening Hibernate Session. 
DEBUG 14-10-2020 14:28:59 NHibernate.Impl.SessionImpl [6] - [session-id=ef957af4-f0f2-4244-b5ee-c08a1fc7a465] opened session at timestamp: 637382825398, for session factory: [/6741ad10c9c34e52845e817ff267da24] 
DEBUG 14-10-2020 14:28:59 NHibernate.Transaction.AdoTransaction [6] - Begin (Unspecified) 
DEBUG 14-10-2020 14:28:59 NHibernate.Connection.DriverConnectionProvider [6] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:28:59 NHibernate.Engine.IdentifierValue [6] - unsaved-value: 0 
DEBUG 14-10-2020 14:28:59 NHibernate.Event.Default.AbstractSaveEventListener [6] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:28:59 NHibernate.Event.Default.DefaultMergeEventListener [6] - merging transient instance 
DEBUG 14-10-2020 14:28:59 NHibernate.Event.Default.AbstractSaveEventListener [6] - saving [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:28:59 NHibernate.Event.Default.AbstractSaveEventListener [6] - executing insertions 
DEBUG 14-10-2020 14:28:59 NHibernate.Event.Default.AbstractSaveEventListener [6] - executing identity-insert immediately 
DEBUG 14-10-2020 14:28:59 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Inserting entity: BookWarehouse.Repository.Models.Supplier (native id) 
DEBUG 14-10-2020 14:28:59 NHibernate.AdoNet.AbstractBatcher [6] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 14:28:59 NHibernate.AdoNet.AbstractBatcher [6] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:28:59 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:28:59 NHibernate.Type.StringType [6] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 14:28:59 NHibernate.Type.StringType [6] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 14:28:59 NHibernate.Type.StringType [6] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 14:28:59 NHibernate.Type.StringType [6] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 14:28:59 NHibernate.SQL [6] - 
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode) 
    VALUES
        (@p0, @p1, @p2, @p3);
    select
        SCOPE_IDENTITY();
    @p0 = 'string' [Type: String (4000:0:0)],
    @p1 = 'string' [Type: String (4000:0:0)],
    @p2 = 'string' [Type: String (4000:0:0)],
    @p3 = 'string' [Type: String (4000:0:0)] 
DEBUG 14-10-2020 14:28:59 NHibernate.Transaction.AdoTransaction [6] - Enlist Command 
ERROR 14-10-2020 14:28:59 NHibernate.AdoNet.AbstractBatcher [6] - Could not execute query: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
ClientConnectionId:0a7e4849-33e2-4ed8-85fc-2d7a62b4b4bb
Error Number:8152,State:30,Class:16

DEBUG 14-10-2020 14:28:59 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 14:28:59 NHibernate.Util.ADOExceptionReporter [6] - could not insert: [BookWarehouse.Repository.Models.Supplier]
[ INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:0a7e4849-33e2-4ed8-85fc-2d7a62b4b4bb
Error Number:8152,State:30,Class:16

WARN  14-10-2020 14:28:59 NHibernate.Util.ADOExceptionReporter [6] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:0a7e4849-33e2-4ed8-85fc-2d7a62b4b4bb
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 14:28:59 NHibernate.Util.ADOExceptionReporter [6] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 14:28:59 NHibernate.Transaction.AdoTransaction [6] - Rollback 
DEBUG 14-10-2020 14:28:59 NHibernate.Transaction.AdoTransaction [6] - DbTransaction RolledBack 
DEBUG 14-10-2020 14:28:59 NHibernate.Transaction.AdoTransaction [6] - DbTransaction disposed. 
DEBUG 14-10-2020 14:28:59 NHibernate.AdoNet.ConnectionManager [6] - Aggressively releasing database connection 
DEBUG 14-10-2020 14:28:59 NHibernate.Connection.ConnectionProvider [6] - Closing connection 
DEBUG 14-10-2020 14:28:59 NHibernate.Impl.SessionImpl [6] - transaction completion 
DEBUG 14-10-2020 14:28:59 NHibernate.Impl.SessionImpl [6] - closing session 
DEBUG 14-10-2020 14:29:00 NHibernate.AdoNet.AbstractBatcher [6] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 14:29:39 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 14:29:39 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 14:29:39 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 14:29:39 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 14:29:39 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 14:29:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:39 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 14:29:39 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:29:39 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 14:29:39 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 14:29:39 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:29:39 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 14:29:39 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:39 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 14:29:39 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 14:29:40 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:29:40 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:29:40 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
ERROR 14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - could not complete schema validation NHibernate.SchemaValidationException: Schema validation failed: see list of validation errors
   at NHibernate.Cfg.Configuration.ValidateSchema(Dialect dialect, IDatabaseMetadata databaseMetadata)
   at NHibernate.Tool.hbm2ddl.SchemaValidator.Validate()

DEBUG 14-10-2020 14:29:40 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier_contact') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier_contact 
DEBUG 14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier 
DEBUG 14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier_contact (
        Id INT IDENTITY NOT NULL,
       ContactType INT not null,
       Value NVARCHAR(255) not null,
       supplier_id INT not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier (
        Id INT IDENTITY NOT NULL,
       Name NVARCHAR(150) not null,
       Address NVARCHAR(255) not null,
       City NVARCHAR(50) not null,
       PostCode NVARCHAR(5) not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (supplier_id) 
        references supplier 
DEBUG 14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (id) 
        references supplier 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 14:29:40 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:29:40 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:29:40 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
DEBUG 14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier_contact (Id INT IDENTITY NOT NULL, ContactType INT not null, Value NVARCHAR(255) not null, supplier_id INT not null, primary key (Id)) 
DEBUG 14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier (Id INT IDENTITY NOT NULL, Name NVARCHAR(150) not null, Address NVARCHAR(255) not null, City NVARCHAR(50) not null, PostCode NVARCHAR(5) not null, primary key (Id)) 
DEBUG 14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (supplier_id) references supplier 
DEBUG 14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier 
ERROR 14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Unsuccessful: alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'fk_supplier_id' in the database.
Could not create constraint or index. See previous errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.Tool.hbm2ddl.SchemaUpdate.Execute(Action`1 scriptAction, Boolean doUpdate)
ClientConnectionId:73a7a332-7448-4a16-87a1-ecc6d8a51f1b
Error Number:2714,State:5,Class:16

INFO  14-10-2020 14:29:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 14:29:40 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 14:29:40 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:29:40 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 14:29:40 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 14:29:40 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 14:29:40 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 14:29:40 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 14:29:40 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:29:40 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:29:40 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:29:40 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:29:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:29:40 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:29:40 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier_contact (ContactType, Value, supplier_id) VALUES (?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:29:40 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:29:40 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:29:40 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 14:29:40 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 14:29:40 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 106b484257b448fa98ff75efce56521b(unnamed) 
INFO  14-10-2020 14:29:40 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 14:29:40 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 14:29:40 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 14:29:40 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 14:29:42 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 14:29:43 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:29:43 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:29:43 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 240.3323ms 200 text/html 
INFO  14-10-2020 14:29:43 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 240.3323ms 200 text/html 
INFO  14-10-2020 14:29:44 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:29:44 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:29:44 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 187.3782ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:29:44 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 187.3782ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:29:49 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 14:29:49 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 14:29:49 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 14:29:49 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 14:29:49 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 14:29:49 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 14:29:49 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:29:49 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:29:49 QSI.Web.Middleware.LogActionFilter [7] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 14:29:49 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 14:29:49 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 14:29:49 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [7] - Opening Hibernate Session. 
DEBUG 14-10-2020 14:29:49 NHibernate.Impl.SessionImpl [7] - [session-id=4a6a1011-a9ab-4253-b779-c591af4c04f2] opened session at timestamp: 637382825896, for session factory: [/106b484257b448fa98ff75efce56521b] 
DEBUG 14-10-2020 14:29:49 NHibernate.Transaction.AdoTransaction [7] - Begin (Unspecified) 
DEBUG 14-10-2020 14:29:49 NHibernate.Connection.DriverConnectionProvider [7] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:29:49 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 0 
DEBUG 14-10-2020 14:29:49 NHibernate.Event.Default.AbstractSaveEventListener [7] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:29:49 NHibernate.Event.Default.DefaultMergeEventListener [7] - merging transient instance 
DEBUG 14-10-2020 14:29:49 NHibernate.Event.Default.AbstractSaveEventListener [7] - saving [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:29:49 NHibernate.Event.Default.AbstractSaveEventListener [7] - executing insertions 
DEBUG 14-10-2020 14:29:49 NHibernate.Event.Default.AbstractSaveEventListener [7] - executing identity-insert immediately 
DEBUG 14-10-2020 14:29:49 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Inserting entity: BookWarehouse.Repository.Models.Supplier (native id) 
DEBUG 14-10-2020 14:29:49 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 14:29:49 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:29:49 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:29:49 NHibernate.Type.StringType [7] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 14:29:49 NHibernate.Type.StringType [7] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 14:29:49 NHibernate.Type.StringType [7] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 14:29:49 NHibernate.Type.StringType [7] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 14:29:49 NHibernate.SQL [7] - 
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode) 
    VALUES
        (@p0, @p1, @p2, @p3);
    select
        SCOPE_IDENTITY();
    @p0 = 'string' [Type: String (4000:0:0)],
    @p1 = 'string' [Type: String (4000:0:0)],
    @p2 = 'string' [Type: String (4000:0:0)],
    @p3 = 'string' [Type: String (4000:0:0)] 
DEBUG 14-10-2020 14:29:49 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
ERROR 14-10-2020 14:29:49 NHibernate.AdoNet.AbstractBatcher [7] - Could not execute query: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
ClientConnectionId:73a7a332-7448-4a16-87a1-ecc6d8a51f1b
Error Number:8152,State:30,Class:16

DEBUG 14-10-2020 14:29:49 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 14:29:49 NHibernate.Util.ADOExceptionReporter [7] - could not insert: [BookWarehouse.Repository.Models.Supplier]
[ INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:73a7a332-7448-4a16-87a1-ecc6d8a51f1b
Error Number:8152,State:30,Class:16

WARN  14-10-2020 14:29:49 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:73a7a332-7448-4a16-87a1-ecc6d8a51f1b
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 14:29:49 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 14:29:49 NHibernate.Transaction.AdoTransaction [7] - Rollback 
DEBUG 14-10-2020 14:29:49 NHibernate.Transaction.AdoTransaction [7] - DbTransaction RolledBack 
DEBUG 14-10-2020 14:29:49 NHibernate.Transaction.AdoTransaction [7] - DbTransaction disposed. 
DEBUG 14-10-2020 14:29:49 NHibernate.AdoNet.ConnectionManager [7] - Aggressively releasing database connection 
DEBUG 14-10-2020 14:29:49 NHibernate.Connection.ConnectionProvider [7] - Closing connection 
DEBUG 14-10-2020 14:29:49 NHibernate.Impl.SessionImpl [7] - transaction completion 
DEBUG 14-10-2020 14:29:49 NHibernate.Impl.SessionImpl [7] - closing session 
DEBUG 14-10-2020 14:29:49 NHibernate.AdoNet.AbstractBatcher [7] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 14:32:55 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 14:32:55 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 14:32:55 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 14:32:55 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:32:56 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 14:32:56 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 14:32:56 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:32:56 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:32:56 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:32:56 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:32:56 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 14:32:56 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 14:32:56 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:32:56 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:32:56 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:32:56 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07BF68C9CE 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07280CFC81 
INFO  14-10-2020 14:32:56 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 14:32:56 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:32:56 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:32:56 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:32:57 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 14:32:57 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:32:57 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:32:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 14:32:57 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 14:32:57 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 14:32:57 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 14:32:57 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 14:32:57 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:32:57 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:32:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:32:57 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:32:57 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:32:57 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:32:57 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:32:57 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier_contact (ContactType, Value, supplier_id) VALUES (?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:32:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:32:57 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:32:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 14:32:57 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 14:32:57 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: c703f815d0bf416e87624ac367eeb2ee(unnamed) 
INFO  14-10-2020 14:32:57 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 14:32:57 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 14:32:57 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 14:32:57 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 14:32:58 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 14:33:00 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:33:00 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:33:00 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request finished in 242.5525ms 200 text/html 
INFO  14-10-2020 14:33:00 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request finished in 242.5525ms 200 text/html 
INFO  14-10-2020 14:33:00 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:33:00 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:33:01 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 238.4606ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:33:01 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 238.4606ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:33:05 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 14:33:05 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 14:33:05 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 14:33:05 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 14:33:05 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 14:33:05 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 14:33:05 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:33:05 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:33:06 QSI.Web.Middleware.LogActionFilter [7] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 14:33:06 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 14:33:06 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 14:33:06 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [7] - Opening Hibernate Session. 
DEBUG 14-10-2020 14:33:06 NHibernate.Impl.SessionImpl [7] - [session-id=78218832-cfa7-488f-ad42-5a32590b3bbc] opened session at timestamp: 637382827866, for session factory: [/c703f815d0bf416e87624ac367eeb2ee] 
DEBUG 14-10-2020 14:33:06 NHibernate.Transaction.AdoTransaction [7] - Begin (Unspecified) 
DEBUG 14-10-2020 14:33:06 NHibernate.Connection.DriverConnectionProvider [7] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:33:06 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 0 
DEBUG 14-10-2020 14:33:06 NHibernate.Event.Default.AbstractSaveEventListener [7] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:33:06 NHibernate.Event.Default.DefaultMergeEventListener [7] - merging transient instance 
DEBUG 14-10-2020 14:33:06 NHibernate.Event.Default.AbstractSaveEventListener [7] - saving [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:33:06 NHibernate.Event.Default.AbstractSaveEventListener [7] - executing insertions 
DEBUG 14-10-2020 14:33:06 NHibernate.Event.Default.AbstractSaveEventListener [7] - executing identity-insert immediately 
DEBUG 14-10-2020 14:33:06 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Inserting entity: BookWarehouse.Repository.Models.Supplier (native id) 
DEBUG 14-10-2020 14:33:06 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 14:33:06 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:33:06 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:33:06 NHibernate.Type.StringType [7] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 14:33:06 NHibernate.Type.StringType [7] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 14:33:06 NHibernate.Type.StringType [7] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 14:33:06 NHibernate.Type.StringType [7] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 14:33:06 NHibernate.SQL [7] - 
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode) 
    VALUES
        (@p0, @p1, @p2, @p3);
    select
        SCOPE_IDENTITY();
    @p0 = 'string' [Type: String (4000:0:0)],
    @p1 = 'string' [Type: String (4000:0:0)],
    @p2 = 'string' [Type: String (4000:0:0)],
    @p3 = 'string' [Type: String (4000:0:0)] 
DEBUG 14-10-2020 14:33:06 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
ERROR 14-10-2020 14:33:06 NHibernate.AdoNet.AbstractBatcher [7] - Could not execute query: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
ClientConnectionId:4e381231-cfb8-4c46-9461-4030702105a5
Error Number:8152,State:30,Class:16

DEBUG 14-10-2020 14:33:06 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 14:33:06 NHibernate.Util.ADOExceptionReporter [7] - could not insert: [BookWarehouse.Repository.Models.Supplier]
[ INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:4e381231-cfb8-4c46-9461-4030702105a5
Error Number:8152,State:30,Class:16

WARN  14-10-2020 14:33:06 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:4e381231-cfb8-4c46-9461-4030702105a5
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 14:33:06 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 14:33:06 NHibernate.Transaction.AdoTransaction [7] - Rollback 
DEBUG 14-10-2020 14:33:06 NHibernate.Transaction.AdoTransaction [7] - DbTransaction RolledBack 
DEBUG 14-10-2020 14:33:06 NHibernate.Transaction.AdoTransaction [7] - DbTransaction disposed. 
DEBUG 14-10-2020 14:33:06 NHibernate.AdoNet.ConnectionManager [7] - Aggressively releasing database connection 
DEBUG 14-10-2020 14:33:06 NHibernate.Connection.ConnectionProvider [7] - Closing connection 
DEBUG 14-10-2020 14:33:06 NHibernate.Impl.SessionImpl [7] - transaction completion 
DEBUG 14-10-2020 14:33:06 NHibernate.Impl.SessionImpl [7] - closing session 
DEBUG 14-10-2020 14:33:06 NHibernate.AdoNet.AbstractBatcher [7] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 14:35:59 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 14:36:00 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 14:36:00 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 14:36:00 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 14:36:00 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 14:36:00 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:36:00 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 14:36:00 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:36:00 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 14:36:00 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 14:36:00 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:36:00 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 14:36:00 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:36:00 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 14:36:00 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:36:00 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 14:36:00 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 14:36:00 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 14:36:00 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 14:36:00 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 14:36:00 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:36:00 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 14:36:00 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 14:36:00 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:36:00 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:36:00 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:36:00 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:36:00 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:36:00 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 14:36:00 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 14:36:00 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 14:36:00 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:36:00 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:36:00 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:36:00 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:36:00 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:36:00 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:36:00 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 14:36:00 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 14:36:00 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:36:00 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:36:00 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:36:00 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:36:01 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:36:01 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 14:36:01 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 14:36:01 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:36:01 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:36:01 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:36:01 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:36:01 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:36:01 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07BF68C9CE 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07280CFC81 
INFO  14-10-2020 14:36:01 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 14:36:01 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:36:01 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:36:01 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:36:01 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 14:36:01 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:36:01 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 14:36:01 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 14:36:01 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 14:36:01 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 14:36:01 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 14:36:01 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:36:01 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:36:01 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:36:01 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:36:01 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:36:01 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:36:01 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier_contact (ContactType, Value, supplier_id) VALUES (?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:36:01 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:36:01 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:36:01 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 14:36:01 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 14:36:01 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 843b2d7fa92645088d718f445dcaffd6(unnamed) 
INFO  14-10-2020 14:36:01 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 14:36:01 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 14:36:01 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 14:36:01 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 14:36:02 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 14:36:04 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:36:04 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:36:04 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 243.3082ms 200 text/html 
INFO  14-10-2020 14:36:04 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 243.3082ms 200 text/html 
INFO  14-10-2020 14:36:05 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:36:05 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:36:05 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 193.5698ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:36:05 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 193.5698ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:37:26 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 14:37:26 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 14:37:26 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 14:37:26 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 14:37:26 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 14:37:26 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 14:37:27 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:37:27 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:37:27 QSI.Web.Middleware.LogActionFilter [6] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 14:37:27 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 14:37:27 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 14:37:27 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [6] - Opening Hibernate Session. 
DEBUG 14-10-2020 14:37:27 NHibernate.Impl.SessionImpl [6] - [session-id=20d6edf7-8354-4b5c-afe1-f74ab22cabae] opened session at timestamp: 637382830477, for session factory: [/843b2d7fa92645088d718f445dcaffd6] 
DEBUG 14-10-2020 14:37:27 NHibernate.Transaction.AdoTransaction [6] - Begin (Unspecified) 
DEBUG 14-10-2020 14:37:27 NHibernate.Connection.DriverConnectionProvider [6] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:37:27 NHibernate.Engine.IdentifierValue [6] - unsaved-value: 0 
DEBUG 14-10-2020 14:37:27 NHibernate.Event.Default.AbstractSaveEventListener [6] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:37:27 NHibernate.Event.Default.DefaultMergeEventListener [6] - merging transient instance 
DEBUG 14-10-2020 14:37:27 NHibernate.Event.Default.AbstractSaveEventListener [6] - saving [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:37:27 NHibernate.Event.Default.AbstractSaveEventListener [6] - executing insertions 
DEBUG 14-10-2020 14:37:27 NHibernate.Event.Default.AbstractSaveEventListener [6] - executing identity-insert immediately 
DEBUG 14-10-2020 14:37:27 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Inserting entity: BookWarehouse.Repository.Models.Supplier (native id) 
DEBUG 14-10-2020 14:37:27 NHibernate.AdoNet.AbstractBatcher [6] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 14:37:27 NHibernate.AdoNet.AbstractBatcher [6] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:37:27 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:37:27 NHibernate.Type.StringType [6] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 14:37:27 NHibernate.Type.StringType [6] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 14:37:27 NHibernate.Type.StringType [6] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 14:37:27 NHibernate.Type.StringType [6] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 14:37:27 NHibernate.SQL [6] - 
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode) 
    VALUES
        (@p0, @p1, @p2, @p3);
    select
        SCOPE_IDENTITY();
    @p0 = 'string' [Type: String (4000:0:0)],
    @p1 = 'string' [Type: String (4000:0:0)],
    @p2 = 'string' [Type: String (4000:0:0)],
    @p3 = 'string' [Type: String (4000:0:0)] 
DEBUG 14-10-2020 14:37:27 NHibernate.Transaction.AdoTransaction [6] - Enlist Command 
ERROR 14-10-2020 14:37:27 NHibernate.AdoNet.AbstractBatcher [6] - Could not execute query: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
ClientConnectionId:4fc2a3e8-7a2d-4e67-b7db-891b9788ee19
Error Number:8152,State:30,Class:16

DEBUG 14-10-2020 14:37:27 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 14:37:27 NHibernate.Util.ADOExceptionReporter [6] - could not insert: [BookWarehouse.Repository.Models.Supplier]
[ INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:4fc2a3e8-7a2d-4e67-b7db-891b9788ee19
Error Number:8152,State:30,Class:16

WARN  14-10-2020 14:37:27 NHibernate.Util.ADOExceptionReporter [6] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:4fc2a3e8-7a2d-4e67-b7db-891b9788ee19
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 14:37:27 NHibernate.Util.ADOExceptionReporter [6] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 14:37:27 NHibernate.Transaction.AdoTransaction [6] - Rollback 
DEBUG 14-10-2020 14:37:27 NHibernate.Transaction.AdoTransaction [6] - DbTransaction RolledBack 
DEBUG 14-10-2020 14:37:27 NHibernate.Transaction.AdoTransaction [6] - DbTransaction disposed. 
DEBUG 14-10-2020 14:37:27 NHibernate.AdoNet.ConnectionManager [6] - Aggressively releasing database connection 
DEBUG 14-10-2020 14:37:27 NHibernate.Connection.ConnectionProvider [6] - Closing connection 
DEBUG 14-10-2020 14:37:27 NHibernate.Impl.SessionImpl [6] - transaction completion 
DEBUG 14-10-2020 14:37:27 NHibernate.Impl.SessionImpl [6] - closing session 
DEBUG 14-10-2020 14:37:27 NHibernate.AdoNet.AbstractBatcher [6] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 14:40:32 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 14:40:32 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 14:40:32 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 14:40:32 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 14:40:32 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 14:40:32 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:40:32 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 14:40:32 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:40:32 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 14:40:32 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 14:40:32 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:40:32 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 14:40:32 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:40:32 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 14:40:32 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:40:32 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 14:40:32 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 14:40:32 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 14:40:32 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 14:40:32 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 14:40:32 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:40:32 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 14:40:32 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 14:40:32 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:40:32 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:40:32 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:40:32 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 14:40:33 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 14:40:33 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:40:33 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:40:33 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 14:40:33 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 14:40:33 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:40:33 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:40:33 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:40:33 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07BF68C9CE 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07280CFC81 
INFO  14-10-2020 14:40:33 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 14:40:33 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:40:33 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 14:40:33 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:40:33 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 14:40:33 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 14:40:33 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 14:40:33 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 14:40:33 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 14:40:33 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:40:33 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:40:33 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:40:33 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:40:33 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:40:33 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:40:33 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier_contact (ContactType, Value, supplier_id) VALUES (?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:40:33 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:40:33 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:40:33 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 14:40:33 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 14:40:33 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 611f04aea30a4addaca68e3df6a1e02d(unnamed) 
INFO  14-10-2020 14:40:33 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 14:40:33 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 14:40:33 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 14:40:33 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 14:40:34 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 14:40:36 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:40:36 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:40:36 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 242.3687ms 200 text/html 
INFO  14-10-2020 14:40:36 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 242.3687ms 200 text/html 
INFO  14-10-2020 14:40:36 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:40:36 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:40:37 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 262.0223ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:40:37 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 262.0223ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:40:41 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 14:40:41 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 14:40:41 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 14:40:41 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 14:40:41 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 14:40:41 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 14:40:41 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:40:41 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:40:42 QSI.Web.Middleware.LogActionFilter [7] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 14:40:42 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 14:40:42 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 14:40:42 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [7] - Opening Hibernate Session. 
DEBUG 14-10-2020 14:40:42 NHibernate.Impl.SessionImpl [7] - [session-id=6dbecb16-7004-461a-9291-fab53da590ee] opened session at timestamp: 637382832426, for session factory: [/611f04aea30a4addaca68e3df6a1e02d] 
DEBUG 14-10-2020 14:40:42 NHibernate.Transaction.AdoTransaction [7] - Begin (Unspecified) 
DEBUG 14-10-2020 14:40:42 NHibernate.Connection.DriverConnectionProvider [7] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:40:42 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 0 
DEBUG 14-10-2020 14:40:42 NHibernate.Event.Default.AbstractSaveEventListener [7] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:40:42 NHibernate.Event.Default.DefaultMergeEventListener [7] - merging transient instance 
DEBUG 14-10-2020 14:40:42 NHibernate.Event.Default.AbstractSaveEventListener [7] - saving [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:40:42 NHibernate.Event.Default.AbstractSaveEventListener [7] - executing insertions 
DEBUG 14-10-2020 14:40:42 NHibernate.Event.Default.AbstractSaveEventListener [7] - executing identity-insert immediately 
DEBUG 14-10-2020 14:40:42 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Inserting entity: BookWarehouse.Repository.Models.Supplier (native id) 
DEBUG 14-10-2020 14:40:42 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 14:40:42 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:40:42 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:40:42 NHibernate.Type.StringType [7] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 14:40:42 NHibernate.Type.StringType [7] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 14:40:42 NHibernate.Type.StringType [7] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 14:40:42 NHibernate.Type.StringType [7] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 14:40:42 NHibernate.SQL [7] - 
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode) 
    VALUES
        (@p0, @p1, @p2, @p3);
    select
        SCOPE_IDENTITY();
    @p0 = 'string' [Type: String (4000:0:0)],
    @p1 = 'string' [Type: String (4000:0:0)],
    @p2 = 'string' [Type: String (4000:0:0)],
    @p3 = 'string' [Type: String (4000:0:0)] 
DEBUG 14-10-2020 14:40:42 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
ERROR 14-10-2020 14:40:42 NHibernate.AdoNet.AbstractBatcher [7] - Could not execute query: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
ClientConnectionId:61df7cdb-6c3a-4109-8a73-57cb0bb507cb
Error Number:8152,State:30,Class:16

DEBUG 14-10-2020 14:40:42 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 14:40:42 NHibernate.Util.ADOExceptionReporter [7] - could not insert: [BookWarehouse.Repository.Models.Supplier]
[ INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:61df7cdb-6c3a-4109-8a73-57cb0bb507cb
Error Number:8152,State:30,Class:16

WARN  14-10-2020 14:40:42 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:61df7cdb-6c3a-4109-8a73-57cb0bb507cb
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 14:40:42 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 14:40:42 NHibernate.Transaction.AdoTransaction [7] - Rollback 
DEBUG 14-10-2020 14:40:42 NHibernate.Transaction.AdoTransaction [7] - DbTransaction RolledBack 
DEBUG 14-10-2020 14:40:42 NHibernate.Transaction.AdoTransaction [7] - DbTransaction disposed. 
DEBUG 14-10-2020 14:40:42 NHibernate.AdoNet.ConnectionManager [7] - Aggressively releasing database connection 
DEBUG 14-10-2020 14:40:42 NHibernate.Connection.ConnectionProvider [7] - Closing connection 
DEBUG 14-10-2020 14:40:42 NHibernate.Impl.SessionImpl [7] - transaction completion 
DEBUG 14-10-2020 14:40:42 NHibernate.Impl.SessionImpl [7] - closing session 
DEBUG 14-10-2020 14:40:42 NHibernate.AdoNet.AbstractBatcher [7] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 14:42:23 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 14:42:23 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 14:42:23 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 14:42:23 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 14:42:24 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 14:42:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 14:42:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:42:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 14:42:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 14:42:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:42:24 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 14:42:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 14:42:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:42:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 14:42:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 14:42:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 14:42:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 14:42:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 14:42:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:24 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 14:42:24 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 14:42:24 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:42:24 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:42:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:42:24 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:42:24 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:42:24 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 14:42:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 14:42:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 14:42:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:42:24 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:42:24 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:42:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:42:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:42:24 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:42:24 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 14:42:24 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
ERROR 14-10-2020 14:42:24 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - could not complete schema validation NHibernate.SchemaValidationException: Schema validation failed: see list of validation errors
   at NHibernate.Cfg.Configuration.ValidateSchema(Dialect dialect, IDatabaseMetadata databaseMetadata)
   at NHibernate.Tool.hbm2ddl.SchemaValidator.Validate()

DEBUG 14-10-2020 14:42:25 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier_contact') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier_contact 
DEBUG 14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier 
DEBUG 14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier_contact (
        Id INT IDENTITY NOT NULL,
       ContactType INT not null,
       Value NVARCHAR(255) not null,
       supplier_id INT not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier (
        Id INT IDENTITY NOT NULL,
       Name NVARCHAR(150) not null,
       Address NVARCHAR(255) not null,
       City NVARCHAR(50) not null,
       PostCode NVARCHAR(5) not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (supplier_id) 
        references supplier 
DEBUG 14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (id) 
        references supplier 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 14:42:25 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:42:25 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:42:25 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
DEBUG 14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier_contact (Id INT IDENTITY NOT NULL, ContactType INT not null, Value NVARCHAR(255) not null, supplier_id INT not null, primary key (Id)) 
DEBUG 14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier (Id INT IDENTITY NOT NULL, Name NVARCHAR(150) not null, Address NVARCHAR(255) not null, City NVARCHAR(50) not null, PostCode NVARCHAR(5) not null, primary key (Id)) 
DEBUG 14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (supplier_id) references supplier 
DEBUG 14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier 
ERROR 14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Unsuccessful: alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'fk_supplier_id' in the database.
Could not create constraint or index. See previous errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.Tool.hbm2ddl.SchemaUpdate.Execute(Action`1 scriptAction, Boolean doUpdate)
ClientConnectionId:f72e2dbd-f46d-432a-b41c-f406796a6a1a
Error Number:2714,State:5,Class:16

INFO  14-10-2020 14:42:25 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 14:42:25 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 14:42:25 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:42:25 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 14:42:25 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 14:42:25 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 14:42:25 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 14:42:25 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 14:42:25 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:42:25 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:42:25 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:42:25 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:42:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:42:25 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:42:25 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier_contact (ContactType, Value, supplier_id) VALUES (?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:42:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:42:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:42:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 14:42:25 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 14:42:25 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 29864480c9e1406199e34e4a4f0ba3bb(unnamed) 
INFO  14-10-2020 14:42:25 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 14:42:25 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 14:42:25 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 14:42:25 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 14:42:27 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 14:42:28 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:42:28 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:42:28 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 254.7078ms 200 text/html 
INFO  14-10-2020 14:42:28 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 254.7078ms 200 text/html 
INFO  14-10-2020 14:42:29 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:42:29 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:42:29 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 218.7479ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:42:29 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 218.7479ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:43:53 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 14:43:53 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 14:43:53 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 14:43:53 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 14:43:53 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 14:43:53 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 14:43:53 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:43:53 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:43:54 QSI.Web.Middleware.LogActionFilter [7] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 14:43:54 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 14:43:54 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 14:43:54 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [7] - Opening Hibernate Session. 
DEBUG 14-10-2020 14:43:54 NHibernate.Impl.SessionImpl [7] - [session-id=f5e525f9-49fb-4f05-b26e-cfe6079f3f9d] opened session at timestamp: 637382834341, for session factory: [/29864480c9e1406199e34e4a4f0ba3bb] 
DEBUG 14-10-2020 14:43:54 NHibernate.Transaction.AdoTransaction [7] - Begin (Unspecified) 
DEBUG 14-10-2020 14:43:54 NHibernate.Connection.DriverConnectionProvider [7] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:43:54 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 0 
DEBUG 14-10-2020 14:43:54 NHibernate.Event.Default.AbstractSaveEventListener [7] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:43:54 NHibernate.Event.Default.DefaultMergeEventListener [7] - merging transient instance 
DEBUG 14-10-2020 14:43:54 NHibernate.Event.Default.AbstractSaveEventListener [7] - saving [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:43:54 NHibernate.Event.Default.AbstractSaveEventListener [7] - executing insertions 
DEBUG 14-10-2020 14:43:54 NHibernate.Event.Default.AbstractSaveEventListener [7] - executing identity-insert immediately 
DEBUG 14-10-2020 14:43:54 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Inserting entity: BookWarehouse.Repository.Models.Supplier (native id) 
DEBUG 14-10-2020 14:43:54 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 14:43:54 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:43:54 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:43:54 NHibernate.Type.StringType [7] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 14:43:54 NHibernate.Type.StringType [7] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 14:43:54 NHibernate.Type.StringType [7] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 14:43:54 NHibernate.Type.StringType [7] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 14:43:54 NHibernate.SQL [7] - 
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode) 
    VALUES
        (@p0, @p1, @p2, @p3);
    select
        SCOPE_IDENTITY();
    @p0 = 'string' [Type: String (4000:0:0)],
    @p1 = 'string' [Type: String (4000:0:0)],
    @p2 = 'string' [Type: String (4000:0:0)],
    @p3 = 'string' [Type: String (4000:0:0)] 
DEBUG 14-10-2020 14:43:54 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
ERROR 14-10-2020 14:43:54 NHibernate.AdoNet.AbstractBatcher [7] - Could not execute query: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
ClientConnectionId:f72e2dbd-f46d-432a-b41c-f406796a6a1a
Error Number:8152,State:30,Class:16

DEBUG 14-10-2020 14:43:54 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 14:43:54 NHibernate.Util.ADOExceptionReporter [7] - could not insert: [BookWarehouse.Repository.Models.Supplier]
[ INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:f72e2dbd-f46d-432a-b41c-f406796a6a1a
Error Number:8152,State:30,Class:16

WARN  14-10-2020 14:43:54 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:f72e2dbd-f46d-432a-b41c-f406796a6a1a
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 14:43:54 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 14:43:54 NHibernate.Transaction.AdoTransaction [7] - Rollback 
DEBUG 14-10-2020 14:43:54 NHibernate.Transaction.AdoTransaction [7] - DbTransaction RolledBack 
DEBUG 14-10-2020 14:43:54 NHibernate.Transaction.AdoTransaction [7] - DbTransaction disposed. 
DEBUG 14-10-2020 14:43:54 NHibernate.AdoNet.ConnectionManager [7] - Aggressively releasing database connection 
DEBUG 14-10-2020 14:43:54 NHibernate.Connection.ConnectionProvider [7] - Closing connection 
DEBUG 14-10-2020 14:43:54 NHibernate.Impl.SessionImpl [7] - transaction completion 
DEBUG 14-10-2020 14:43:54 NHibernate.Impl.SessionImpl [7] - closing session 
DEBUG 14-10-2020 14:43:54 NHibernate.AdoNet.AbstractBatcher [7] - running BatcherImpl.Dispose(true) 
DEBUG 14-10-2020 14:47:08 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [7] - Opening Hibernate Session. 
DEBUG 14-10-2020 14:47:08 NHibernate.Impl.SessionImpl [7] - [session-id=6416fa6c-919d-4d66-8678-86e61f336117] opened session at timestamp: 637382836287, for session factory: [/29864480c9e1406199e34e4a4f0ba3bb] 
DEBUG 14-10-2020 14:47:08 NHibernate.Transaction.AdoTransaction [7] - Begin (Unspecified) 
DEBUG 14-10-2020 14:47:08 NHibernate.Connection.DriverConnectionProvider [7] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:47:08 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 0 
DEBUG 14-10-2020 14:47:08 NHibernate.Event.Default.AbstractSaveEventListener [7] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:47:08 NHibernate.Event.Default.DefaultMergeEventListener [7] - merging transient instance 
DEBUG 14-10-2020 14:47:08 NHibernate.Event.Default.AbstractSaveEventListener [7] - saving [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:47:08 NHibernate.Event.Default.AbstractSaveEventListener [7] - executing insertions 
DEBUG 14-10-2020 14:47:08 NHibernate.Event.Default.AbstractSaveEventListener [7] - executing identity-insert immediately 
DEBUG 14-10-2020 14:47:08 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Inserting entity: BookWarehouse.Repository.Models.Supplier (native id) 
DEBUG 14-10-2020 14:47:08 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 14:47:08 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:47:08 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:47:08 NHibernate.Type.StringType [7] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 14:47:08 NHibernate.Type.StringType [7] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 14:47:08 NHibernate.Type.StringType [7] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 14:47:08 NHibernate.Type.StringType [7] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 14:47:08 NHibernate.SQL [7] - 
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode) 
    VALUES
        (@p0, @p1, @p2, @p3);
    select
        SCOPE_IDENTITY();
    @p0 = 'string' [Type: String (4000:0:0)],
    @p1 = 'string' [Type: String (4000:0:0)],
    @p2 = 'string' [Type: String (4000:0:0)],
    @p3 = 'string' [Type: String (4000:0:0)] 
DEBUG 14-10-2020 14:47:08 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
ERROR 14-10-2020 14:47:08 NHibernate.AdoNet.AbstractBatcher [7] - Could not execute query: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
ClientConnectionId:f72e2dbd-f46d-432a-b41c-f406796a6a1a
Error Number:8152,State:30,Class:16

DEBUG 14-10-2020 14:47:08 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 14:47:08 NHibernate.Util.ADOExceptionReporter [7] - could not insert: [BookWarehouse.Repository.Models.Supplier]
[ INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:f72e2dbd-f46d-432a-b41c-f406796a6a1a
Error Number:8152,State:30,Class:16

WARN  14-10-2020 14:47:08 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:f72e2dbd-f46d-432a-b41c-f406796a6a1a
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 14:47:08 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 14:47:08 NHibernate.Transaction.AdoTransaction [7] - Rollback 
DEBUG 14-10-2020 14:47:08 NHibernate.Transaction.AdoTransaction [7] - DbTransaction RolledBack 
DEBUG 14-10-2020 14:47:08 NHibernate.Transaction.AdoTransaction [7] - DbTransaction disposed. 
DEBUG 14-10-2020 14:47:08 NHibernate.AdoNet.ConnectionManager [7] - Aggressively releasing database connection 
DEBUG 14-10-2020 14:47:08 NHibernate.Connection.ConnectionProvider [7] - Closing connection 
DEBUG 14-10-2020 14:47:08 NHibernate.Impl.SessionImpl [7] - transaction completion 
DEBUG 14-10-2020 14:47:08 NHibernate.Impl.SessionImpl [7] - closing session 
DEBUG 14-10-2020 14:47:08 NHibernate.AdoNet.AbstractBatcher [7] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 14:51:12 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 14:51:12 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 14:51:12 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 14:51:12 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 14:51:12 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 14:51:13 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:51:13 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:51:13 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
ERROR 14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - could not complete schema validation NHibernate.SchemaValidationException: Schema validation failed: see list of validation errors
   at NHibernate.Cfg.Configuration.ValidateSchema(Dialect dialect, IDatabaseMetadata databaseMetadata)
   at NHibernate.Tool.hbm2ddl.SchemaValidator.Validate()

DEBUG 14-10-2020 14:51:13 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier_contact') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier_contact 
DEBUG 14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier 
DEBUG 14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier_contact (
        Id INT IDENTITY NOT NULL,
       ContactType INT not null,
       Value NVARCHAR(255) not null,
       supplier_id INT not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier (
        Id INT IDENTITY NOT NULL,
       Name NVARCHAR(150) not null,
       Address NVARCHAR(255) not null,
       City NVARCHAR(50) not null,
       PostCode NVARCHAR(5) not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (supplier_id) 
        references supplier 
DEBUG 14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (id) 
        references supplier 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 14:51:13 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:51:13 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:51:13 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
DEBUG 14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier_contact (Id INT IDENTITY NOT NULL, ContactType INT not null, Value NVARCHAR(255) not null, supplier_id INT not null, primary key (Id)) 
DEBUG 14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier (Id INT IDENTITY NOT NULL, Name NVARCHAR(150) not null, Address NVARCHAR(255) not null, City NVARCHAR(50) not null, PostCode NVARCHAR(5) not null, primary key (Id)) 
DEBUG 14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (supplier_id) references supplier 
DEBUG 14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier 
ERROR 14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Unsuccessful: alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'fk_supplier_id' in the database.
Could not create constraint or index. See previous errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.Tool.hbm2ddl.SchemaUpdate.Execute(Action`1 scriptAction, Boolean doUpdate)
ClientConnectionId:ebf0571b-2ac3-45a7-80d4-c7cb49c19b18
Error Number:2714,State:5,Class:16

INFO  14-10-2020 14:51:13 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 14:51:13 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:51:13 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:13 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:14 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 14:51:14 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:51:14 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:51:14 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 14:51:14 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 14:51:14 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 14:51:14 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 14:51:14 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 14:51:14 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:51:14 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:51:14 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:51:14 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:51:14 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:51:14 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:51:14 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:51:14 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier_contact (ContactType, Value, supplier_id) VALUES (?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:51:14 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:51:14 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:51:14 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 14:51:14 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 14:51:14 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: e8a5b475730f4bccbc2f117f61ade6d4(unnamed) 
INFO  14-10-2020 14:51:14 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 14:51:14 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 14:51:14 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 14:51:14 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 14:51:15 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 14:51:17 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:51:17 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:51:17 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 292.3508ms 200 text/html 
INFO  14-10-2020 14:51:17 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 292.3508ms 200 text/html 
INFO  14-10-2020 14:51:18 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:51:18 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:51:18 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 226.7968ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:51:18 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 226.7968ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:51:46 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 14:51:46 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 14:51:46 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 14:51:46 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 14:51:46 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 14:51:46 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 14:51:46 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:51:46 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:51:46 QSI.Web.Middleware.LogActionFilter [6] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 14:51:46 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 14:51:46 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 14:51:46 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [6] - Opening Hibernate Session. 
DEBUG 14-10-2020 14:51:46 NHibernate.Impl.SessionImpl [6] - [session-id=ca8efafd-c113-4ca3-95a6-c6113cee7248] opened session at timestamp: 637382839066, for session factory: [/e8a5b475730f4bccbc2f117f61ade6d4] 
DEBUG 14-10-2020 14:51:46 NHibernate.Transaction.AdoTransaction [6] - Begin (Unspecified) 
DEBUG 14-10-2020 14:51:46 NHibernate.Connection.DriverConnectionProvider [6] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:51:46 NHibernate.Engine.IdentifierValue [6] - unsaved-value: 0 
DEBUG 14-10-2020 14:51:46 NHibernate.Event.Default.AbstractSaveEventListener [6] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:51:46 NHibernate.Event.Default.DefaultMergeEventListener [6] - merging transient instance 
DEBUG 14-10-2020 14:51:46 NHibernate.Event.Default.AbstractSaveEventListener [6] - saving [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:51:46 NHibernate.Event.Default.AbstractSaveEventListener [6] - executing insertions 
DEBUG 14-10-2020 14:51:46 NHibernate.Event.Default.AbstractSaveEventListener [6] - executing identity-insert immediately 
DEBUG 14-10-2020 14:51:46 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Inserting entity: BookWarehouse.Repository.Models.Supplier (native id) 
DEBUG 14-10-2020 14:51:46 NHibernate.AdoNet.AbstractBatcher [6] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 14:51:46 NHibernate.AdoNet.AbstractBatcher [6] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:51:46 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:51:46 NHibernate.Type.StringType [6] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 14:51:46 NHibernate.Type.StringType [6] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 14:51:46 NHibernate.Type.StringType [6] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 14:51:46 NHibernate.Type.StringType [6] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 14:51:46 NHibernate.SQL [6] - 
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode) 
    VALUES
        (@p0, @p1, @p2, @p3);
    select
        SCOPE_IDENTITY();
    @p0 = 'string' [Type: String (4000:0:0)],
    @p1 = 'string' [Type: String (4000:0:0)],
    @p2 = 'string' [Type: String (4000:0:0)],
    @p3 = 'string' [Type: String (4000:0:0)] 
DEBUG 14-10-2020 14:51:46 NHibernate.Transaction.AdoTransaction [6] - Enlist Command 
ERROR 14-10-2020 14:51:46 NHibernate.AdoNet.AbstractBatcher [6] - Could not execute query: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
ClientConnectionId:ebf0571b-2ac3-45a7-80d4-c7cb49c19b18
Error Number:8152,State:30,Class:16

DEBUG 14-10-2020 14:51:46 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 14:51:46 NHibernate.Util.ADOExceptionReporter [6] - could not insert: [BookWarehouse.Repository.Models.Supplier]
[ INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:ebf0571b-2ac3-45a7-80d4-c7cb49c19b18
Error Number:8152,State:30,Class:16

WARN  14-10-2020 14:51:46 NHibernate.Util.ADOExceptionReporter [6] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:ebf0571b-2ac3-45a7-80d4-c7cb49c19b18
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 14:51:46 NHibernate.Util.ADOExceptionReporter [6] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 14:51:46 NHibernate.Transaction.AdoTransaction [6] - Rollback 
DEBUG 14-10-2020 14:51:46 NHibernate.Transaction.AdoTransaction [6] - DbTransaction RolledBack 
DEBUG 14-10-2020 14:51:46 NHibernate.Transaction.AdoTransaction [6] - DbTransaction disposed. 
DEBUG 14-10-2020 14:51:46 NHibernate.AdoNet.ConnectionManager [6] - Aggressively releasing database connection 
DEBUG 14-10-2020 14:51:46 NHibernate.Connection.ConnectionProvider [6] - Closing connection 
DEBUG 14-10-2020 14:51:46 NHibernate.Impl.SessionImpl [6] - transaction completion 
DEBUG 14-10-2020 14:51:46 NHibernate.Impl.SessionImpl [6] - closing session 
DEBUG 14-10-2020 14:51:46 NHibernate.AdoNet.AbstractBatcher [6] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 14:58:09 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 14:58:09 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 14:58:09 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 14:58:09 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 14:58:09 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><property name="Timestamp" type="DateTime"><column name="timestamp" /></property><property name="Actor" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="actor" /></property><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Timestamp -> timestamp, type: DateTime 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Actor -> actor, type: String 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><bag lazy="true" name="Contacts"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Timestamp" type="DateTime"><column name="timestamp" /></property><property name="Actor" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="actor" /></property><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contacts, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contacts) 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Timestamp -> timestamp, type: DateTime 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Actor -> actor, type: String 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 14:58:10 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:58:10 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:58:10 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contacts 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contacts -> supplier_contact 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
ERROR 14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - could not complete schema validation NHibernate.SchemaValidationException: Schema validation failed: see list of validation errors
   at NHibernate.Cfg.Configuration.ValidateSchema(Dialect dialect, IDatabaseMetadata databaseMetadata)
   at NHibernate.Tool.hbm2ddl.SchemaValidator.Validate()

DEBUG 14-10-2020 14:58:10 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier_contact') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier_contact 
DEBUG 14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier 
DEBUG 14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier_contact (
        Id INT IDENTITY NOT NULL,
       timestamp DATETIME2 null,
       actor NVARCHAR(255) null,
       ContactType INT not null,
       Value NVARCHAR(255) not null,
       supplier_id INT not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier (
        Id INT IDENTITY NOT NULL,
       timestamp DATETIME2 null,
       actor NVARCHAR(255) null,
       Name NVARCHAR(150) not null,
       Address NVARCHAR(255) not null,
       City NVARCHAR(50) not null,
       PostCode NVARCHAR(5) not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (supplier_id) 
        references supplier 
DEBUG 14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (id) 
        references supplier 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 14:58:10 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:58:10 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:58:10 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
DEBUG 14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier_contact (Id INT IDENTITY NOT NULL, timestamp DATETIME2 null, actor NVARCHAR(255) null, ContactType INT not null, Value NVARCHAR(255) not null, supplier_id INT not null, primary key (Id)) 
DEBUG 14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier (Id INT IDENTITY NOT NULL, timestamp DATETIME2 null, actor NVARCHAR(255) null, Name NVARCHAR(150) not null, Address NVARCHAR(255) not null, City NVARCHAR(50) not null, PostCode NVARCHAR(5) not null, primary key (Id)) 
DEBUG 14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (supplier_id) references supplier 
DEBUG 14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier 
ERROR 14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Unsuccessful: alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'fk_supplier_id' in the database.
Could not create constraint or index. See previous errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.Tool.hbm2ddl.SchemaUpdate.Execute(Action`1 scriptAction, Boolean doUpdate)
ClientConnectionId:92b6d3fc-b0b3-477d-ad85-92d8aef02940
Error Number:2714,State:5,Class:16

INFO  14-10-2020 14:58:10 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 14:58:10 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 14:58:10 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:58:10 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 14:58:10 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 14:58:10 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 14:58:10 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 14:58:10 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 14:58:10 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:58:10 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:58:10 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:58:10 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:58:10 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:58:11 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:58:11 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:58:11 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contacts 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.timestamp as timestamp2_0_, supplierco_.actor as actor3_0_, supplierco_.ContactType as contacttype4_0_, supplierco_.Value as value5_0_, supplierco_.supplier_id as supplier6_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (timestamp, actor, ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?, ?, ?) 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET timestamp = ?, actor = ?, ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier_contact (timestamp, actor, ContactType, Value, supplier_id) VALUES (?, ?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:58:11 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.timestamp as timestamp2_1_, supplier_.actor as actor3_1_, supplier_.Name as name4_1_, supplier_.Address as address5_1_, supplier_.City as city6_1_, supplier_.PostCode as postcode7_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?, ?, ?) 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET timestamp = ?, actor = ?, Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:58:11 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode) VALUES (?, ?, ?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:58:11 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contacts: SELECT contacts0_.id as id1_0_1_, contacts0_.Id as id1_0_0_, contacts0_.timestamp as timestamp2_0_0_, contacts0_.actor as actor3_0_0_, contacts0_.ContactType as contacttype4_0_0_, contacts0_.Value as value5_0_0_, contacts0_.supplier_id as supplier6_0_0_ FROM supplier_contact contacts0_ WHERE contacts0_.id=? 
DEBUG 14-10-2020 14:58:11 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 14:58:11 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 7e87fe274e7c405c8f0f6733e389122a(unnamed) 
INFO  14-10-2020 14:58:11 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 14:58:11 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 14:58:11 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 14:58:11 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 14:58:12 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 14:58:14 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:58:14 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:58:14 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 240.7638ms 200 text/html 
INFO  14-10-2020 14:58:14 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 240.7638ms 200 text/html 
INFO  14-10-2020 14:58:15 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:58:15 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:58:15 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 225.3276ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:58:15 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 225.3276ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:58:18 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 182 
INFO  14-10-2020 14:58:18 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 182 
WARN  14-10-2020 14:58:18 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [11] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 14:58:18 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [11] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 14:58:18 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [11] - CORS policy execution successful. 
INFO  14-10-2020 14:58:18 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [11] - CORS policy execution successful. 
INFO  14-10-2020 14:58:18 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [11] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:58:18 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [11] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:58:19 QSI.Web.Middleware.LogActionFilter [11] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 14:58:19 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [11] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 14:58:19 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [11] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 14:58:19 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [11] - Opening Hibernate Session. 
DEBUG 14-10-2020 14:58:19 NHibernate.Impl.SessionImpl [11] - [session-id=e1bcf33e-44c6-4114-9e5e-84d78d1878e9] opened session at timestamp: 637382842993, for session factory: [/7e87fe274e7c405c8f0f6733e389122a] 
DEBUG 14-10-2020 14:58:19 NHibernate.Transaction.AdoTransaction [11] - Begin (Unspecified) 
DEBUG 14-10-2020 14:58:19 NHibernate.Connection.DriverConnectionProvider [11] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:58:19 NHibernate.Engine.IdentifierValue [11] - unsaved-value: 0 
DEBUG 14-10-2020 14:58:19 NHibernate.Event.Default.AbstractSaveEventListener [11] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:58:19 NHibernate.Event.Default.DefaultMergeEventListener [11] - merging transient instance 
DEBUG 14-10-2020 14:58:19 NHibernate.Event.Default.AbstractSaveEventListener [11] - saving [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:58:19 NHibernate.Event.Default.AbstractSaveEventListener [11] - executing insertions 
DEBUG 14-10-2020 14:58:19 NHibernate.Event.Default.AbstractSaveEventListener [11] - executing identity-insert immediately 
DEBUG 14-10-2020 14:58:19 NHibernate.Persister.Entity.AbstractEntityPersister [11] - Inserting entity: BookWarehouse.Repository.Models.Supplier (native id) 
DEBUG 14-10-2020 14:58:19 NHibernate.AdoNet.AbstractBatcher [11] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 14:58:19 NHibernate.AdoNet.AbstractBatcher [11] - Building an DbCommand object for the SqlString: INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode) VALUES (?, ?, ?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:58:19 NHibernate.Persister.Entity.AbstractEntityPersister [11] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 14:58:19 NHibernate.Type.DateTimeType [11] - binding '14/10/2020 14:58:19' to parameter: 0 
DEBUG 14-10-2020 14:58:19 NHibernate.Type.StringType [11] - binding null to parameter: 1 
DEBUG 14-10-2020 14:58:19 NHibernate.Type.StringType [11] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 14:58:19 NHibernate.Type.StringType [11] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 14:58:19 NHibernate.Type.StringType [11] - binding 'string' to parameter: 4 
DEBUG 14-10-2020 14:58:19 NHibernate.Type.StringType [11] - binding 'string' to parameter: 5 
DEBUG 14-10-2020 14:58:19 NHibernate.SQL [11] - 
    INSERT 
    INTO
        supplier
        (timestamp, actor, Name, Address, City, PostCode) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4, @p5);
    select
        SCOPE_IDENTITY();
    @p0 = 2020-10-14T14:58:19.3159177+07:00 [Type: DateTime2 (8:0:0)],
    @p1 = NULL [Type: String (4000:0:0)],
    @p2 = 'string' [Type: String (4000:0:0)],
    @p3 = 'string' [Type: String (4000:0:0)],
    @p4 = 'string' [Type: String (4000:0:0)],
    @p5 = 'string' [Type: String (4000:0:0)] 
DEBUG 14-10-2020 14:58:19 NHibernate.Transaction.AdoTransaction [11] - Enlist Command 
ERROR 14-10-2020 14:58:19 NHibernate.AdoNet.AbstractBatcher [11] - Could not execute query: INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3, @p4, @p5); select SCOPE_IDENTITY() System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
ClientConnectionId:92b6d3fc-b0b3-477d-ad85-92d8aef02940
Error Number:8152,State:30,Class:16

DEBUG 14-10-2020 14:58:19 NHibernate.AdoNet.AbstractBatcher [11] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 14:58:19 NHibernate.Util.ADOExceptionReporter [11] - could not insert: [BookWarehouse.Repository.Models.Supplier]
[ INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3, @p4, @p5); select SCOPE_IDENTITY() ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:92b6d3fc-b0b3-477d-ad85-92d8aef02940
Error Number:8152,State:30,Class:16

WARN  14-10-2020 14:58:19 NHibernate.Util.ADOExceptionReporter [11] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:92b6d3fc-b0b3-477d-ad85-92d8aef02940
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 14:58:19 NHibernate.Util.ADOExceptionReporter [11] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 14:58:19 NHibernate.Transaction.AdoTransaction [11] - Rollback 
DEBUG 14-10-2020 14:58:19 NHibernate.Transaction.AdoTransaction [11] - DbTransaction RolledBack 
DEBUG 14-10-2020 14:58:19 NHibernate.Transaction.AdoTransaction [11] - DbTransaction disposed. 
DEBUG 14-10-2020 14:58:19 NHibernate.AdoNet.ConnectionManager [11] - Aggressively releasing database connection 
DEBUG 14-10-2020 14:58:19 NHibernate.Connection.ConnectionProvider [11] - Closing connection 
DEBUG 14-10-2020 14:58:19 NHibernate.Impl.SessionImpl [11] - transaction completion 
DEBUG 14-10-2020 14:58:19 NHibernate.Impl.SessionImpl [11] - closing session 
DEBUG 14-10-2020 14:58:19 NHibernate.AdoNet.AbstractBatcher [11] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 14:58:50 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 14:58:50 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 14:58:50 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 14:58:50 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 14:58:50 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><property name="Timestamp" type="DateTime"><column name="timestamp" /></property><property name="Actor" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="actor" /></property><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Timestamp -> timestamp, type: DateTime 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Actor -> actor, type: String 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><bag lazy="true" name="Contacts"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Timestamp" type="DateTime"><column name="timestamp" /></property><property name="Actor" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="actor" /></property><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contacts, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contacts) 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Timestamp -> timestamp, type: DateTime 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Actor -> actor, type: String 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 14:58:51 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 14:58:51 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:58:51 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:58:51 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contacts 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contacts -> supplier_contact 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id, timestamp, actor 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Name, Address, City, PostCode, Id, timestamp, actor 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:58:51 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 14:58:51 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 14:58:51 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:58:51 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:58:51 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 14:58:51 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id, timestamp, actor 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC078050C912 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Name, Address, City, PostCode, Id, timestamp, actor 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07F9FBBAAA 
INFO  14-10-2020 14:58:51 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 14:58:51 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 14:58:51 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 14:58:51 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 14:58:51 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 14:58:51 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 14:58:51 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 14:58:51 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 14:58:51 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:58:51 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:58:51 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:58:51 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:58:51 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 14:58:51 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:58:51 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contacts 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.timestamp as timestamp2_0_, supplierco_.actor as actor3_0_, supplierco_.ContactType as contacttype4_0_, supplierco_.Value as value5_0_, supplierco_.supplier_id as supplier6_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (timestamp, actor, ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?, ?, ?) 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET timestamp = ?, actor = ?, ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier_contact (timestamp, actor, ContactType, Value, supplier_id) VALUES (?, ?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:58:51 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.timestamp as timestamp2_1_, supplier_.actor as actor3_1_, supplier_.Name as name4_1_, supplier_.Address as address5_1_, supplier_.City as city6_1_, supplier_.PostCode as postcode7_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?, ?, ?) 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET timestamp = ?, actor = ?, Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 14:58:51 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode) VALUES (?, ?, ?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 14:58:51 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contacts: SELECT contacts0_.id as id1_0_1_, contacts0_.Id as id1_0_0_, contacts0_.timestamp as timestamp2_0_0_, contacts0_.actor as actor3_0_0_, contacts0_.ContactType as contacttype4_0_0_, contacts0_.Value as value5_0_0_, contacts0_.supplier_id as supplier6_0_0_ FROM supplier_contact contacts0_ WHERE contacts0_.id=? 
DEBUG 14-10-2020 14:58:51 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 14:58:51 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: d89423c75ec64312bfa97046a2436255(unnamed) 
INFO  14-10-2020 14:58:51 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 14:58:51 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 14:58:51 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 14:58:51 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 14:58:52 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 14:58:54 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:58:54 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 14:58:54 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 254.0055ms 200 text/html 
INFO  14-10-2020 14:58:54 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 254.0055ms 200 text/html 
INFO  14-10-2020 14:58:54 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:58:54 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 14:58:55 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 235.434ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:58:55 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 235.434ms 200 application/json;charset=utf-8 
INFO  14-10-2020 14:58:58 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 182 
INFO  14-10-2020 14:58:58 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 182 
WARN  14-10-2020 14:58:58 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 14:58:58 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 14:58:58 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 14:58:58 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 14:58:58 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:58:58 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 14:58:59 QSI.Web.Middleware.LogActionFilter [6] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 14:58:59 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 14:58:59 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 14:58:59 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [6] - Opening Hibernate Session. 
DEBUG 14-10-2020 14:58:59 NHibernate.Impl.SessionImpl [6] - [session-id=53104a0f-a77c-45d0-92db-d50d9372513e] opened session at timestamp: 637382843393, for session factory: [/d89423c75ec64312bfa97046a2436255] 
DEBUG 14-10-2020 14:58:59 NHibernate.Transaction.AdoTransaction [6] - Begin (Unspecified) 
DEBUG 14-10-2020 14:58:59 NHibernate.Connection.DriverConnectionProvider [6] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 14:58:59 NHibernate.Engine.IdentifierValue [6] - unsaved-value: 0 
DEBUG 14-10-2020 14:58:59 NHibernate.Event.Default.AbstractSaveEventListener [6] - transient instance of: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 14:58:59 NHibernate.Event.Default.DefaultMergeEventListener [6] - merging transient instance 
DEBUG 14-10-2020 14:58:59 NHibernate.Engine.IdentifierValue [6] - unsaved-value: 0 
DEBUG 14-10-2020 14:58:59 NHibernate.Event.Default.AbstractSaveEventListener [6] - saving [BookWarehouse.Repository.Models.SupplierContact#<null>] 
DEBUG 14-10-2020 14:58:59 NHibernate.Event.Default.AbstractSaveEventListener [6] - executing insertions 
DEBUG 14-10-2020 14:58:59 NHibernate.Engine.IdentifierValue [6] - unsaved-value: 0 
INFO  14-10-2020 14:58:59 NHibernate.Event.Default.DefaultMergeEventListener [6] - property 'BookWarehouse.Repository.Models.SupplierContact.Supplier' from original entity is in copyCache and is not in the process of being merged; Supplier =[BookWarehouse.Repository.Models.Supplier] NHibernate.PropertyValueException: not-null property references a null or transient value BookWarehouse.Repository.Models.SupplierContact.Supplier
   at NHibernate.Engine.Nullability.CheckNullability(Object[] values, IEntityPersister persister, Boolean isUpdate)
   at NHibernate.Event.Default.AbstractSaveEventListener.PerformSaveOrReplicate(Object entity, EntityKey key, IEntityPersister persister, Boolean useIdentityColumn, Object anything, IEventSource source, Boolean requiresImmediateIdAccess)
   at NHibernate.Event.Default.AbstractSaveEventListener.PerformSave(Object entity, Object id, IEntityPersister persister, Boolean useIdentityColumn, Object anything, IEventSource source, Boolean requiresImmediateIdAccess)
   at NHibernate.Event.Default.AbstractSaveEventListener.SaveWithGeneratedId(Object entity, String entityName, Object anything, IEventSource source, Boolean requiresImmediateIdAccess)
   at NHibernate.Event.Default.DefaultMergeEventListener.MergeTransientEntity(Object entity, String entityName, Object requestedId, IEventSource source, IDictionary copyCache)

INFO  14-10-2020 14:58:59 NHibernate.Event.Default.DefaultMergeEventListener [6] - transient instance could not be processed by merge: BookWarehouse.Repository.Models.Supplier [BookWarehouse.Repository.Models.Supplier] 
DEBUG 14-10-2020 14:58:59 NHibernate.Transaction.AdoTransaction [6] - Rollback 
DEBUG 14-10-2020 14:58:59 NHibernate.Transaction.AdoTransaction [6] - DbTransaction RolledBack 
DEBUG 14-10-2020 14:58:59 NHibernate.Transaction.AdoTransaction [6] - DbTransaction disposed. 
DEBUG 14-10-2020 14:58:59 NHibernate.AdoNet.ConnectionManager [6] - Aggressively releasing database connection 
DEBUG 14-10-2020 14:58:59 NHibernate.Connection.ConnectionProvider [6] - Closing connection 
DEBUG 14-10-2020 14:58:59 NHibernate.Impl.SessionImpl [6] - transaction completion 
DEBUG 14-10-2020 14:58:59 NHibernate.Impl.SessionImpl [6] - closing session 
DEBUG 14-10-2020 14:58:59 NHibernate.AdoNet.AbstractBatcher [6] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 15:04:28 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 15:04:28 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 15:04:28 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 15:04:28 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 15:04:28 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><property name="Timestamp" type="DateTime"><column name="timestamp" /></property><property name="Actor" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="actor" /></property><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 15:04:28 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:28 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Timestamp -> timestamp, type: DateTime 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Actor -> actor, type: String 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><bag lazy="true" name="Contacts"><key foreign-key="fk_supplier_id"><column name="supplier_id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Timestamp" type="DateTime"><column name="timestamp" /></property><property name="Actor" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="actor" /></property><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contacts, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contacts) 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Timestamp -> timestamp, type: DateTime 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Actor -> actor, type: String 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 15:04:29 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 15:04:29 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 15:04:29 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 15:04:29 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contacts 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contacts -> supplier_contact 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: supplier_id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id, timestamp, actor 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Name, Address, City, PostCode, Id, timestamp, actor 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 15:04:29 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 15:04:29 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 15:04:29 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 15:04:29 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 15:04:29 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 15:04:29 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id, timestamp, actor 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC078050C912 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Name, Address, City, PostCode, Id, timestamp, actor 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07F9FBBAAA 
INFO  14-10-2020 15:04:29 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 15:04:29 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 15:04:29 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 15:04:29 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 15:04:29 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 15:04:29 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 15:04:29 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 15:04:29 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 15:04:29 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 15:04:29 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 15:04:29 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 15:04:29 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 15:04:29 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 15:04:29 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 15:04:29 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contacts 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET supplier_id = null WHERE supplier_id = ? AND Id = ? 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET supplier_id = null WHERE supplier_id = ? 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.timestamp as timestamp2_0_, supplierco_.actor as actor3_0_, supplierco_.ContactType as contacttype4_0_, supplierco_.Value as value5_0_, supplierco_.supplier_id as supplier6_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (timestamp, actor, ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?, ?, ?) 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET timestamp = ?, actor = ?, ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier_contact (timestamp, actor, ContactType, Value, supplier_id) VALUES (?, ?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 15:04:29 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.timestamp as timestamp2_1_, supplier_.actor as actor3_1_, supplier_.Name as name4_1_, supplier_.Address as address5_1_, supplier_.City as city6_1_, supplier_.PostCode as postcode7_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?, ?, ?) 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET timestamp = ?, actor = ?, Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 15:04:29 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode) VALUES (?, ?, ?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 15:04:29 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contacts: SELECT contacts0_.supplier_id as supplier6_0_1_, contacts0_.Id as id1_0_1_, contacts0_.Id as id1_0_0_, contacts0_.timestamp as timestamp2_0_0_, contacts0_.actor as actor3_0_0_, contacts0_.ContactType as contacttype4_0_0_, contacts0_.Value as value5_0_0_, contacts0_.supplier_id as supplier6_0_0_ FROM supplier_contact contacts0_ WHERE contacts0_.supplier_id=? 
DEBUG 14-10-2020 15:04:29 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 15:04:29 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: b9cc2cca2c46439284214088d4d037f1(unnamed) 
INFO  14-10-2020 15:04:29 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 15:04:29 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 15:04:29 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 15:04:29 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 15:04:31 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 15:04:32 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 15:04:32 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 15:04:32 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 258.107ms 200 text/html 
INFO  14-10-2020 15:04:32 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 258.107ms 200 text/html 
INFO  14-10-2020 15:04:33 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 15:04:33 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 15:04:33 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 259.5313ms 200 application/json;charset=utf-8 
INFO  14-10-2020 15:04:33 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 259.5313ms 200 application/json;charset=utf-8 
INFO  14-10-2020 15:04:44 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 205 
INFO  14-10-2020 15:04:44 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 205 
WARN  14-10-2020 15:04:44 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [11] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 15:04:44 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [11] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 15:04:44 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [11] - CORS policy execution successful. 
INFO  14-10-2020 15:04:44 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [11] - CORS policy execution successful. 
INFO  14-10-2020 15:04:44 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [11] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 15:04:44 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [11] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 15:04:44 QSI.Web.Middleware.LogActionFilter [11] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 15:04:44 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [11] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 15:04:44 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [11] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 15:04:45 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [11] - Opening Hibernate Session. 
DEBUG 14-10-2020 15:04:45 NHibernate.Impl.SessionImpl [11] - [session-id=2bd3b1ad-f0ff-44c6-b9ac-4614e40ba6fb] opened session at timestamp: 637382846850, for session factory: [/b9cc2cca2c46439284214088d4d037f1] 
DEBUG 14-10-2020 15:04:45 NHibernate.Transaction.AdoTransaction [11] - Begin (Unspecified) 
DEBUG 14-10-2020 15:04:45 NHibernate.Connection.DriverConnectionProvider [11] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 15:04:45 NHibernate.Engine.IdentifierValue [11] - unsaved-value: 0 
DEBUG 14-10-2020 15:04:45 NHibernate.Event.Default.AbstractSaveEventListener [11] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 15:04:45 NHibernate.Event.Default.DefaultMergeEventListener [11] - merging transient instance 
DEBUG 14-10-2020 15:04:45 NHibernate.Event.Default.AbstractSaveEventListener [11] - saving [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 15:04:45 NHibernate.Event.Default.AbstractSaveEventListener [11] - executing insertions 
DEBUG 14-10-2020 15:04:45 NHibernate.Event.Default.AbstractSaveEventListener [11] - executing identity-insert immediately 
DEBUG 14-10-2020 15:04:45 NHibernate.Persister.Entity.AbstractEntityPersister [11] - Inserting entity: BookWarehouse.Repository.Models.Supplier (native id) 
DEBUG 14-10-2020 15:04:45 NHibernate.AdoNet.AbstractBatcher [11] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 15:04:45 NHibernate.AdoNet.AbstractBatcher [11] - Building an DbCommand object for the SqlString: INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode) VALUES (?, ?, ?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 15:04:45 NHibernate.Persister.Entity.AbstractEntityPersister [11] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 15:04:45 NHibernate.Type.DateTimeType [11] - binding '14/10/2020 15:04:45' to parameter: 0 
DEBUG 14-10-2020 15:04:45 NHibernate.Type.StringType [11] - binding null to parameter: 1 
DEBUG 14-10-2020 15:04:45 NHibernate.Type.StringType [11] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 15:04:45 NHibernate.Type.StringType [11] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 15:04:45 NHibernate.Type.StringType [11] - binding 'string' to parameter: 4 
DEBUG 14-10-2020 15:04:45 NHibernate.Type.StringType [11] - binding 'string' to parameter: 5 
DEBUG 14-10-2020 15:04:45 NHibernate.SQL [11] - 
    INSERT 
    INTO
        supplier
        (timestamp, actor, Name, Address, City, PostCode) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4, @p5);
    select
        SCOPE_IDENTITY();
    @p0 = 2020-10-14T15:04:45.0203572+07:00 [Type: DateTime2 (8:0:0)],
    @p1 = NULL [Type: String (4000:0:0)],
    @p2 = 'string' [Type: String (4000:0:0)],
    @p3 = 'string' [Type: String (4000:0:0)],
    @p4 = 'string' [Type: String (4000:0:0)],
    @p5 = 'string' [Type: String (4000:0:0)] 
DEBUG 14-10-2020 15:04:45 NHibernate.Transaction.AdoTransaction [11] - Enlist Command 
ERROR 14-10-2020 15:04:45 NHibernate.AdoNet.AbstractBatcher [11] - Could not execute query: INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3, @p4, @p5); select SCOPE_IDENTITY() System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
ClientConnectionId:ffe15a1b-25cb-4fa6-a7cd-efcaaa3ec958
Error Number:8152,State:30,Class:16

DEBUG 14-10-2020 15:04:45 NHibernate.AdoNet.AbstractBatcher [11] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 15:04:45 NHibernate.Util.ADOExceptionReporter [11] - could not insert: [BookWarehouse.Repository.Models.Supplier]
[ INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3, @p4, @p5); select SCOPE_IDENTITY() ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:ffe15a1b-25cb-4fa6-a7cd-efcaaa3ec958
Error Number:8152,State:30,Class:16

WARN  14-10-2020 15:04:45 NHibernate.Util.ADOExceptionReporter [11] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:ffe15a1b-25cb-4fa6-a7cd-efcaaa3ec958
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 15:04:45 NHibernate.Util.ADOExceptionReporter [11] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 15:04:45 NHibernate.Transaction.AdoTransaction [11] - Rollback 
DEBUG 14-10-2020 15:04:45 NHibernate.Transaction.AdoTransaction [11] - DbTransaction RolledBack 
DEBUG 14-10-2020 15:04:45 NHibernate.Transaction.AdoTransaction [11] - DbTransaction disposed. 
DEBUG 14-10-2020 15:04:45 NHibernate.AdoNet.ConnectionManager [11] - Aggressively releasing database connection 
DEBUG 14-10-2020 15:04:45 NHibernate.Connection.ConnectionProvider [11] - Closing connection 
DEBUG 14-10-2020 15:04:45 NHibernate.Impl.SessionImpl [11] - transaction completion 
DEBUG 14-10-2020 15:04:45 NHibernate.Impl.SessionImpl [11] - closing session 
DEBUG 14-10-2020 15:04:45 NHibernate.AdoNet.AbstractBatcher [11] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 15:18:25 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 15:18:25 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 15:18:25 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 15:18:25 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 15:18:26 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><property name="Timestamp" type="DateTime"><column name="timestamp" /></property><property name="Actor" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="actor" /></property><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" length="255" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 15:18:26 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:26 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 15:18:26 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 15:18:26 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Timestamp -> timestamp, type: DateTime 
DEBUG 14-10-2020 15:18:26 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Actor -> actor, type: String 
DEBUG 14-10-2020 15:18:26 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 15:18:26 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 15:18:26 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 15:18:26 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><bag lazy="true" name="Contacts"><key foreign-key="fk_supplier_id"><column name="supplier_id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Timestamp" type="DateTime"><column name="timestamp" /></property><property name="Actor" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="actor" /></property><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="150" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" length="50" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 15:18:26 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:26 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 15:18:26 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 15:18:26 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contacts, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contacts) 
DEBUG 14-10-2020 15:18:26 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Timestamp -> timestamp, type: DateTime 
DEBUG 14-10-2020 15:18:26 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Actor -> actor, type: String 
DEBUG 14-10-2020 15:18:26 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 15:18:26 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 15:18:26 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 15:18:26 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 15:18:26 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:26 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 15:18:26 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 15:18:26 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 15:18:26 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 15:18:26 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 15:18:26 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 15:18:27 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contacts 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contacts -> supplier_contact 
DEBUG 14-10-2020 15:18:27 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: supplier_id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id, timestamp, actor 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Name, Address, City, PostCode, Id, timestamp, actor 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 15:18:27 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:27 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 15:18:27 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 15:18:27 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 15:18:27 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 15:18:27 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 15:18:27 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id, timestamp, actor 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC078050C912 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Name, Address, City, PostCode, Id, timestamp, actor 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07F9FBBAAA 
INFO  14-10-2020 15:18:27 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 15:18:27 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:27 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 15:18:27 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 15:18:27 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 15:18:27 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 15:18:27 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 15:18:27 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 15:18:27 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 15:18:27 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 15:18:27 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 15:18:27 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 15:18:27 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 15:18:27 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 15:18:27 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 15:18:27 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contacts 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET supplier_id = null WHERE supplier_id = ? AND Id = ? 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET supplier_id = null WHERE supplier_id = ? 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.timestamp as timestamp2_0_, supplierco_.actor as actor3_0_, supplierco_.ContactType as contacttype4_0_, supplierco_.Value as value5_0_, supplierco_.supplier_id as supplier6_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (timestamp, actor, ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?, ?, ?) 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET timestamp = ?, actor = ?, ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier_contact (timestamp, actor, ContactType, Value, supplier_id) VALUES (?, ?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 15:18:27 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.timestamp as timestamp2_0_0_, supplierco0_.actor as actor3_0_0_, supplierco0_.ContactType as contacttype4_0_0_, supplierco0_.Value as value5_0_0_, supplierco0_.supplier_id as supplier6_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.timestamp as timestamp2_1_, supplier_.actor as actor3_1_, supplier_.Name as name4_1_, supplier_.Address as address5_1_, supplier_.City as city6_1_, supplier_.PostCode as postcode7_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?, ?, ?) 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET timestamp = ?, actor = ?, Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 15:18:27 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode) VALUES (?, ?, ?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 15:18:27 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.timestamp as timestamp2_1_0_, supplier0_.actor as actor3_1_0_, supplier0_.Name as name4_1_0_, supplier0_.Address as address5_1_0_, supplier0_.City as city6_1_0_, supplier0_.PostCode as postcode7_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contacts: SELECT contacts0_.supplier_id as supplier6_0_1_, contacts0_.Id as id1_0_1_, contacts0_.Id as id1_0_0_, contacts0_.timestamp as timestamp2_0_0_, contacts0_.actor as actor3_0_0_, contacts0_.ContactType as contacttype4_0_0_, contacts0_.Value as value5_0_0_, contacts0_.supplier_id as supplier6_0_0_ FROM supplier_contact contacts0_ WHERE contacts0_.supplier_id=? 
DEBUG 14-10-2020 15:18:27 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 15:18:27 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: c6ac72c3bb6a487db6d95ce7c5fc4849(unnamed) 
INFO  14-10-2020 15:18:27 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 15:18:27 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 15:18:27 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 15:18:27 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 15:18:29 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 15:18:30 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 15:18:30 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 15:18:30 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 235.9863ms 200 text/html 
INFO  14-10-2020 15:18:30 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 235.9863ms 200 text/html 
INFO  14-10-2020 15:18:31 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 15:18:31 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 15:18:31 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request finished in 217.452ms 200 application/json;charset=utf-8 
INFO  14-10-2020 15:18:31 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request finished in 217.452ms 200 application/json;charset=utf-8 
INFO  14-10-2020 15:18:35 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 182 
INFO  14-10-2020 15:18:35 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 182 
WARN  14-10-2020 15:18:35 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 15:18:35 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 15:18:35 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 15:18:35 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 15:18:35 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 15:18:35 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 15:18:35 QSI.Web.Middleware.LogActionFilter [7] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 15:18:35 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 15:18:35 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 15:18:35 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [7] - Opening Hibernate Session. 
DEBUG 14-10-2020 15:18:35 NHibernate.Impl.SessionImpl [7] - [session-id=1178f902-775a-4563-8221-1a5901042977] opened session at timestamp: 637382855158, for session factory: [/c6ac72c3bb6a487db6d95ce7c5fc4849] 
DEBUG 14-10-2020 15:18:35 NHibernate.Transaction.AdoTransaction [7] - Begin (Unspecified) 
DEBUG 14-10-2020 15:18:35 NHibernate.Connection.DriverConnectionProvider [7] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 15:18:35 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 0 
DEBUG 14-10-2020 15:18:35 NHibernate.Event.Default.AbstractSaveEventListener [7] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 15:18:35 NHibernate.Event.Default.DefaultMergeEventListener [7] - merging transient instance 
DEBUG 14-10-2020 15:18:35 NHibernate.Event.Default.AbstractSaveEventListener [7] - saving [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 15:18:35 NHibernate.Event.Default.AbstractSaveEventListener [7] - executing insertions 
DEBUG 14-10-2020 15:18:35 NHibernate.Event.Default.AbstractSaveEventListener [7] - executing identity-insert immediately 
DEBUG 14-10-2020 15:18:35 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Inserting entity: BookWarehouse.Repository.Models.Supplier (native id) 
DEBUG 14-10-2020 15:18:35 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 15:18:35 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode) VALUES (?, ?, ?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 15:18:35 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 15:18:35 NHibernate.Type.DateTimeType [7] - binding '14/10/2020 15:18:35' to parameter: 0 
DEBUG 14-10-2020 15:18:35 NHibernate.Type.StringType [7] - binding null to parameter: 1 
DEBUG 14-10-2020 15:18:35 NHibernate.Type.StringType [7] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 15:18:35 NHibernate.Type.StringType [7] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 15:18:35 NHibernate.Type.StringType [7] - binding 'string' to parameter: 4 
DEBUG 14-10-2020 15:18:35 NHibernate.Type.StringType [7] - binding 'string' to parameter: 5 
DEBUG 14-10-2020 15:18:35 NHibernate.SQL [7] - 
    INSERT 
    INTO
        supplier
        (timestamp, actor, Name, Address, City, PostCode) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4, @p5);
    select
        SCOPE_IDENTITY();
    @p0 = 2020-10-14T15:18:35.8690108+07:00 [Type: DateTime2 (8:0:0)],
    @p1 = NULL [Type: String (4000:0:0)],
    @p2 = 'string' [Type: String (4000:0:0)],
    @p3 = 'string' [Type: String (4000:0:0)],
    @p4 = 'string' [Type: String (4000:0:0)],
    @p5 = 'string' [Type: String (4000:0:0)] 
DEBUG 14-10-2020 15:18:36 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
ERROR 14-10-2020 15:18:36 NHibernate.AdoNet.AbstractBatcher [7] - Could not execute query: INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3, @p4, @p5); select SCOPE_IDENTITY() System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
ClientConnectionId:1fd89bda-307a-4206-96b2-e941268be3cb
Error Number:8152,State:30,Class:16

DEBUG 14-10-2020 15:18:36 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 15:18:36 NHibernate.Util.ADOExceptionReporter [7] - could not insert: [BookWarehouse.Repository.Models.Supplier]
[ INSERT INTO supplier (timestamp, actor, Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3, @p4, @p5); select SCOPE_IDENTITY() ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:1fd89bda-307a-4206-96b2-e941268be3cb
Error Number:8152,State:30,Class:16

WARN  14-10-2020 15:18:36 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:1fd89bda-307a-4206-96b2-e941268be3cb
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 15:18:36 NHibernate.Util.ADOExceptionReporter [7] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 15:18:36 NHibernate.Transaction.AdoTransaction [7] - Rollback 
DEBUG 14-10-2020 15:18:36 NHibernate.Transaction.AdoTransaction [7] - DbTransaction RolledBack 
DEBUG 14-10-2020 15:18:36 NHibernate.Transaction.AdoTransaction [7] - DbTransaction disposed. 
DEBUG 14-10-2020 15:18:36 NHibernate.AdoNet.ConnectionManager [7] - Aggressively releasing database connection 
DEBUG 14-10-2020 15:18:36 NHibernate.Connection.ConnectionProvider [7] - Closing connection 
DEBUG 14-10-2020 15:18:36 NHibernate.Impl.SessionImpl [7] - transaction completion 
DEBUG 14-10-2020 15:18:36 NHibernate.Impl.SessionImpl [7] - closing session 
DEBUG 14-10-2020 15:18:36 NHibernate.AdoNet.AbstractBatcher [7] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 15:19:03 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executed action BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) in 28163.6407ms 
INFO  14-10-2020 15:19:03 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executed action BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) in 28163.6407ms 
INFO  14-10-2020 15:19:03 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 28286.2329ms 500 application/json 
INFO  14-10-2020 15:19:03 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 28286.2329ms 500 application/json 
INFO  14-10-2020 15:19:15 Microsoft.AspNetCore.Hosting.Internal.WebHost [18] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 182 
INFO  14-10-2020 15:19:15 Microsoft.AspNetCore.Hosting.Internal.WebHost [18] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 182 
WARN  14-10-2020 15:19:15 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [18] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 15:19:15 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [18] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 15:19:15 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [18] - CORS policy execution successful. 
INFO  14-10-2020 15:19:15 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [18] - CORS policy execution successful. 
INFO  14-10-2020 15:19:15 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [18] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 15:19:15 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [18] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 15:19:15 QSI.Web.Middleware.LogActionFilter [18] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 15:19:15 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [18] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 15:19:15 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [18] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 16:17:23 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 16:17:23 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 16:17:23 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 16:17:23 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 16:17:23 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="255" not-null="true" /></property><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><bag lazy="true" name="Contacts"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="255" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="500" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contacts, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contacts) 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 16:17:24 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 16:17:24 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:17:24 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:17:24 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contacts 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contacts -> supplier_contact 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id, timestamp, actor 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Name, Address, City, PostCode, Id, timestamp, actor 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
ERROR 14-10-2020 16:17:24 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - could not complete schema validation NHibernate.SchemaValidationException: Schema validation failed: see list of validation errors
   at NHibernate.Cfg.Configuration.ValidateSchema(Dialect dialect, IDatabaseMetadata databaseMetadata)
   at NHibernate.Tool.hbm2ddl.SchemaValidator.Validate()

DEBUG 14-10-2020 16:17:24 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:17:24 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 16:17:24 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 16:17:24 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier_contact') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier_contact 
DEBUG 14-10-2020 16:17:24 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier 
DEBUG 14-10-2020 16:17:24 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier_contact (
        Id INT IDENTITY NOT NULL,
       Name NVARCHAR(255) not null,
       ContactType INT not null,
       Value NVARCHAR(255) not null,
       supplier_id INT not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 16:17:24 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier (
        Id INT IDENTITY NOT NULL,
       Name NVARCHAR(255) not null,
       Address NVARCHAR(500) not null,
       City NVARCHAR(255) not null,
       PostCode NVARCHAR(5) not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 16:17:24 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (supplier_id) 
        references supplier 
DEBUG 14-10-2020 16:17:24 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (id) 
        references supplier 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 16:17:24 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 16:17:24 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:17:24 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:17:24 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 16:17:24 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, ContactType, Value, supplier_id, timestamp, actor 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC078050C912 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Name, Address, City, PostCode, Id, timestamp, actor 
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 16:17:24 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07F9FBBAAA 
DEBUG 14-10-2020 16:17:24 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add Name NVARCHAR(255) 
INFO  14-10-2020 16:17:24 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 16:17:24 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:17:24 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:17:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:25 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 16:17:25 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:17:25 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:17:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 16:17:25 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 16:17:25 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 16:17:25 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 16:17:25 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 16:17:25 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 16:17:25 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:17:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:17:25 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 16:17:25 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 16:17:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:17:25 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:17:25 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contacts 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.Name as name2_0_, supplierco_.ContactType as contacttype3_0_, supplierco_.Value as value4_0_, supplierco_.supplier_id as supplier5_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (Name, ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET Name = ?, ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier_contact (Name, ContactType, Value, supplier_id) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 16:17:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 16:17:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 16:17:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contacts: SELECT contacts0_.id as id1_0_1_, contacts0_.Id as id1_0_0_, contacts0_.Name as name2_0_0_, contacts0_.ContactType as contacttype3_0_0_, contacts0_.Value as value4_0_0_, contacts0_.supplier_id as supplier5_0_0_ FROM supplier_contact contacts0_ WHERE contacts0_.id=? 
DEBUG 14-10-2020 16:17:25 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 16:17:25 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: cfc1f60b3dc247ff9531a584bcb13396(unnamed) 
INFO  14-10-2020 16:17:25 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 16:17:25 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 16:17:25 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 16:17:25 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 16:17:26 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 16:17:28 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 16:17:28 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 16:17:29 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 609.6474ms 200 text/html 
INFO  14-10-2020 16:17:29 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 609.6474ms 200 text/html 
INFO  14-10-2020 16:17:30 Microsoft.AspNetCore.Hosting.Internal.WebHost [15] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 16:17:30 Microsoft.AspNetCore.Hosting.Internal.WebHost [15] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 16:17:30 Microsoft.AspNetCore.Hosting.Internal.WebHost [15] - Request finished in 259.0575ms 200 application/json;charset=utf-8 
INFO  14-10-2020 16:17:30 Microsoft.AspNetCore.Hosting.Internal.WebHost [15] - Request finished in 259.0575ms 200 application/json;charset=utf-8 
INFO  14-10-2020 16:17:34 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 206 
INFO  14-10-2020 16:17:34 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 206 
WARN  14-10-2020 16:17:34 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 16:17:34 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 16:17:34 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 16:17:34 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 16:17:34 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 16:17:34 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 16:17:35 QSI.Web.Middleware.LogActionFilter [6] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 16:17:35 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 16:17:35 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 16:17:35 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [6] - Opening Hibernate Session. 
DEBUG 14-10-2020 16:17:35 NHibernate.Impl.SessionImpl [6] - [session-id=d8e017ab-2944-497e-98e0-81fdfb25fcbb] opened session at timestamp: 637382890555, for session factory: [/cfc1f60b3dc247ff9531a584bcb13396] 
DEBUG 14-10-2020 16:17:35 NHibernate.Transaction.AdoTransaction [6] - Begin (Unspecified) 
DEBUG 14-10-2020 16:17:35 NHibernate.Connection.DriverConnectionProvider [6] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 16:17:35 NHibernate.Loader.Criteria.CriteriaQueryTranslator [6] - put criteria=name = string alias=this0_ 
DEBUG 14-10-2020 16:17:35 NHibernate.Loader.Criteria.CriteriaQueryTranslator [6] - returning alias=this_ for criteria=name = string 
DEBUG 14-10-2020 16:18:16 NHibernate.Transaction.AdoTransaction [6] - Rollback 
DEBUG 14-10-2020 16:18:16 NHibernate.Transaction.AdoTransaction [6] - DbTransaction RolledBack 
DEBUG 14-10-2020 16:18:16 NHibernate.Transaction.AdoTransaction [6] - DbTransaction disposed. 
DEBUG 14-10-2020 16:18:16 NHibernate.AdoNet.ConnectionManager [6] - Aggressively releasing database connection 
DEBUG 14-10-2020 16:18:16 NHibernate.Connection.ConnectionProvider [6] - Closing connection 
DEBUG 14-10-2020 16:18:16 NHibernate.Impl.SessionImpl [6] - transaction completion 
DEBUG 14-10-2020 16:18:16 NHibernate.Impl.SessionImpl [6] - closing session 
DEBUG 14-10-2020 16:18:16 NHibernate.AdoNet.AbstractBatcher [6] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 16:18:22 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executed action BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) in 47861.3565ms 
INFO  14-10-2020 16:18:22 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executed action BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) in 47861.3565ms 
INFO  14-10-2020 16:18:22 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 47980.6408ms 500 application/json 
INFO  14-10-2020 16:18:22 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 47980.6408ms 500 application/json 
DEBUG 14-10-2020 16:18:27 NHibernate.Impl.SessionImpl [2] - [session-id=d8e017ab-2944-497e-98e0-81fdfb25fcbb] executing real Dispose(False) 
INFO  14-10-2020 16:19:05 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 16:19:05 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 16:19:05 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 16:19:05 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="255" not-null="true" /></property><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 16:19:05 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:05 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><bag lazy="true" name="Contacts"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="255" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="500" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 16:19:05 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:05 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contacts, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contacts) 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 16:19:05 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:05 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 16:19:05 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 16:19:05 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:19:05 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:19:05 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:19:05 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 16:19:05 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:19:05 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contacts 
INFO  14-10-2020 16:19:05 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contacts -> supplier_contact 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 16:19:05 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:19:05 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:19:05 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:19:05 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: ContactType, Value, supplier_id, Id, timestamp, actor, Name 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Name, Address, City, PostCode, Id, timestamp, actor 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:19:06 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:06 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 16:19:06 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 16:19:06 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:19:06 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:19:06 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 16:19:06 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:19:06 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:19:06 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: ContactType, Value, supplier_id, Id, timestamp, actor, Name 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC078050C912 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Name, Address, City, PostCode, Id, timestamp, actor 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07F9FBBAAA 
INFO  14-10-2020 16:19:06 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 16:19:06 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:19:06 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:19:06 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:06 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 16:19:06 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:19:06 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 16:19:06 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 16:19:06 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 16:19:06 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 16:19:06 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 16:19:06 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 16:19:06 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:19:06 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 16:19:06 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 16:19:06 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:19:06 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:19:06 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contacts 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.Name as name2_0_, supplierco_.ContactType as contacttype3_0_, supplierco_.Value as value4_0_, supplierco_.supplier_id as supplier5_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (Name, ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET Name = ?, ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier_contact (Name, ContactType, Value, supplier_id) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 16:19:06 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 16:19:06 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 16:19:06 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contacts: SELECT contacts0_.id as id1_0_1_, contacts0_.Id as id1_0_0_, contacts0_.Name as name2_0_0_, contacts0_.ContactType as contacttype3_0_0_, contacts0_.Value as value4_0_0_, contacts0_.supplier_id as supplier5_0_0_ FROM supplier_contact contacts0_ WHERE contacts0_.id=? 
DEBUG 14-10-2020 16:19:06 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 16:19:06 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 3d16ad85256345239b8242071e0e1066(unnamed) 
INFO  14-10-2020 16:19:06 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 16:19:06 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 16:19:06 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 16:19:06 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 16:19:07 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 16:19:09 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 16:19:09 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 16:19:09 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 236.949ms 200 text/html 
INFO  14-10-2020 16:19:09 Microsoft.AspNetCore.Hosting.Internal.WebHost [14] - Request finished in 236.949ms 200 text/html 
INFO  14-10-2020 16:19:09 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 16:19:09 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 16:19:09 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 226.9422ms 200 application/json;charset=utf-8 
INFO  14-10-2020 16:19:09 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 226.9422ms 200 application/json;charset=utf-8 
INFO  14-10-2020 16:19:14 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 206 
INFO  14-10-2020 16:19:14 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 206 
WARN  14-10-2020 16:19:14 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [12] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 16:19:14 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [12] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 16:19:14 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [12] - CORS policy execution successful. 
INFO  14-10-2020 16:19:14 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [12] - CORS policy execution successful. 
INFO  14-10-2020 16:19:14 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [12] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 16:19:14 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [12] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 16:19:14 QSI.Web.Middleware.LogActionFilter [12] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 16:19:14 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [12] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 16:19:14 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [12] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 16:19:14 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [12] - Opening Hibernate Session. 
DEBUG 14-10-2020 16:19:14 NHibernate.Impl.SessionImpl [12] - [session-id=a0e5e40f-0b8d-49d3-9713-4097d30fb53b] opened session at timestamp: 637382891547, for session factory: [/3d16ad85256345239b8242071e0e1066] 
DEBUG 14-10-2020 16:19:14 NHibernate.Transaction.AdoTransaction [12] - Begin (Unspecified) 
DEBUG 14-10-2020 16:19:14 NHibernate.Connection.DriverConnectionProvider [12] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 16:19:14 NHibernate.Engine.IdentifierValue [12] - unsaved-value: 0 
DEBUG 14-10-2020 16:19:14 NHibernate.Event.Default.AbstractSaveEventListener [12] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:19:14 NHibernate.Event.Default.DefaultMergeEventListener [12] - merging transient instance 
DEBUG 14-10-2020 16:19:14 NHibernate.Event.Default.AbstractSaveEventListener [12] - saving [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 16:19:14 NHibernate.Event.Default.AbstractSaveEventListener [12] - executing insertions 
DEBUG 14-10-2020 16:19:14 NHibernate.Event.Default.AbstractSaveEventListener [12] - executing identity-insert immediately 
DEBUG 14-10-2020 16:19:14 NHibernate.Persister.Entity.AbstractEntityPersister [12] - Inserting entity: BookWarehouse.Repository.Models.Supplier (native id) 
DEBUG 14-10-2020 16:19:14 NHibernate.AdoNet.AbstractBatcher [12] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 16:19:14 NHibernate.AdoNet.AbstractBatcher [12] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 16:19:14 NHibernate.Persister.Entity.AbstractEntityPersister [12] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 16:19:14 NHibernate.Type.StringType [12] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 16:19:14 NHibernate.Type.StringType [12] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 16:19:14 NHibernate.Type.StringType [12] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 16:19:14 NHibernate.Type.StringType [12] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 16:19:14 NHibernate.SQL [12] - 
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode) 
    VALUES
        (@p0, @p1, @p2, @p3);
    select
        SCOPE_IDENTITY();
    @p0 = 'string' [Type: String (4000:0:0)],
    @p1 = 'string' [Type: String (4000:0:0)],
    @p2 = 'string' [Type: String (4000:0:0)],
    @p3 = 'string' [Type: String (4000:0:0)] 
DEBUG 14-10-2020 16:19:14 NHibernate.Transaction.AdoTransaction [12] - Enlist Command 
ERROR 14-10-2020 16:19:14 NHibernate.AdoNet.AbstractBatcher [12] - Could not execute query: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
ClientConnectionId:cb73ecb2-7ae3-4263-b103-5c5ce66d33d8
Error Number:8152,State:30,Class:16

DEBUG 14-10-2020 16:19:14 NHibernate.AdoNet.AbstractBatcher [12] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 16:19:14 NHibernate.Util.ADOExceptionReporter [12] - could not insert: [BookWarehouse.Repository.Models.Supplier]
[ INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:cb73ecb2-7ae3-4263-b103-5c5ce66d33d8
Error Number:8152,State:30,Class:16

WARN  14-10-2020 16:19:14 NHibernate.Util.ADOExceptionReporter [12] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:cb73ecb2-7ae3-4263-b103-5c5ce66d33d8
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 16:19:14 NHibernate.Util.ADOExceptionReporter [12] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 16:19:14 NHibernate.Transaction.AdoTransaction [12] - Rollback 
DEBUG 14-10-2020 16:19:14 NHibernate.Transaction.AdoTransaction [12] - DbTransaction RolledBack 
DEBUG 14-10-2020 16:19:14 NHibernate.Transaction.AdoTransaction [12] - DbTransaction disposed. 
DEBUG 14-10-2020 16:19:14 NHibernate.AdoNet.ConnectionManager [12] - Aggressively releasing database connection 
DEBUG 14-10-2020 16:19:14 NHibernate.Connection.ConnectionProvider [12] - Closing connection 
DEBUG 14-10-2020 16:19:14 NHibernate.Impl.SessionImpl [12] - transaction completion 
DEBUG 14-10-2020 16:19:14 NHibernate.Impl.SessionImpl [12] - closing session 
DEBUG 14-10-2020 16:19:14 NHibernate.AdoNet.AbstractBatcher [12] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 16:19:42 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 16:19:42 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 16:19:42 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 16:19:42 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 16:19:42 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="255" not-null="true" /></property><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><bag lazy="true" name="Contacts"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="255" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="500" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contacts, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contacts) 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 16:19:43 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:19:43 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:19:43 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contacts 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contacts -> supplier_contact 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
ERROR 14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - could not complete schema validation NHibernate.SchemaValidationException: Schema validation failed: see list of validation errors
   at NHibernate.Cfg.Configuration.ValidateSchema(Dialect dialect, IDatabaseMetadata databaseMetadata)
   at NHibernate.Tool.hbm2ddl.SchemaValidator.Validate()

DEBUG 14-10-2020 16:19:43 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier_contact') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier_contact 
DEBUG 14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier 
DEBUG 14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier_contact (
        Id INT IDENTITY NOT NULL,
       Name NVARCHAR(255) not null,
       ContactType INT not null,
       Value NVARCHAR(255) not null,
       supplier_id INT not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier (
        Id INT IDENTITY NOT NULL,
       Name NVARCHAR(255) not null,
       Address NVARCHAR(500) not null,
       City NVARCHAR(255) not null,
       PostCode NVARCHAR(5) not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (supplier_id) 
        references supplier 
DEBUG 14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (id) 
        references supplier 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 16:19:43 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:19:43 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:19:43 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
DEBUG 14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier_contact (Id INT IDENTITY NOT NULL, Name NVARCHAR(255) not null, ContactType INT not null, Value NVARCHAR(255) not null, supplier_id INT not null, primary key (Id)) 
DEBUG 14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier (Id INT IDENTITY NOT NULL, Name NVARCHAR(255) not null, Address NVARCHAR(500) not null, City NVARCHAR(255) not null, PostCode NVARCHAR(5) not null, primary key (Id)) 
DEBUG 14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (supplier_id) references supplier 
DEBUG 14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier 
ERROR 14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Unsuccessful: alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'fk_supplier_id' in the database.
Could not create constraint or index. See previous errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.Tool.hbm2ddl.SchemaUpdate.Execute(Action`1 scriptAction, Boolean doUpdate)
ClientConnectionId:f18ddfd0-8751-4481-ae54-2b4ce9ce73a4
Error Number:2714,State:5,Class:16

INFO  14-10-2020 16:19:43 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 16:19:43 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 16:19:43 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:19:43 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 16:19:43 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 16:19:43 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 16:19:43 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 16:19:43 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 16:19:43 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 16:19:43 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:19:43 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 16:19:43 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 16:19:43 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:19:43 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:19:43 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contacts 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.Name as name2_0_, supplierco_.ContactType as contacttype3_0_, supplierco_.Value as value4_0_, supplierco_.supplier_id as supplier5_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (Name, ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET Name = ?, ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier_contact (Name, ContactType, Value, supplier_id) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 16:19:44 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 16:19:44 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 16:19:44 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contacts: SELECT contacts0_.id as id1_0_1_, contacts0_.Id as id1_0_0_, contacts0_.Name as name2_0_0_, contacts0_.ContactType as contacttype3_0_0_, contacts0_.Value as value4_0_0_, contacts0_.supplier_id as supplier5_0_0_ FROM supplier_contact contacts0_ WHERE contacts0_.id=? 
DEBUG 14-10-2020 16:19:44 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 16:19:44 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 2a776f178082418b840de3ebdbf3aac7(unnamed) 
INFO  14-10-2020 16:19:44 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 16:19:44 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 16:19:44 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 16:19:44 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 16:19:45 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 16:19:46 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 16:19:46 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 16:19:47 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request finished in 232.2951ms 200 text/html 
INFO  14-10-2020 16:19:47 Microsoft.AspNetCore.Hosting.Internal.WebHost [13] - Request finished in 232.2951ms 200 text/html 
INFO  14-10-2020 16:19:47 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 16:19:47 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 16:19:47 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 240.4929ms 200 application/json;charset=utf-8 
INFO  14-10-2020 16:19:47 Microsoft.AspNetCore.Hosting.Internal.WebHost [11] - Request finished in 240.4929ms 200 application/json;charset=utf-8 
INFO  14-10-2020 16:20:08 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 206 
INFO  14-10-2020 16:20:08 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 206 
WARN  14-10-2020 16:20:08 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 16:20:08 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 16:20:08 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 16:20:08 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 16:20:08 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 16:20:08 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 16:20:08 QSI.Web.Middleware.LogActionFilter [6] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 16:20:08 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 16:20:08 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 16:20:08 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [6] - Opening Hibernate Session. 
DEBUG 14-10-2020 16:20:08 NHibernate.Impl.SessionImpl [6] - [session-id=b3f01906-b2ef-4c65-960a-17ee444399de] opened session at timestamp: 637382892088, for session factory: [/2a776f178082418b840de3ebdbf3aac7] 
DEBUG 14-10-2020 16:20:08 NHibernate.Transaction.AdoTransaction [6] - Begin (Unspecified) 
DEBUG 14-10-2020 16:20:08 NHibernate.Connection.DriverConnectionProvider [6] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 16:20:08 NHibernate.Engine.IdentifierValue [6] - unsaved-value: 0 
DEBUG 14-10-2020 16:20:08 NHibernate.Event.Default.AbstractSaveEventListener [6] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:20:08 NHibernate.Event.Default.DefaultMergeEventListener [6] - merging transient instance 
DEBUG 14-10-2020 16:20:08 NHibernate.Event.Default.AbstractSaveEventListener [6] - saving [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 16:20:08 NHibernate.Event.Default.AbstractSaveEventListener [6] - executing insertions 
DEBUG 14-10-2020 16:20:08 NHibernate.Event.Default.AbstractSaveEventListener [6] - executing identity-insert immediately 
DEBUG 14-10-2020 16:20:08 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Inserting entity: BookWarehouse.Repository.Models.Supplier (native id) 
DEBUG 14-10-2020 16:20:08 NHibernate.AdoNet.AbstractBatcher [6] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 16:20:08 NHibernate.AdoNet.AbstractBatcher [6] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 16:20:08 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 16:20:08 NHibernate.Type.StringType [6] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 16:20:08 NHibernate.Type.StringType [6] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 16:20:08 NHibernate.Type.StringType [6] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 16:20:08 NHibernate.Type.StringType [6] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 16:20:08 NHibernate.SQL [6] - 
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode) 
    VALUES
        (@p0, @p1, @p2, @p3);
    select
        SCOPE_IDENTITY();
    @p0 = 'string' [Type: String (4000:0:0)],
    @p1 = 'string' [Type: String (4000:0:0)],
    @p2 = 'string' [Type: String (4000:0:0)],
    @p3 = 'string' [Type: String (4000:0:0)] 
DEBUG 14-10-2020 16:20:08 NHibernate.Transaction.AdoTransaction [6] - Enlist Command 
ERROR 14-10-2020 16:20:08 NHibernate.AdoNet.AbstractBatcher [6] - Could not execute query: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
ClientConnectionId:f18ddfd0-8751-4481-ae54-2b4ce9ce73a4
Error Number:8152,State:30,Class:16

DEBUG 14-10-2020 16:20:08 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 16:20:08 NHibernate.Util.ADOExceptionReporter [6] - could not insert: [BookWarehouse.Repository.Models.Supplier]
[ INSERT INTO supplier (Name, Address, City, PostCode) VALUES (@p0, @p1, @p2, @p3); select SCOPE_IDENTITY() ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:f18ddfd0-8751-4481-ae54-2b4ce9ce73a4
Error Number:8152,State:30,Class:16

WARN  14-10-2020 16:20:08 NHibernate.Util.ADOExceptionReporter [6] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteReader(DbCommand cmd)
   at NHibernate.Id.IdentityGenerator.InsertSelectDelegate.ExecuteAndExtract(DbCommand insert, ISessionImplementor session)
   at NHibernate.Id.Insert.AbstractReturningDelegate.PerformInsert(SqlCommandInfo insertSQL, ISessionImplementor session, IBinder binder)
ClientConnectionId:f18ddfd0-8751-4481-ae54-2b4ce9ce73a4
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 16:20:08 NHibernate.Util.ADOExceptionReporter [6] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 16:20:08 NHibernate.Transaction.AdoTransaction [6] - Rollback 
DEBUG 14-10-2020 16:20:08 NHibernate.Transaction.AdoTransaction [6] - DbTransaction RolledBack 
DEBUG 14-10-2020 16:20:08 NHibernate.Transaction.AdoTransaction [6] - DbTransaction disposed. 
DEBUG 14-10-2020 16:20:08 NHibernate.AdoNet.ConnectionManager [6] - Aggressively releasing database connection 
DEBUG 14-10-2020 16:20:08 NHibernate.Connection.ConnectionProvider [6] - Closing connection 
DEBUG 14-10-2020 16:20:08 NHibernate.Impl.SessionImpl [6] - transaction completion 
DEBUG 14-10-2020 16:20:08 NHibernate.Impl.SessionImpl [6] - closing session 
DEBUG 14-10-2020 16:20:08 NHibernate.AdoNet.AbstractBatcher [6] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 16:20:23 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 16:20:23 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 16:20:23 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 16:20:23 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 16:20:23 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="255" not-null="true" /></property><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><bag lazy="true" name="Contacts"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="255" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="500" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contacts, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contacts) 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:20:24 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 16:20:24 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 16:20:24 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:20:24 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:20:24 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contacts 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contacts -> supplier_contact 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, ContactType, Value, supplier_id 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:20:24 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:20:24 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 16:20:24 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 16:20:24 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:20:24 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:20:24 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 16:20:24 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier_contact 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, ContactType, Value, supplier_id 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys: fk_supplier_id 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07F0B15B85 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Schema.ITableMetadata [1] - table found: finalproject.dbo.supplier 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Schema.ITableMetadata [1] - columns: Id, Name, Address, City, PostCode 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Schema.ITableMetadata [1] - foreign keys:  
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Schema.ITableMetadata [1] - indexes: PK__supplier__3214EC07C3156147 
INFO  14-10-2020 16:20:24 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 16:20:24 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:20:24 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 16:20:24 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:20:24 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 16:20:24 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 16:20:24 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 16:20:24 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 16:20:24 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 16:20:24 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 16:20:24 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:20:24 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:20:25 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 16:20:25 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 16:20:25 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:20:25 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:20:25 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contacts 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.Name as name2_0_, supplierco_.ContactType as contacttype3_0_, supplierco_.Value as value4_0_, supplierco_.supplier_id as supplier5_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (Name, ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET Name = ?, ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier_contact (Name, ContactType, Value, supplier_id) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 16:20:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.Name as name2_0_0_, supplierco0_.ContactType as contacttype3_0_0_, supplierco0_.Value as value4_0_0_, supplierco0_.supplier_id as supplier5_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 16:20:25 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 16:20:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contacts: SELECT contacts0_.id as id1_0_1_, contacts0_.Id as id1_0_0_, contacts0_.Name as name2_0_0_, contacts0_.ContactType as contacttype3_0_0_, contacts0_.Value as value4_0_0_, contacts0_.supplier_id as supplier5_0_0_ FROM supplier_contact contacts0_ WHERE contacts0_.id=? 
DEBUG 14-10-2020 16:20:25 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 16:20:25 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 1e6f95abb20d4a5dbd15f4575d50ecf7(unnamed) 
INFO  14-10-2020 16:20:25 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 16:20:25 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 16:20:25 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 16:20:25 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 16:20:26 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 16:20:27 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 16:20:27 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 16:20:28 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 237.9582ms 200 text/html 
INFO  14-10-2020 16:20:28 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 237.9582ms 200 text/html 
INFO  14-10-2020 16:20:28 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 16:20:28 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 16:20:28 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 189.0786ms 200 application/json;charset=utf-8 
INFO  14-10-2020 16:20:28 Microsoft.AspNetCore.Hosting.Internal.WebHost [12] - Request finished in 189.0786ms 200 application/json;charset=utf-8 
INFO  14-10-2020 16:21:48 Microsoft.AspNetCore.Hosting.Internal.WebHost [20] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 204 
INFO  14-10-2020 16:21:48 Microsoft.AspNetCore.Hosting.Internal.WebHost [20] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 204 
WARN  14-10-2020 16:21:48 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [20] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 16:21:48 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [20] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 16:21:48 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [20] - CORS policy execution successful. 
INFO  14-10-2020 16:21:48 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [20] - CORS policy execution successful. 
INFO  14-10-2020 16:21:49 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [20] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 16:21:49 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [20] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 16:21:49 QSI.Web.Middleware.LogActionFilter [20] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 16:21:49 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [20] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 16:21:49 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [20] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 16:21:49 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [20] - Opening Hibernate Session. 
DEBUG 14-10-2020 16:21:49 NHibernate.Impl.SessionImpl [20] - [session-id=c29a6944-505d-401e-89e4-cb21196451e1] opened session at timestamp: 637382893095, for session factory: [/1e6f95abb20d4a5dbd15f4575d50ecf7] 
DEBUG 14-10-2020 16:21:49 NHibernate.Transaction.AdoTransaction [20] - Begin (Unspecified) 
DEBUG 14-10-2020 16:21:49 NHibernate.Connection.DriverConnectionProvider [20] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 16:21:49 NHibernate.Engine.IdentifierValue [20] - unsaved-value: 0 
DEBUG 14-10-2020 16:21:49 NHibernate.Event.Default.AbstractSaveEventListener [20] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:21:49 NHibernate.Event.Default.DefaultMergeEventListener [20] - merging transient instance 
DEBUG 14-10-2020 16:21:49 NHibernate.Event.Default.AbstractSaveEventListener [20] - saving [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 16:21:49 NHibernate.Event.Default.AbstractSaveEventListener [20] - executing insertions 
DEBUG 14-10-2020 16:21:49 NHibernate.Event.Default.AbstractSaveEventListener [20] - executing identity-insert immediately 
DEBUG 14-10-2020 16:21:49 NHibernate.Persister.Entity.AbstractEntityPersister [20] - Inserting entity: BookWarehouse.Repository.Models.Supplier (native id) 
DEBUG 14-10-2020 16:21:49 NHibernate.AdoNet.AbstractBatcher [20] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 16:21:49 NHibernate.AdoNet.AbstractBatcher [20] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 16:21:49 NHibernate.Persister.Entity.AbstractEntityPersister [20] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 16:21:49 NHibernate.Type.StringType [20] - binding 'Fikri' to parameter: 0 
DEBUG 14-10-2020 16:21:49 NHibernate.Type.StringType [20] - binding 'Adaaa' to parameter: 1 
DEBUG 14-10-2020 16:21:49 NHibernate.Type.StringType [20] - binding 'Adaaaa' to parameter: 2 
DEBUG 14-10-2020 16:21:49 NHibernate.Type.StringType [20] - binding '12312' to parameter: 3 
DEBUG 14-10-2020 16:21:49 NHibernate.SQL [20] - 
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode) 
    VALUES
        (@p0, @p1, @p2, @p3);
    select
        SCOPE_IDENTITY();
    @p0 = 'Fikri' [Type: String (4000:0:0)],
    @p1 = 'Adaaa' [Type: String (4000:0:0)],
    @p2 = 'Adaaaa' [Type: String (4000:0:0)],
    @p3 = '12312' [Type: String (4000:0:0)] 
DEBUG 14-10-2020 16:21:49 NHibernate.Transaction.AdoTransaction [20] - Enlist Command 
DEBUG 14-10-2020 16:21:49 NHibernate.AdoNet.AbstractBatcher [20] - ExecuteReader took 1 ms 
DEBUG 14-10-2020 16:21:49 NHibernate.AdoNet.AbstractBatcher [20] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 16:21:49 NHibernate.Type.Int32Type [20] - returning '2' as column:  
DEBUG 14-10-2020 16:21:49 NHibernate.Id.IdentifierGeneratorFactory [20] - Natively generated identity: 2 
DEBUG 14-10-2020 16:21:49 NHibernate.AdoNet.AbstractBatcher [20] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 16:21:49 NHibernate.AdoNet.AbstractBatcher [20] - DataReader was closed after 11 ms 
DEBUG 14-10-2020 16:21:49 NHibernate.AdoNet.AbstractBatcher [20] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 16:21:49 NHibernate.Transaction.AdoTransaction [20] - Start Commit 
DEBUG 14-10-2020 16:21:49 NHibernate.Impl.SessionImpl [20] - before transaction completion 
DEBUG 14-10-2020 16:21:49 NHibernate.Event.Default.AbstractFlushingEventListener [20] - flushing session 
DEBUG 14-10-2020 16:21:49 NHibernate.Event.Default.AbstractFlushingEventListener [20] - processing flush-time cascades 
DEBUG 14-10-2020 16:21:49 NHibernate.Event.Default.AbstractFlushingEventListener [20] - dirty checking collections 
DEBUG 14-10-2020 16:21:49 NHibernate.Event.Default.AbstractFlushingEventListener [20] - Flushing entities and processing referenced collections 
DEBUG 14-10-2020 16:21:49 NHibernate.Event.Default.WrapVisitor [20] - Wrapped collection in role: BookWarehouse.Repository.Models.Supplier.Contacts 
DEBUG 14-10-2020 16:21:49 NHibernate.Engine.Collections [20] - Collection found: [BookWarehouse.Repository.Models.Supplier.Contacts#2], was: [<unreferenced>] (initialized) 
DEBUG 14-10-2020 16:21:49 NHibernate.Event.Default.AbstractFlushingEventListener [20] - Processing unreferenced collections 
DEBUG 14-10-2020 16:21:49 NHibernate.Event.Default.AbstractFlushingEventListener [20] - Scheduling collection removes/(re)creates/updates 
DEBUG 14-10-2020 16:21:49 NHibernate.Event.Default.AbstractFlushingEventListener [20] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects 
DEBUG 14-10-2020 16:21:49 NHibernate.Event.Default.AbstractFlushingEventListener [20] - Flushed: 1 (re)creations, 0 updates, 0 removals to 1 collections 
DEBUG 14-10-2020 16:21:49 NHibernate.Impl.Printer [20] - listing entities: 
DEBUG 14-10-2020 16:21:49 NHibernate.Impl.Printer [20] - BookWarehouse.Repository.Models.Supplier{'Id'='2', 'Contacts'='[]', 'Name'='Fikri', 'Address'='Adaaa', 'City'='Adaaaa', 'PostCode'='12312'} 
DEBUG 14-10-2020 16:21:49 NHibernate.Event.Default.AbstractFlushingEventListener [20] - executing flush 
DEBUG 14-10-2020 16:21:49 NHibernate.AdoNet.ConnectionManager [20] - Registering flush begin 
DEBUG 14-10-2020 16:21:49 NHibernate.Persister.Collection.ICollectionPersister [20] - Inserting collection: [BookWarehouse.Repository.Models.Supplier.Contacts#2] 
DEBUG 14-10-2020 16:21:49 NHibernate.Persister.Collection.ICollectionPersister [20] - collection was empty 
DEBUG 14-10-2020 16:21:49 NHibernate.AdoNet.ConnectionManager [20] - Registering flush end 
DEBUG 14-10-2020 16:21:49 NHibernate.Event.Default.AbstractFlushingEventListener [20] - post flush 
DEBUG 14-10-2020 16:21:49 NHibernate.Transaction.AdoTransaction [20] - DbTransaction Committed 
DEBUG 14-10-2020 16:21:49 NHibernate.AdoNet.ConnectionManager [20] - Aggressively releasing database connection 
DEBUG 14-10-2020 16:21:49 NHibernate.Connection.ConnectionProvider [20] - Closing connection 
DEBUG 14-10-2020 16:21:49 NHibernate.Impl.SessionImpl [20] - transaction completion 
DEBUG 14-10-2020 16:21:49 NHibernate.Transaction.AdoTransaction [20] - DbTransaction disposed. 
DEBUG 14-10-2020 16:21:49 NHibernate.Impl.SessionImpl [20] - closing session 
DEBUG 14-10-2020 16:21:49 NHibernate.AdoNet.AbstractBatcher [20] - running BatcherImpl.Dispose(true) 
DEBUG 14-10-2020 16:21:49 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [20] - Opening Hibernate Session. 
DEBUG 14-10-2020 16:21:49 NHibernate.Impl.SessionImpl [20] - [session-id=b48f01be-4974-4c57-9988-6aadc3e77d14] opened session at timestamp: 637382893099, for session factory: [/1e6f95abb20d4a5dbd15f4575d50ecf7] 
DEBUG 14-10-2020 16:21:49 NHibernate.Transaction.AdoTransaction [20] - Begin (Unspecified) 
DEBUG 14-10-2020 16:21:49 NHibernate.Connection.DriverConnectionProvider [20] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 16:21:49 NHibernate.Engine.IdentifierValue [20] - unsaved-value: 0 
DEBUG 14-10-2020 16:21:49 NHibernate.Event.Default.AbstractSaveEventListener [20] - transient instance of: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 16:21:49 NHibernate.Event.Default.DefaultMergeEventListener [20] - merging transient instance 
DEBUG 14-10-2020 16:21:49 NHibernate.Engine.IdentifierValue [20] - unsaved-value: 0 
DEBUG 14-10-2020 16:21:49 NHibernate.Engine.IdentifierValue [20] - unsaved-value: 0 
DEBUG 14-10-2020 16:21:50 NHibernate.Event.Default.DefaultLoadEventListener [20] - loading entity: [BookWarehouse.Repository.Models.Supplier#2] 
DEBUG 14-10-2020 16:21:50 NHibernate.Event.Default.DefaultLoadEventListener [20] - creating new proxy for entity 
DEBUG 14-10-2020 16:21:50 NHibernate.Event.Default.AbstractSaveEventListener [20] - saving [BookWarehouse.Repository.Models.SupplierContact#<null>] 
DEBUG 14-10-2020 16:21:50 NHibernate.Event.Default.AbstractSaveEventListener [20] - executing insertions 
DEBUG 14-10-2020 16:21:50 NHibernate.Event.Default.AbstractSaveEventListener [20] - executing identity-insert immediately 
DEBUG 14-10-2020 16:21:50 NHibernate.Persister.Entity.AbstractEntityPersister [20] - Inserting entity: BookWarehouse.Repository.Models.SupplierContact (native id) 
DEBUG 14-10-2020 16:21:50 NHibernate.AdoNet.AbstractBatcher [20] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 16:21:50 NHibernate.AdoNet.AbstractBatcher [20] - Building an DbCommand object for the SqlString: INSERT INTO supplier_contact (Name, ContactType, Value, supplier_id) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 16:21:50 NHibernate.Persister.Entity.AbstractEntityPersister [20] - Dehydrating entity: [BookWarehouse.Repository.Models.SupplierContact#<null>] 
DEBUG 14-10-2020 16:21:50 NHibernate.Type.StringType [20] - binding 'aaaa' to parameter: 0 
DEBUG 14-10-2020 16:21:50 NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] [20] - binding '1' to parameter: 1 
DEBUG 14-10-2020 16:21:50 NHibernate.Type.StringType [20] - binding '123123123' to parameter: 2 
DEBUG 14-10-2020 16:21:50 NHibernate.Type.Int32Type [20] - binding '2' to parameter: 3 
DEBUG 14-10-2020 16:21:50 NHibernate.SQL [20] - 
    INSERT 
    INTO
        supplier_contact
        (Name, ContactType, Value, supplier_id) 
    VALUES
        (@p0, @p1, @p2, @p3);
    select
        SCOPE_IDENTITY();
    @p0 = 'aaaa' [Type: String (4000:0:0)],
    @p1 = 1 [Type: Int32 (0:0:0)],
    @p2 = '123123123' [Type: String (4000:0:0)],
    @p3 = 2 [Type: Int32 (0:0:0)] 
DEBUG 14-10-2020 16:21:50 NHibernate.Transaction.AdoTransaction [20] - Enlist Command 
DEBUG 14-10-2020 16:21:50 NHibernate.AdoNet.AbstractBatcher [20] - ExecuteReader took 4 ms 
DEBUG 14-10-2020 16:21:50 NHibernate.AdoNet.AbstractBatcher [20] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 16:21:50 NHibernate.Type.Int32Type [20] - returning '1' as column:  
DEBUG 14-10-2020 16:21:50 NHibernate.Id.IdentifierGeneratorFactory [20] - Natively generated identity: 1 
DEBUG 14-10-2020 16:21:50 NHibernate.AdoNet.AbstractBatcher [20] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 16:21:50 NHibernate.AdoNet.AbstractBatcher [20] - DataReader was closed after 5 ms 
DEBUG 14-10-2020 16:21:50 NHibernate.AdoNet.AbstractBatcher [20] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 16:21:50 NHibernate.Transaction.AdoTransaction [20] - Start Commit 
DEBUG 14-10-2020 16:21:50 NHibernate.Impl.SessionImpl [20] - before transaction completion 
DEBUG 14-10-2020 16:21:50 NHibernate.Event.Default.AbstractFlushingEventListener [20] - flushing session 
DEBUG 14-10-2020 16:21:50 NHibernate.Event.Default.AbstractFlushingEventListener [20] - processing flush-time cascades 
DEBUG 14-10-2020 16:21:50 NHibernate.Event.Default.AbstractFlushingEventListener [20] - dirty checking collections 
DEBUG 14-10-2020 16:21:50 NHibernate.Event.Default.AbstractFlushingEventListener [20] - Flushing entities and processing referenced collections 
DEBUG 14-10-2020 16:21:50 NHibernate.Event.Default.AbstractFlushingEventListener [20] - Processing unreferenced collections 
DEBUG 14-10-2020 16:21:50 NHibernate.Event.Default.AbstractFlushingEventListener [20] - Scheduling collection removes/(re)creates/updates 
DEBUG 14-10-2020 16:21:50 NHibernate.Event.Default.AbstractFlushingEventListener [20] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects 
DEBUG 14-10-2020 16:21:50 NHibernate.Event.Default.AbstractFlushingEventListener [20] - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections 
DEBUG 14-10-2020 16:21:50 NHibernate.Impl.Printer [20] - listing entities: 
DEBUG 14-10-2020 16:21:50 NHibernate.Impl.Printer [20] - BookWarehouse.Repository.Models.SupplierContact{'Id'='1', 'Name'='aaaa', 'ContactType'='1', 'Value'='123123123', 'Supplier'='BookWarehouse.Repository.Models.Supplier#2'} 
DEBUG 14-10-2020 16:21:50 NHibernate.Event.Default.AbstractFlushingEventListener [20] - executing flush 
DEBUG 14-10-2020 16:21:50 NHibernate.AdoNet.ConnectionManager [20] - Registering flush begin 
DEBUG 14-10-2020 16:21:50 NHibernate.AdoNet.ConnectionManager [20] - Registering flush end 
DEBUG 14-10-2020 16:21:50 NHibernate.Event.Default.AbstractFlushingEventListener [20] - post flush 
DEBUG 14-10-2020 16:21:50 NHibernate.Transaction.AdoTransaction [20] - DbTransaction Committed 
DEBUG 14-10-2020 16:21:50 NHibernate.AdoNet.ConnectionManager [20] - Aggressively releasing database connection 
DEBUG 14-10-2020 16:21:50 NHibernate.Connection.ConnectionProvider [20] - Closing connection 
DEBUG 14-10-2020 16:21:50 NHibernate.Impl.SessionImpl [20] - transaction completion 
DEBUG 14-10-2020 16:21:50 NHibernate.Transaction.AdoTransaction [20] - DbTransaction disposed. 
DEBUG 14-10-2020 16:21:50 NHibernate.Impl.SessionImpl [20] - closing session 
DEBUG 14-10-2020 16:21:50 NHibernate.AdoNet.AbstractBatcher [20] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 16:21:50 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [20] - Executed action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 492.1502ms. 
INFO  14-10-2020 16:21:50 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [20] - Executed action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 492.1502ms. 
INFO  14-10-2020 16:21:50 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor [20] - Executing ObjectResult, writing value of type 'System.Int32'. 
INFO  14-10-2020 16:21:50 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor [20] - Executing ObjectResult, writing value of type 'System.Int32'. 
INFO  14-10-2020 16:21:50 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [20] - Executed action BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) in 1051.0617ms 
INFO  14-10-2020 16:21:50 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [20] - Executed action BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) in 1051.0617ms 
INFO  14-10-2020 16:21:50 Microsoft.AspNetCore.Hosting.Internal.WebHost [20] - Request finished in 1145.9139ms 200 application/json; charset=utf-8 
INFO  14-10-2020 16:21:50 Microsoft.AspNetCore.Hosting.Internal.WebHost [20] - Request finished in 1145.9139ms 200 application/json; charset=utf-8 
INFO  14-10-2020 16:32:39 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 16:32:39 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 16:32:39 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 16:32:39 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 16:32:39 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="50" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Int32 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 16:32:40 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:32:40 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:32:40 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
ERROR 14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - could not complete schema validation NHibernate.SchemaValidationException: Schema validation failed: see list of validation errors
   at NHibernate.Cfg.Configuration.ValidateSchema(Dialect dialect, IDatabaseMetadata databaseMetadata)
   at NHibernate.Tool.hbm2ddl.SchemaValidator.Validate()

DEBUG 14-10-2020 16:32:40 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier_contact') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier_contact 
DEBUG 14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier 
DEBUG 14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier_contact (
        Id INT IDENTITY NOT NULL,
       ContactType INT not null,
       Value NVARCHAR(255) not null,
       supplier_id INT not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier (
        Id INT IDENTITY NOT NULL,
       Name NVARCHAR(50) not null,
       Address NVARCHAR(255) not null,
       City NVARCHAR(255) not null,
       PostCode NVARCHAR(5) not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (supplier_id) 
        references supplier 
DEBUG 14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (id) 
        references supplier 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 16:32:40 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:32:40 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:32:40 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
DEBUG 14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier_contact (Id INT IDENTITY NOT NULL, ContactType INT not null, Value NVARCHAR(255) not null, supplier_id INT not null, primary key (Id)) 
DEBUG 14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier (Id INT IDENTITY NOT NULL, Name NVARCHAR(50) not null, Address NVARCHAR(255) not null, City NVARCHAR(255) not null, PostCode NVARCHAR(5) not null, primary key (Id)) 
DEBUG 14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (supplier_id) references supplier 
DEBUG 14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier 
ERROR 14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Unsuccessful: alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'fk_supplier_id' in the database.
Could not create constraint or index. See previous errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.Tool.hbm2ddl.SchemaUpdate.Execute(Action`1 scriptAction, Boolean doUpdate)
ClientConnectionId:854647ef-e1bd-4edd-94cc-cb6b3326d7c8
Error Number:2714,State:5,Class:16

INFO  14-10-2020 16:32:40 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 16:32:40 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 16:32:40 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:32:40 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:32:40 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 16:32:40 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 16:32:41 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 16:32:41 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 16:32:41 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 16:32:41 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 16:32:41 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:32:41 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:32:41 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 16:32:41 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 16:32:41 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:32:41 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:32:41 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier_contact (ContactType, Value, supplier_id) VALUES (?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 16:32:41 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 16:32:41 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Identity insert: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 16:32:41 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 16:32:41 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 16:32:41 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: 3dc6ea07c9394c53ac7e79bc1100db23(unnamed) 
INFO  14-10-2020 16:32:41 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 16:32:41 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 16:32:41 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 16:32:41 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 16:32:42 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 16:32:44 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 16:32:44 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 16:32:44 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 276.3724ms 200 text/html 
INFO  14-10-2020 16:32:44 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 276.3724ms 200 text/html 
INFO  14-10-2020 16:32:44 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 16:32:44 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 16:32:45 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 205.5983ms 200 application/json;charset=utf-8 
INFO  14-10-2020 16:32:45 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 205.5983ms 200 application/json;charset=utf-8 
INFO  14-10-2020 16:32:51 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 16:32:51 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 16:32:51 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 16:32:51 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 16:32:51 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 16:32:51 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 16:32:51 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 16:32:51 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 16:32:52 QSI.Web.Middleware.LogActionFilter [6] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 16:32:52 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 16:32:52 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 16:32:52 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [6] - Opening Hibernate Session. 
DEBUG 14-10-2020 16:32:52 NHibernate.Impl.SessionImpl [6] - [session-id=f019400c-00ac-4c20-afc0-8dcf2922035c] opened session at timestamp: 637382899722, for session factory: [/3dc6ea07c9394c53ac7e79bc1100db23] 
DEBUG 14-10-2020 16:32:52 NHibernate.Transaction.AdoTransaction [6] - Begin (Unspecified) 
DEBUG 14-10-2020 16:32:52 NHibernate.Connection.DriverConnectionProvider [6] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 16:32:52 NHibernate.Engine.IdentifierValue [6] - unsaved-value: 0 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractSaveEventListener [6] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:32:52 NHibernate.Event.Default.DefaultMergeEventListener [6] - merging transient instance 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractSaveEventListener [6] - saving [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractSaveEventListener [6] - executing insertions 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractSaveEventListener [6] - executing identity-insert immediately 
DEBUG 14-10-2020 16:32:52 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Inserting entity: BookWarehouse.Repository.Models.Supplier (native id) 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.AbstractBatcher [6] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.AbstractBatcher [6] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode) VALUES (?, ?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 16:32:52 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#<null>] 
DEBUG 14-10-2020 16:32:52 NHibernate.Type.StringType [6] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 16:32:52 NHibernate.Type.StringType [6] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 16:32:52 NHibernate.Type.StringType [6] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 16:32:52 NHibernate.Type.StringType [6] - binding '12312' to parameter: 3 
DEBUG 14-10-2020 16:32:52 NHibernate.SQL [6] - 
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode) 
    VALUES
        (@p0, @p1, @p2, @p3);
    select
        SCOPE_IDENTITY();
    @p0 = 'string' [Type: String (4000:0:0)],
    @p1 = 'string' [Type: String (4000:0:0)],
    @p2 = 'string' [Type: String (4000:0:0)],
    @p3 = '12312' [Type: String (4000:0:0)] 
DEBUG 14-10-2020 16:32:52 NHibernate.Transaction.AdoTransaction [6] - Enlist Command 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.AbstractBatcher [6] - ExecuteReader took 2 ms 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.AbstractBatcher [6] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 16:32:52 NHibernate.Type.Int32Type [6] - returning '1' as column:  
DEBUG 14-10-2020 16:32:52 NHibernate.Id.IdentifierGeneratorFactory [6] - Natively generated identity: 1 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.AbstractBatcher [6] - DataReader was closed after 11 ms 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 16:32:52 NHibernate.Transaction.AdoTransaction [6] - Start Commit 
DEBUG 14-10-2020 16:32:52 NHibernate.Impl.SessionImpl [6] - before transaction completion 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - flushing session 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - processing flush-time cascades 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - dirty checking collections 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushing entities and processing referenced collections 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.WrapVisitor [6] - Wrapped collection in role: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 16:32:52 NHibernate.Engine.Collections [6] - Collection found: [BookWarehouse.Repository.Models.Supplier.Contact#1], was: [<unreferenced>] (initialized) 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Processing unreferenced collections 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Scheduling collection removes/(re)creates/updates 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushed: 1 (re)creations, 0 updates, 0 removals to 1 collections 
DEBUG 14-10-2020 16:32:52 NHibernate.Impl.Printer [6] - listing entities: 
DEBUG 14-10-2020 16:32:52 NHibernate.Impl.Printer [6] - BookWarehouse.Repository.Models.Supplier{'Id'='1', 'Contact'='[]', 'Name'='string', 'Address'='string', 'City'='string', 'PostCode'='12312'} 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - executing flush 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.ConnectionManager [6] - Registering flush begin 
DEBUG 14-10-2020 16:32:52 NHibernate.Persister.Collection.ICollectionPersister [6] - Inserting collection: [BookWarehouse.Repository.Models.Supplier.Contact#1] 
DEBUG 14-10-2020 16:32:52 NHibernate.Persister.Collection.ICollectionPersister [6] - collection was empty 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.ConnectionManager [6] - Registering flush end 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - post flush 
DEBUG 14-10-2020 16:32:52 NHibernate.Transaction.AdoTransaction [6] - DbTransaction Committed 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.ConnectionManager [6] - Aggressively releasing database connection 
DEBUG 14-10-2020 16:32:52 NHibernate.Connection.ConnectionProvider [6] - Closing connection 
DEBUG 14-10-2020 16:32:52 NHibernate.Impl.SessionImpl [6] - transaction completion 
DEBUG 14-10-2020 16:32:52 NHibernate.Transaction.AdoTransaction [6] - DbTransaction disposed. 
DEBUG 14-10-2020 16:32:52 NHibernate.Impl.SessionImpl [6] - closing session 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.AbstractBatcher [6] - running BatcherImpl.Dispose(true) 
DEBUG 14-10-2020 16:32:52 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [6] - Opening Hibernate Session. 
DEBUG 14-10-2020 16:32:52 NHibernate.Impl.SessionImpl [6] - [session-id=a4ade147-656f-47b1-b69a-9aa3b601be43] opened session at timestamp: 637382899727, for session factory: [/3dc6ea07c9394c53ac7e79bc1100db23] 
DEBUG 14-10-2020 16:32:52 NHibernate.Transaction.AdoTransaction [6] - Begin (Unspecified) 
DEBUG 14-10-2020 16:32:52 NHibernate.Connection.DriverConnectionProvider [6] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 16:32:52 NHibernate.Engine.IdentifierValue [6] - unsaved-value: 0 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractSaveEventListener [6] - transient instance of: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 16:32:52 NHibernate.Event.Default.DefaultMergeEventListener [6] - merging transient instance 
DEBUG 14-10-2020 16:32:52 NHibernate.Engine.IdentifierValue [6] - unsaved-value: 0 
DEBUG 14-10-2020 16:32:52 NHibernate.Engine.IdentifierValue [6] - unsaved-value: 0 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.DefaultLoadEventListener [6] - loading entity: [BookWarehouse.Repository.Models.Supplier#1] 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.DefaultLoadEventListener [6] - creating new proxy for entity 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractSaveEventListener [6] - saving [BookWarehouse.Repository.Models.SupplierContact#<null>] 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractSaveEventListener [6] - executing insertions 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractSaveEventListener [6] - executing identity-insert immediately 
DEBUG 14-10-2020 16:32:52 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Inserting entity: BookWarehouse.Repository.Models.SupplierContact (native id) 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.AbstractBatcher [6] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.AbstractBatcher [6] - Building an DbCommand object for the SqlString: INSERT INTO supplier_contact (ContactType, Value, supplier_id) VALUES (?, ?, ?); select SCOPE_IDENTITY() 
DEBUG 14-10-2020 16:32:52 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Dehydrating entity: [BookWarehouse.Repository.Models.SupplierContact#<null>] 
DEBUG 14-10-2020 16:32:52 NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] [6] - binding '1' to parameter: 0 
DEBUG 14-10-2020 16:32:52 NHibernate.Type.StringType [6] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 16:32:52 NHibernate.Type.Int32Type [6] - binding '1' to parameter: 2 
DEBUG 14-10-2020 16:32:52 NHibernate.SQL [6] - 
    INSERT 
    INTO
        supplier_contact
        (ContactType, Value, supplier_id) 
    VALUES
        (@p0, @p1, @p2);
    select
        SCOPE_IDENTITY();
    @p0 = 1 [Type: Int32 (0:0:0)],
    @p1 = 'string' [Type: String (4000:0:0)],
    @p2 = 1 [Type: Int32 (0:0:0)] 
DEBUG 14-10-2020 16:32:52 NHibernate.Transaction.AdoTransaction [6] - Enlist Command 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.AbstractBatcher [6] - ExecuteReader took 3 ms 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.AbstractBatcher [6] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 16:32:52 NHibernate.Type.Int32Type [6] - returning '1' as column:  
DEBUG 14-10-2020 16:32:52 NHibernate.Id.IdentifierGeneratorFactory [6] - Natively generated identity: 1 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.AbstractBatcher [6] - DataReader was closed after 3 ms 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 16:32:52 NHibernate.Transaction.AdoTransaction [6] - Start Commit 
DEBUG 14-10-2020 16:32:52 NHibernate.Impl.SessionImpl [6] - before transaction completion 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - flushing session 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - processing flush-time cascades 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - dirty checking collections 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushing entities and processing referenced collections 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Processing unreferenced collections 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Scheduling collection removes/(re)creates/updates 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections 
DEBUG 14-10-2020 16:32:52 NHibernate.Impl.Printer [6] - listing entities: 
DEBUG 14-10-2020 16:32:52 NHibernate.Impl.Printer [6] - BookWarehouse.Repository.Models.SupplierContact{'Id'='1', 'ContactType'='1', 'Value'='string', 'Supplier'='BookWarehouse.Repository.Models.Supplier#1'} 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - executing flush 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.ConnectionManager [6] - Registering flush begin 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.ConnectionManager [6] - Registering flush end 
DEBUG 14-10-2020 16:32:52 NHibernate.Event.Default.AbstractFlushingEventListener [6] - post flush 
DEBUG 14-10-2020 16:32:52 NHibernate.Transaction.AdoTransaction [6] - DbTransaction Committed 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.ConnectionManager [6] - Aggressively releasing database connection 
DEBUG 14-10-2020 16:32:52 NHibernate.Connection.ConnectionProvider [6] - Closing connection 
DEBUG 14-10-2020 16:32:52 NHibernate.Impl.SessionImpl [6] - transaction completion 
DEBUG 14-10-2020 16:32:52 NHibernate.Transaction.AdoTransaction [6] - DbTransaction disposed. 
DEBUG 14-10-2020 16:32:52 NHibernate.Impl.SessionImpl [6] - closing session 
DEBUG 14-10-2020 16:32:52 NHibernate.AdoNet.AbstractBatcher [6] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 16:32:52 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executed action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 549.3204ms. 
INFO  14-10-2020 16:32:52 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executed action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 549.3204ms. 
INFO  14-10-2020 16:32:52 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor [6] - Executing ObjectResult, writing value of type 'System.Int32'. 
INFO  14-10-2020 16:32:52 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor [6] - Executing ObjectResult, writing value of type 'System.Int32'. 
INFO  14-10-2020 16:32:52 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executed action BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) in 1103.5252ms 
INFO  14-10-2020 16:32:52 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executed action BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) in 1103.5252ms 
INFO  14-10-2020 16:32:52 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 1207.1329ms 200 application/json; charset=utf-8 
INFO  14-10-2020 16:32:52 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 1207.1329ms 200 application/json; charset=utf-8 
DEBUG 14-10-2020 16:32:56 NHibernate.Impl.SessionImpl [2] - [session-id=a4ade147-656f-47b1-b69a-9aa3b601be43] executing real Dispose(False) 
DEBUG 14-10-2020 16:32:56 NHibernate.Impl.SessionImpl [2] - [session-id=f019400c-00ac-4c20-afc0-8dcf2922035c] executing real Dispose(False) 
INFO  14-10-2020 16:36:01 NHibernate.Cfg.Environment [1] - NHibernate 5.1.3 (assembly 5.1.0.0) 
INFO  14-10-2020 16:36:01 NHibernate.Cfg.Environment [1] - hibernate-configuration section not found in application configuration file 
INFO  14-10-2020 16:36:01 NHibernate.Cfg.Environment [1] - Bytecode provider name : lcg 
INFO  14-10-2020 16:36:01 NHibernate.Cfg.Environment [1] - Using reflection optimizer 
DEBUG 14-10-2020 16:36:01 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier_contact"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><property name="ContactType" type="BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null"><column name="ContactType" not-null="true" /></property><property name="Value" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Value" not-null="true" /></property><many-to-one class="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" foreign-key="fk_supplier_id" lazy="proxy" name="Supplier"><column name="supplier_id" not-null="true" /></many-to-one></class></hibernate-mapping> 
INFO  14-10-2020 16:36:01 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:01 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.SupplierContact -> supplier_contact 
DEBUG 14-10-2020 16:36:01 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 16:36:01 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: ContactType -> ContactType, type: NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], NHibernate 
DEBUG 14-10-2020 16:36:01 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Value -> Value, type: String 
DEBUG 14-10-2020 16:36:01 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Supplier -> supplier_id, type: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:36:01 NHibernate.Cfg.Configuration [1] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="BookWarehouse.Repository.Models.Supplier, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="supplier"><id name="Id" type="System.Guid, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Id" /><generator class="guid.native" /></id><bag lazy="true" name="Contact"><key foreign-key="fk_supplier_id"><column name="id" /></key><one-to-many class="BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Name" length="50" not-null="true" /></property><property name="Address" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="Address" length="255" not-null="true" /></property><property name="City" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="City" not-null="true" /></property><property name="PostCode" type="System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"><column name="PostCode" length="5" not-null="true" /></property></class></hibernate-mapping> 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapping class: BookWarehouse.Repository.Models.Supplier -> supplier 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Id -> Id, type: Guid 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Contact, type: System.Collections.Generic.ICollection`1[[BookWarehouse.Repository.Models.SupplierContact, BookWarehouse.Repository, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](BookWarehouse.Repository.Models.Supplier.Contact) 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Name -> Name, type: String 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: Address -> Address, type: String 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: City -> City, type: String 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped property: PostCode -> PostCode, type: String 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - Running schema validator 
INFO  14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - fetching database metadata 
INFO  14-10-2020 16:36:02 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:36:02 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:36:02 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Second pass for collection: BookWarehouse.Repository.Models.Supplier.Contact 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.XmlHbmBinding.Binder [1] - mapping collection: BookWarehouse.Repository.Models.Supplier.Contact -> supplier_contact 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.XmlHbmBinding.Binder [1] - Mapped collection key: id, one-to-many: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
ERROR 14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaValidator [1] - could not complete schema validation NHibernate.SchemaValidationException: Schema validation failed: see list of validation errors
   at NHibernate.Cfg.Configuration.ValidateSchema(Dialect dialect, IDatabaseMetadata databaseMetadata)
   at NHibernate.Tool.hbm2ddl.SchemaValidator.Validate()

DEBUG 14-10-2020 16:36:02 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[fk_supplier_id]') and parent_object_id = OBJECT_ID(N'supplier_contact'))
alter table supplier_contact  drop constraint fk_supplier_id
 
DEBUG 14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier_contact') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier_contact 
DEBUG 14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'supplier') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table supplier 
DEBUG 14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier_contact (
        Id UNIQUEIDENTIFIER not null,
       ContactType INT not null,
       Value NVARCHAR(255) not null,
       supplier_id UNIQUEIDENTIFIER not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    create table supplier (
        Id UNIQUEIDENTIFIER not null,
       Name NVARCHAR(50) not null,
       Address NVARCHAR(255) not null,
       City NVARCHAR(255) not null,
       PostCode NVARCHAR(5) not null,
       primary key (Id)
    ) 
DEBUG 14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (supplier_id) 
        references supplier 
DEBUG 14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaExport [1] - 
    alter table supplier_contact 
        add constraint fk_supplier_id 
        foreign key (id) 
        references supplier 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Running hbm2ddl schema update 
INFO  14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - fetching database metadata 
INFO  14-10-2020 16:36:02 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:36:02 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:36:02 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
INFO  14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - updating schema 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier_contact 
INFO  14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.DatabaseMetadata [1] - table not found: supplier 
DEBUG 14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier_contact (Id UNIQUEIDENTIFIER not null, ContactType INT not null, Value NVARCHAR(255) not null, supplier_id UNIQUEIDENTIFIER not null, primary key (Id)) 
DEBUG 14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - create table supplier (Id UNIQUEIDENTIFIER not null, Name NVARCHAR(50) not null, Address NVARCHAR(255) not null, City NVARCHAR(255) not null, PostCode NVARCHAR(5) not null, primary key (Id)) 
DEBUG 14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (supplier_id) references supplier 
DEBUG 14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier 
ERROR 14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - Unsuccessful: alter table supplier_contact add constraint fk_supplier_id foreign key (id) references supplier System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'fk_supplier_id' in the database.
Could not create constraint or index. See previous errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.Tool.hbm2ddl.SchemaUpdate.Execute(Action`1 scriptAction, Boolean doUpdate)
ClientConnectionId:a06aeb70-4f9a-4a87-9cdf-8851f170479f
Error Number:2714,State:5,Class:16

INFO  14-10-2020 16:36:02 NHibernate.Tool.hbm2ddl.SchemaUpdate [1] - schema update complete 
DEBUG 14-10-2020 16:36:02 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - checking mappings queue 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing one-to-many association mappings 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing one-to-one association property references 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing foreign key constraints 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - resolving reference to class: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.Configuration [1] - processing filters (second pass) 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Exceptions.SQLExceptionConverterFactory [1] - Using dialect defined converter 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Generate SQL with comments: disabled 
INFO  14-10-2020 16:36:02 NHibernate.Connection.ConnectionProviderFactory [1] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider 
INFO  14-10-2020 16:36:02 NHibernate.Connection.ConnectionProvider [1] - Configuring ConnectionProvider 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Transaction factory: NHibernate.Transaction.AdoNetWithSystemTransactionFactory 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Optimize cache for minimal puts: False 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Connection release mode: auto 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Default batch fetch size: 1 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - echoing all SQL to stdout 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Statistics: disabled 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Deleted entity synthetic identifier rollback: disabled 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Query provider: NHibernate.Linq.DefaultQueryProvider 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Query language substitutions: {'true'='1', 'false'='0', 'yes'=''Y'', 'no'=''N''} 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Order SQL inserts for batching: enabled 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Order SQL updates for batching: disabled 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Wrap result sets: disabled 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Batch versioned data: disabled 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Batcher factory: NHibernate.AdoNet.GenericBatchingBatcherFactory, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Default flush mode: Auto 
INFO  14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Named query checking : enabled 
DEBUG 14-10-2020 16:36:02 NHibernate.Cfg.SettingsFactory [1] - Track session id: enabled 
INFO  14-10-2020 16:36:02 NHibernate.Impl.SessionFactoryImpl [1] - building session factory 
DEBUG 14-10-2020 16:36:02 NHibernate.Impl.SessionFactoryImpl [1] - Session factory constructed with filter configurations : {} 
DEBUG 14-10-2020 16:36:02 NHibernate.Impl.SessionFactoryImpl [1] - instantiating session factory with properties: {'use_reflection_optimizer'='True', 'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'connection.driver_class'='NHibernate.Driver.Sql2008ClientDriver, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2012Dialect, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'show_sql'='true', 'format_sql'='true', 'connection.connection_string'='Server=tcp:192.168.99.100,1433;Database=finalproject;User ID=sa;Password=QBoothcamp2020'} 
DEBUG 14-10-2020 16:36:02 NHibernate.Connection.DriverConnectionProvider [1] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 16:36:02 NHibernate.Connection.ConnectionProvider [1] - Closing connection 
INFO  14-10-2020 16:36:02 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:36:02 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 16:36:03 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 16:36:03 NHibernate.Dialect.Dialect [1] - Using dialect: NHibernate.Dialect.MsSql2012Dialect 
DEBUG 14-10-2020 16:36:03 NHibernate.Tuple.Entity.AbstractEntityTuplizer [1] - No custom accessors found for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:36:03 NHibernate.Tuple.Entity.PocoEntityTuplizer [1] - Create Instantiator using optimizer for:BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:36:03 NHibernate.Persister.Collection.ICollectionPersister [1] - Static SQL for collection: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 16:36:03 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row insert: UPDATE supplier_contact SET id = ? WHERE Id = ? 
DEBUG 14-10-2020 16:36:03 NHibernate.Persister.Collection.ICollectionPersister [1] -  Row delete: UPDATE supplier_contact SET id = null WHERE id = ? AND Id = ? 
DEBUG 14-10-2020 16:36:03 NHibernate.Persister.Collection.ICollectionPersister [1] -  One-shot delete: UPDATE supplier_contact SET id = null WHERE id = ? 
DEBUG 14-10-2020 16:36:03 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.SupplierContact 
DEBUG 14-10-2020 16:36:03 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 16:36:03 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplierco_.Id, supplierco_.ContactType as contacttype2_0_, supplierco_.Value as value3_0_, supplierco_.supplier_id as supplier4_0_ FROM supplier_contact supplierco_ WHERE supplierco_.Id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 16:36:03 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier_contact SET ContactType = ?, Value = ?, supplier_id = ? WHERE Id = ? 
DEBUG 14-10-2020 16:36:03 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier_contact WHERE Id = ? 
DEBUG 14-10-2020 16:36:03 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock, nowait) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ with (updlock, rowlock) WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.SupplierContact: SELECT supplierco0_.Id as id1_0_0_, supplierco0_.ContactType as contacttype2_0_0_, supplierco0_.Value as value3_0_0_, supplierco0_.supplier_id as supplier4_0_0_ FROM supplier_contact supplierco0_ WHERE supplierco0_.Id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Persister.Entity.AbstractEntityPersister [1] - Static SQL for entity: BookWarehouse.Repository.Models.Supplier 
DEBUG 14-10-2020 16:36:03 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Version select: SELECT Id FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 16:36:03 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Snapshot select: SELECT supplier_.Id, supplier_.Name as name2_1_, supplier_.Address as address3_1_, supplier_.City as city4_1_, supplier_.PostCode as postcode5_1_ FROM supplier supplier_ WHERE supplier_.Id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Insert 0: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 16:36:03 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Update 0: UPDATE supplier SET Name = ?, Address = ?, City = ?, PostCode = ? WHERE Id = ? 
DEBUG 14-10-2020 16:36:03 NHibernate.Persister.Entity.AbstractEntityPersister [1] -  Delete 0: DELETE FROM supplier WHERE Id = ? 
DEBUG 14-10-2020 16:36:03 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock, nowait) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ with (updlock, rowlock) WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Loader.Entity.AbstractEntityLoader [1] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity BookWarehouse.Repository.Models.Supplier: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Loader.Collection.OneToManyLoader [1] - Static select for one-to-many BookWarehouse.Repository.Models.Supplier.Contact: SELECT contact0_.id as id1_0_1_, contact0_.Id as id1_0_0_, contact0_.ContactType as contacttype2_0_0_, contact0_.Value as value3_0_0_, contact0_.supplier_id as supplier4_0_0_ FROM supplier_contact contact0_ WHERE contact0_.id=? 
DEBUG 14-10-2020 16:36:03 NHibernate.Impl.SessionFactoryObjectFactory [1] - initializing class SessionFactoryObjectFactory 
DEBUG 14-10-2020 16:36:03 NHibernate.Impl.SessionFactoryObjectFactory [1] - registered: f93f950ce4a84ebda166717451d2a127(unnamed) 
INFO  14-10-2020 16:36:03 NHibernate.Impl.SessionFactoryObjectFactory [1] - no name configured 
DEBUG 14-10-2020 16:36:03 NHibernate.Impl.SessionFactoryImpl [1] - Instantiated session factory 
DEBUG 14-10-2020 16:36:03 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named HQL queries 
DEBUG 14-10-2020 16:36:03 NHibernate.Impl.SessionFactoryImpl [1] - Checking 0 named SQL queries 
INFO  14-10-2020 16:36:04 Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager [1] - User profile is available. Using 'C:\Users\acer\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. 
INFO  14-10-2020 16:36:06 Microsoft.AspNetCore.Hosting.Internal.WebHost [16] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 16:36:06 Microsoft.AspNetCore.Hosting.Internal.WebHost [16] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/index.html   
INFO  14-10-2020 16:36:06 Microsoft.AspNetCore.Hosting.Internal.WebHost [16] - Request finished in 242.0171ms 200 text/html 
INFO  14-10-2020 16:36:06 Microsoft.AspNetCore.Hosting.Internal.WebHost [16] - Request finished in 242.0171ms 200 text/html 
INFO  14-10-2020 16:36:06 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 16:36:06 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 GET https://localhost:5001/api/docs/v1/swagger.json   
INFO  14-10-2020 16:36:07 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 269.8959ms 200 application/json;charset=utf-8 
INFO  14-10-2020 16:36:07 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 269.8959ms 200 application/json;charset=utf-8 
INFO  14-10-2020 16:36:19 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 182 
INFO  14-10-2020 16:36:19 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 182 
WARN  14-10-2020 16:36:19 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 16:36:19 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 16:36:19 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 16:36:19 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [6] - CORS policy execution successful. 
INFO  14-10-2020 16:36:19 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 16:36:19 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 16:36:20 QSI.Web.Middleware.LogActionFilter [6] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 16:36:20 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 16:36:20 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 16:36:20 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [6] - Opening Hibernate Session. 
DEBUG 14-10-2020 16:36:20 NHibernate.Impl.SessionImpl [6] - [session-id=4eca0c20-f8a2-46e5-b582-aeccd8188587] opened session at timestamp: 637382901802, for session factory: [/f93f950ce4a84ebda166717451d2a127] 
DEBUG 14-10-2020 16:36:20 NHibernate.Transaction.AdoTransaction [6] - Begin (Unspecified) 
DEBUG 14-10-2020 16:36:20 NHibernate.Connection.DriverConnectionProvider [6] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 16:36:20 NHibernate.Engine.IdentifierValue [6] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 16:36:20 NHibernate.Event.Default.AbstractSaveEventListener [6] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:36:20 NHibernate.Event.Default.DefaultMergeEventListener [6] - merging transient instance 
DEBUG 14-10-2020 16:36:20 NHibernate.AdoNet.AbstractBatcher [6] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 16:36:20 NHibernate.AdoNet.AbstractBatcher [6] - Building an DbCommand object for the SqlString: select newid() 
DEBUG 14-10-2020 16:36:20 NHibernate.SQL [6] - 
    select
        newid() 
DEBUG 14-10-2020 16:36:20 NHibernate.Transaction.AdoTransaction [6] - Enlist Command 
DEBUG 14-10-2020 16:36:20 NHibernate.AdoNet.AbstractBatcher [6] - ExecuteReader took 0 ms 
DEBUG 14-10-2020 16:36:20 NHibernate.AdoNet.AbstractBatcher [6] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 16:36:20 NHibernate.Type.GuidType [6] - returning '401bf8e4-b4ca-48af-8d89-ab79ac9e6898' as column:  
DEBUG 14-10-2020 16:36:20 NHibernate.Id.NativeGuidGenerator [6] - GUID identifier generated: 401bf8e4-b4ca-48af-8d89-ab79ac9e6898 
DEBUG 14-10-2020 16:36:20 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 16:36:20 NHibernate.AdoNet.AbstractBatcher [6] - DataReader was closed after 10 ms 
DEBUG 14-10-2020 16:36:20 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 16:36:20 NHibernate.Event.Default.AbstractSaveEventListener [6] - generated identifier: 401bf8e4-b4ca-48af-8d89-ab79ac9e6898, using strategy: NHibernate.Id.NativeGuidGenerator 
DEBUG 14-10-2020 16:36:20 NHibernate.Event.Default.AbstractSaveEventListener [6] - saving [BookWarehouse.Repository.Models.Supplier#401bf8e4-b4ca-48af-8d89-ab79ac9e6898] 
DEBUG 14-10-2020 16:36:20 NHibernate.Transaction.AdoTransaction [6] - Start Commit 
DEBUG 14-10-2020 16:36:20 NHibernate.Impl.SessionImpl [6] - before transaction completion 
DEBUG 14-10-2020 16:36:20 NHibernate.Event.Default.AbstractFlushingEventListener [6] - flushing session 
DEBUG 14-10-2020 16:36:20 NHibernate.Event.Default.AbstractFlushingEventListener [6] - processing flush-time cascades 
DEBUG 14-10-2020 16:36:20 NHibernate.Event.Default.AbstractFlushingEventListener [6] - dirty checking collections 
DEBUG 14-10-2020 16:36:20 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushing entities and processing referenced collections 
DEBUG 14-10-2020 16:36:20 NHibernate.Event.Default.WrapVisitor [6] - Wrapped collection in role: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 16:36:20 NHibernate.Engine.Collections [6] - Collection found: [BookWarehouse.Repository.Models.Supplier.Contact#401bf8e4-b4ca-48af-8d89-ab79ac9e6898], was: [<unreferenced>] (initialized) 
DEBUG 14-10-2020 16:36:20 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Processing unreferenced collections 
DEBUG 14-10-2020 16:36:20 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Scheduling collection removes/(re)creates/updates 
DEBUG 14-10-2020 16:36:20 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects 
DEBUG 14-10-2020 16:36:20 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Flushed: 1 (re)creations, 0 updates, 0 removals to 1 collections 
DEBUG 14-10-2020 16:36:20 NHibernate.Impl.Printer [6] - listing entities: 
DEBUG 14-10-2020 16:36:20 NHibernate.Impl.Printer [6] - BookWarehouse.Repository.Models.Supplier{'Id'='401bf8e4-b4ca-48af-8d89-ab79ac9e6898', 'Contact'='[]', 'Name'='string', 'Address'='string', 'City'='string', 'PostCode'='string'} 
DEBUG 14-10-2020 16:36:20 NHibernate.Event.Default.AbstractFlushingEventListener [6] - executing flush 
DEBUG 14-10-2020 16:36:20 NHibernate.AdoNet.ConnectionManager [6] - Registering flush begin 
DEBUG 14-10-2020 16:36:20 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Inserting entity: [BookWarehouse.Repository.Models.Supplier#401bf8e4-b4ca-48af-8d89-ab79ac9e6898] 
DEBUG 14-10-2020 16:36:20 NHibernate.AdoNet.AbstractBatcher [6] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 16:36:20 NHibernate.AdoNet.AbstractBatcher [6] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 16:36:20 NHibernate.Persister.Entity.AbstractEntityPersister [6] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#401bf8e4-b4ca-48af-8d89-ab79ac9e6898] 
DEBUG 14-10-2020 16:36:20 NHibernate.Type.StringType [6] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 16:36:20 NHibernate.Type.StringType [6] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 16:36:20 NHibernate.Type.StringType [6] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 16:36:20 NHibernate.Type.StringType [6] - binding 'string' to parameter: 3 
DEBUG 14-10-2020 16:36:20 NHibernate.Type.GuidType [6] - binding '401bf8e4-b4ca-48af-8d89-ab79ac9e6898' to parameter: 4 
DEBUG 14-10-2020 16:36:20 NHibernate.AdoNet.AbstractBatcher [6] - Adding to batch:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = 401bf8e4-b4ca-48af-8d89-ab79ac9e6898 [Type: Guid (0:0:0)] 
DEBUG 14-10-2020 16:36:20 NHibernate.AdoNet.AbstractBatcher [6] - Executing batch 
DEBUG 14-10-2020 16:36:20 NHibernate.SQL [6] - Batch commands:
command 0:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = 'string' [Type: String (4000:0:0)], @p4 = 401bf8e4-b4ca-48af-8d89-ab79ac9e6898 [Type: Guid (0:0:0)]
 
DEBUG 14-10-2020 16:36:20 NHibernate.Transaction.AdoTransaction [6] - Enlist Command 
DEBUG 14-10-2020 16:36:20 NHibernate.Util.ADOExceptionReporter [6] - could not execute batch command.
[ SQL not available ]
 System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:a06aeb70-4f9a-4a87-9cdf-8851f170479f
Error Number:8152,State:30,Class:16

WARN  14-10-2020 16:36:20 NHibernate.Util.ADOExceptionReporter [6] - String or binary data would be truncated.
The statement has been terminated. System.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
ClientConnectionId:a06aeb70-4f9a-4a87-9cdf-8851f170479f
Error Number:8152,State:30,Class:16

ERROR 14-10-2020 16:36:20 NHibernate.Util.ADOExceptionReporter [6] - String or binary data would be truncated.
The statement has been terminated. 
DEBUG 14-10-2020 16:36:20 NHibernate.AdoNet.AbstractBatcher [6] - Closed DbCommand, open DbCommands: 0 
ERROR 14-10-2020 16:36:20 NHibernate.Event.Default.AbstractFlushingEventListener [6] - Could not synchronize database state with session NHibernate.Exceptions.GenericADOException: could not execute batch command.[SQL: SQL not available] ---> System.Data.SqlClient.SqlException: String or binary data would be truncated.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   --- End of inner exception stack trace ---
   at NHibernate.AdoNet.GenericBatchingBatcher.DoExecuteBatch(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatchWithTiming(DbCommand ps)
   at NHibernate.AdoNet.AbstractBatcher.ExecuteBatch()
   at NHibernate.Engine.ActionQueue.ExecuteActions()
   at NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)

DEBUG 14-10-2020 16:36:20 NHibernate.AdoNet.ConnectionManager [6] - Registering flush end 
DEBUG 14-10-2020 16:36:20 NHibernate.Impl.SessionImpl [6] - closing session 
DEBUG 14-10-2020 16:36:20 NHibernate.AdoNet.AbstractBatcher [6] - running BatcherImpl.Dispose(true) 
DEBUG 14-10-2020 16:36:20 NHibernate.Transaction.AdoTransaction [6] - DbTransaction disposed. 
DEBUG 14-10-2020 16:36:20 NHibernate.AdoNet.ConnectionManager [6] - Aggressively releasing database connection 
DEBUG 14-10-2020 16:36:20 NHibernate.Connection.ConnectionProvider [6] - Closing connection 
DEBUG 14-10-2020 16:36:20 NHibernate.Impl.SessionImpl [6] - transaction completion 
DEBUG 14-10-2020 16:36:31 NHibernate.Impl.SessionImpl [6] - closing session 
INFO  14-10-2020 16:36:33 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
INFO  14-10-2020 16:36:33 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request starting HTTP/1.1 POST https://localhost:5001/Supplier/AddSupplier application/json-patch+json 181 
WARN  14-10-2020 16:36:33 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
WARN  14-10-2020 16:36:33 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - The CORS protocol does not allow specifying a wildcard (any) origin and credentials at the same time. Configure the policy by listing individual origins if credentials needs to be supported. 
INFO  14-10-2020 16:36:33 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 16:36:33 Microsoft.AspNetCore.Cors.Infrastructure.CorsService [7] - CORS policy execution successful. 
INFO  14-10-2020 16:36:33 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executed action BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) in 14015.0476ms 
INFO  14-10-2020 16:36:33 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 16:36:33 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [6] - Executed action BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) in 14015.0476ms 
INFO  14-10-2020 16:36:33 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Route matched with {action = "AddSupplier", controller = "Supplier"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddSupplier(BookWarehouse.Common.Commands.AddSupplierCommand) on controller BookWarehouse.Api.AspNetCore.Controllers.SupplierController (BookWarehouse.Api.AspNetCore). 
INFO  14-10-2020 16:36:33 QSI.Web.Middleware.LogActionFilter [7] - Receive AddSupplier on Supplier by Anonymous from ::1 
INFO  14-10-2020 16:36:33 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
INFO  14-10-2020 16:36:33 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executing action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) - Validation state: Valid 
DEBUG 14-10-2020 16:36:33 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [7] - Opening Hibernate Session. 
DEBUG 14-10-2020 16:36:33 NHibernate.Impl.SessionImpl [7] - [session-id=c0e1e5fe-d56e-4308-9bbb-8ada450648b3] opened session at timestamp: 637382901937, for session factory: [/f93f950ce4a84ebda166717451d2a127] 
DEBUG 14-10-2020 16:36:33 NHibernate.Transaction.AdoTransaction [7] - Begin (Unspecified) 
DEBUG 14-10-2020 16:36:33 NHibernate.Connection.DriverConnectionProvider [7] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 16:36:33 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 16:36:33 NHibernate.Event.Default.AbstractSaveEventListener [7] - transient instance of: BookWarehouse.Repository.Models.Supplier 
INFO  14-10-2020 16:36:33 NHibernate.Event.Default.DefaultMergeEventListener [7] - merging transient instance 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: select newid() 
DEBUG 14-10-2020 16:36:33 NHibernate.SQL [7] - 
    select
        newid() 
DEBUG 14-10-2020 16:36:33 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.AbstractBatcher [7] - ExecuteReader took 1 ms 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.AbstractBatcher [7] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 16:36:33 NHibernate.Type.GuidType [7] - returning 'd9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e' as column:  
DEBUG 14-10-2020 16:36:33 NHibernate.Id.NativeGuidGenerator [7] - GUID identifier generated: d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.AbstractBatcher [7] - DataReader was closed after 1 ms 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 16:36:33 NHibernate.Event.Default.AbstractSaveEventListener [7] - generated identifier: d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e, using strategy: NHibernate.Id.NativeGuidGenerator 
DEBUG 14-10-2020 16:36:33 NHibernate.Event.Default.AbstractSaveEventListener [7] - saving [BookWarehouse.Repository.Models.Supplier#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e] 
DEBUG 14-10-2020 16:36:33 NHibernate.Transaction.AdoTransaction [7] - Start Commit 
DEBUG 14-10-2020 16:36:33 NHibernate.Impl.SessionImpl [7] - before transaction completion 
DEBUG 14-10-2020 16:36:33 NHibernate.Event.Default.AbstractFlushingEventListener [7] - flushing session 
DEBUG 14-10-2020 16:36:33 NHibernate.Event.Default.AbstractFlushingEventListener [7] - processing flush-time cascades 
DEBUG 14-10-2020 16:36:33 NHibernate.Event.Default.AbstractFlushingEventListener [7] - dirty checking collections 
DEBUG 14-10-2020 16:36:33 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Flushing entities and processing referenced collections 
DEBUG 14-10-2020 16:36:33 NHibernate.Event.Default.WrapVisitor [7] - Wrapped collection in role: BookWarehouse.Repository.Models.Supplier.Contact 
DEBUG 14-10-2020 16:36:33 NHibernate.Engine.Collections [7] - Collection found: [BookWarehouse.Repository.Models.Supplier.Contact#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e], was: [<unreferenced>] (initialized) 
DEBUG 14-10-2020 16:36:33 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Processing unreferenced collections 
DEBUG 14-10-2020 16:36:33 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Scheduling collection removes/(re)creates/updates 
DEBUG 14-10-2020 16:36:33 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Flushed: 1 insertions, 0 updates, 0 deletions to 1 objects 
DEBUG 14-10-2020 16:36:33 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Flushed: 1 (re)creations, 0 updates, 0 removals to 1 collections 
DEBUG 14-10-2020 16:36:33 NHibernate.Impl.Printer [7] - listing entities: 
DEBUG 14-10-2020 16:36:33 NHibernate.Impl.Printer [7] - BookWarehouse.Repository.Models.Supplier{'Id'='d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e', 'Contact'='[]', 'Name'='string', 'Address'='string', 'City'='string', 'PostCode'='12312'} 
DEBUG 14-10-2020 16:36:33 NHibernate.Event.Default.AbstractFlushingEventListener [7] - executing flush 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.ConnectionManager [7] - Registering flush begin 
DEBUG 14-10-2020 16:36:33 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Inserting entity: [BookWarehouse.Repository.Models.Supplier#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e] 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: INSERT INTO supplier (Name, Address, City, PostCode, Id) VALUES (?, ?, ?, ?, ?) 
DEBUG 14-10-2020 16:36:33 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Dehydrating entity: [BookWarehouse.Repository.Models.Supplier#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e] 
DEBUG 14-10-2020 16:36:33 NHibernate.Type.StringType [7] - binding 'string' to parameter: 0 
DEBUG 14-10-2020 16:36:33 NHibernate.Type.StringType [7] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 16:36:33 NHibernate.Type.StringType [7] - binding 'string' to parameter: 2 
DEBUG 14-10-2020 16:36:33 NHibernate.Type.StringType [7] - binding '12312' to parameter: 3 
DEBUG 14-10-2020 16:36:33 NHibernate.Type.GuidType [7] - binding 'd9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e' to parameter: 4 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.AbstractBatcher [7] - Adding to batch:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = '12312' [Type: String (4000:0:0)], @p4 = d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e [Type: Guid (0:0:0)] 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.AbstractBatcher [7] - Executing batch 
DEBUG 14-10-2020 16:36:33 NHibernate.SQL [7] - Batch commands:
command 0:
    INSERT 
    INTO
        supplier
        (Name, Address, City, PostCode, Id) 
    VALUES
        (@p0, @p1, @p2, @p3, @p4);
    @p0 = 'string' [Type: String (4000:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = 'string' [Type: String (4000:0:0)], @p3 = '12312' [Type: String (4000:0:0)], @p4 = d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e [Type: Guid (0:0:0)]
 
DEBUG 14-10-2020 16:36:33 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.AbstractBatcher [7] - ExecuteBatch for 1 statements took 2 ms 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
INFO  14-10-2020 16:36:33 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 14150.7917ms 500 application/json 
INFO  14-10-2020 16:36:33 Microsoft.AspNetCore.Hosting.Internal.WebHost [6] - Request finished in 14150.7917ms 500 application/json 
DEBUG 14-10-2020 16:36:33 NHibernate.Persister.Collection.ICollectionPersister [7] - Inserting collection: [BookWarehouse.Repository.Models.Supplier.Contact#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e] 
DEBUG 14-10-2020 16:36:33 NHibernate.Persister.Collection.ICollectionPersister [7] - collection was empty 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.ConnectionManager [7] - Registering flush end 
DEBUG 14-10-2020 16:36:33 NHibernate.Event.Default.AbstractFlushingEventListener [7] - post flush 
DEBUG 14-10-2020 16:36:33 NHibernate.Transaction.AdoTransaction [7] - DbTransaction Committed 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.ConnectionManager [7] - Aggressively releasing database connection 
DEBUG 14-10-2020 16:36:33 NHibernate.Connection.ConnectionProvider [7] - Closing connection 
DEBUG 14-10-2020 16:36:33 NHibernate.Impl.SessionImpl [7] - transaction completion 
DEBUG 14-10-2020 16:36:33 NHibernate.Transaction.AdoTransaction [7] - DbTransaction disposed. 
DEBUG 14-10-2020 16:36:33 NHibernate.Impl.SessionImpl [7] - closing session 
DEBUG 14-10-2020 16:36:33 NHibernate.AdoNet.AbstractBatcher [7] - running BatcherImpl.Dispose(true) 
DEBUG 14-10-2020 16:36:34 NHibernate.Impl.SessionFactoryImpl+SessionBuilderImpl`1[[NHibernate.ISessionBuilder, NHibernate, Version=5.1.0.0, Culture=neutral, PublicKeyToken=aa95f207798dfdb4]] [7] - Opening Hibernate Session. 
DEBUG 14-10-2020 16:36:34 NHibernate.Impl.SessionImpl [7] - [session-id=631abfd3-87b0-41b0-9c7e-ca725bdf8754] opened session at timestamp: 637382901940, for session factory: [/f93f950ce4a84ebda166717451d2a127] 
DEBUG 14-10-2020 16:36:34 NHibernate.Transaction.AdoTransaction [7] - Begin (Unspecified) 
DEBUG 14-10-2020 16:36:34 NHibernate.Connection.DriverConnectionProvider [7] - Obtaining DbConnection from Driver 
DEBUG 14-10-2020 16:36:34 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.AbstractSaveEventListener [7] - transient instance of: BookWarehouse.Repository.Models.SupplierContact 
INFO  14-10-2020 16:36:34 NHibernate.Event.Default.DefaultMergeEventListener [7] - merging transient instance 
DEBUG 14-10-2020 16:36:34 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 16:36:34 NHibernate.Engine.IdentifierValue [7] - unsaved-value: 00000000-0000-0000-0000-000000000000 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.DefaultLoadEventListener [7] - loading entity: [BookWarehouse.Repository.Models.Supplier#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e] 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.DefaultLoadEventListener [7] - creating new proxy for entity 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: select newid() 
DEBUG 14-10-2020 16:36:34 NHibernate.SQL [7] - 
    select
        newid() 
DEBUG 14-10-2020 16:36:34 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - ExecuteReader took 1 ms 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 16:36:34 NHibernate.Type.GuidType [7] - returning '1ff448e3-3d4f-4bde-830c-83d86c235697' as column:  
DEBUG 14-10-2020 16:36:34 NHibernate.Id.NativeGuidGenerator [7] - GUID identifier generated: 1ff448e3-3d4f-4bde-830c-83d86c235697 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - DataReader was closed after 1 ms 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.AbstractSaveEventListener [7] - generated identifier: 1ff448e3-3d4f-4bde-830c-83d86c235697, using strategy: NHibernate.Id.NativeGuidGenerator 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.AbstractSaveEventListener [7] - saving [BookWarehouse.Repository.Models.SupplierContact#1ff448e3-3d4f-4bde-830c-83d86c235697] 
DEBUG 14-10-2020 16:36:34 NHibernate.Transaction.AdoTransaction [7] - Start Commit 
DEBUG 14-10-2020 16:36:34 NHibernate.Impl.SessionImpl [7] - before transaction completion 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.AbstractFlushingEventListener [7] - flushing session 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.AbstractFlushingEventListener [7] - processing flush-time cascades 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.AbstractFlushingEventListener [7] - dirty checking collections 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Flushing entities and processing referenced collections 
DEBUG 14-10-2020 16:36:34 NHibernate.Impl.SessionImpl [7] - initializing proxy: [BookWarehouse.Repository.Models.Supplier#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e] 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.DefaultLoadEventListener [7] - attempting to resolve: [BookWarehouse.Repository.Models.Supplier#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e] 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.DefaultLoadEventListener [7] - object not resolved in any cache: [BookWarehouse.Repository.Models.Supplier#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e] 
DEBUG 14-10-2020 16:36:34 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Fetching entity: [BookWarehouse.Repository.Models.Supplier#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e] 
DEBUG 14-10-2020 16:36:34 NHibernate.Loader.Loader [7] - loading entity: [BookWarehouse.Repository.Models.Supplier#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e] 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: SELECT supplier0_.Id as id1_1_0_, supplier0_.Name as name2_1_0_, supplier0_.Address as address3_1_0_, supplier0_.City as city4_1_0_, supplier0_.PostCode as postcode5_1_0_ FROM supplier supplier0_ WHERE supplier0_.Id=? 
DEBUG 14-10-2020 16:36:34 NHibernate.Type.GuidType [7] - binding 'd9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e' to parameter: 0 
DEBUG 14-10-2020 16:36:34 NHibernate.SQL [7] - 
    SELECT
        supplier0_.Id as id1_1_0_,
        supplier0_.Name as name2_1_0_,
        supplier0_.Address as address3_1_0_,
        supplier0_.City as city4_1_0_,
        supplier0_.PostCode as postcode5_1_0_ 
    FROM
        supplier supplier0_ 
    WHERE
        supplier0_.Id=@p0;
    @p0 = d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e [Type: Guid (0:0:0)] 
DEBUG 14-10-2020 16:36:34 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - ExecuteReader took 2 ms 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - Opened DbDataReader, open DbDataReaders: 1 
DEBUG 14-10-2020 16:36:34 NHibernate.Loader.Loader [7] - processing result set 
DEBUG 14-10-2020 16:36:34 NHibernate.Loader.Loader [7] - result set row: 0 
DEBUG 14-10-2020 16:36:34 NHibernate.Loader.Loader [7] - result row: EntityKey[BookWarehouse.Repository.Models.Supplier#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e] 
DEBUG 14-10-2020 16:36:34 NHibernate.Loader.Loader [7] - Initializing object from DataReader: [BookWarehouse.Repository.Models.Supplier#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e] 
DEBUG 14-10-2020 16:36:34 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Hydrating entity: [BookWarehouse.Repository.Models.Supplier#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e] 
DEBUG 14-10-2020 16:36:34 NHibernate.Type.StringType [7] - returning 'string' as column: name2_1_0_ 
DEBUG 14-10-2020 16:36:34 NHibernate.Type.StringType [7] - returning 'string' as column: address3_1_0_ 
DEBUG 14-10-2020 16:36:34 NHibernate.Type.StringType [7] - returning 'string' as column: city4_1_0_ 
DEBUG 14-10-2020 16:36:34 NHibernate.Type.StringType [7] - returning '12312' as column: postcode5_1_0_ 
DEBUG 14-10-2020 16:36:34 NHibernate.Loader.Loader [7] - done processing result set (1 rows) 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbDataReader, open DbDataReaders :0 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - DataReader was closed after 20 ms 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 16:36:34 NHibernate.Loader.Loader [7] - total objects hydrated: 1 
DEBUG 14-10-2020 16:36:34 NHibernate.Engine.TwoPhaseLoad [7] - resolving associations for [BookWarehouse.Repository.Models.Supplier#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e] 
DEBUG 14-10-2020 16:36:34 NHibernate.Type.CollectionType [7] - Created collection wrapper: [BookWarehouse.Repository.Models.Supplier.Contact#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e] 
DEBUG 14-10-2020 16:36:34 NHibernate.Engine.TwoPhaseLoad [7] - done materializing entity [BookWarehouse.Repository.Models.Supplier#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e] 
DEBUG 14-10-2020 16:36:34 NHibernate.Engine.StatefulPersistenceContext [7] - initializing non-lazy collections 
DEBUG 14-10-2020 16:36:34 NHibernate.Loader.Loader [7] - done entity load 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Processing unreferenced collections 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Scheduling collection removes/(re)creates/updates 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Flushed: 1 insertions, 0 updates, 0 deletions to 2 objects 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.AbstractFlushingEventListener [7] - Flushed: 0 (re)creations, 0 updates, 0 removals to 1 collections 
DEBUG 14-10-2020 16:36:34 NHibernate.Impl.Printer [7] - listing entities: 
DEBUG 14-10-2020 16:36:34 NHibernate.Impl.Printer [7] - BookWarehouse.Repository.Models.SupplierContact{'Id'='1ff448e3-3d4f-4bde-830c-83d86c235697', 'ContactType'='1', 'Value'='string', 'Supplier'='BookWarehouse.Repository.Models.Supplier#d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e'} 
DEBUG 14-10-2020 16:36:34 NHibernate.Impl.Printer [7] - BookWarehouse.Repository.Models.Supplier{'Id'='d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e', 'Contact'='<uninitialized>', 'Name'='string', 'Address'='string', 'City'='string', 'PostCode'='12312'} 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.AbstractFlushingEventListener [7] - executing flush 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.ConnectionManager [7] - Registering flush begin 
DEBUG 14-10-2020 16:36:34 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Inserting entity: [BookWarehouse.Repository.Models.SupplierContact#1ff448e3-3d4f-4bde-830c-83d86c235697] 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - Opened new DbCommand, open DbCommands: 1 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - Building an DbCommand object for the SqlString: INSERT INTO supplier_contact (ContactType, Value, supplier_id, Id) VALUES (?, ?, ?, ?) 
DEBUG 14-10-2020 16:36:34 NHibernate.Persister.Entity.AbstractEntityPersister [7] - Dehydrating entity: [BookWarehouse.Repository.Models.SupplierContact#1ff448e3-3d4f-4bde-830c-83d86c235697] 
DEBUG 14-10-2020 16:36:34 NHibernate.Type.EnumType`1[[BookWarehouse.Common.Enum.ContactType, BookWarehouse.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] [7] - binding '1' to parameter: 0 
DEBUG 14-10-2020 16:36:34 NHibernate.Type.StringType [7] - binding 'string' to parameter: 1 
DEBUG 14-10-2020 16:36:34 NHibernate.Type.GuidType [7] - binding 'd9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e' to parameter: 2 
DEBUG 14-10-2020 16:36:34 NHibernate.Type.GuidType [7] - binding '1ff448e3-3d4f-4bde-830c-83d86c235697' to parameter: 3 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - Adding to batch:
    INSERT 
    INTO
        supplier_contact
        (ContactType, Value, supplier_id, Id) 
    VALUES
        (@p0, @p1, @p2, @p3);
    @p0 = 1 [Type: Int32 (0:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e [Type: Guid (0:0:0)], @p3 = 1ff448e3-3d4f-4bde-830c-83d86c235697 [Type: Guid (0:0:0)] 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - Executing batch 
DEBUG 14-10-2020 16:36:34 NHibernate.SQL [7] - Batch commands:
command 0:
    INSERT 
    INTO
        supplier_contact
        (ContactType, Value, supplier_id, Id) 
    VALUES
        (@p0, @p1, @p2, @p3);
    @p0 = 1 [Type: Int32 (0:0:0)], @p1 = 'string' [Type: String (4000:0:0)], @p2 = d9cf2d1c-cdae-4d29-9ab3-d0272e2cc66e [Type: Guid (0:0:0)], @p3 = 1ff448e3-3d4f-4bde-830c-83d86c235697 [Type: Guid (0:0:0)]
 
DEBUG 14-10-2020 16:36:34 NHibernate.Transaction.AdoTransaction [7] - Enlist Command 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - ExecuteBatch for 1 statements took 5 ms 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - Closed DbCommand, open DbCommands: 0 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.ConnectionManager [7] - Registering flush end 
DEBUG 14-10-2020 16:36:34 NHibernate.Event.Default.AbstractFlushingEventListener [7] - post flush 
DEBUG 14-10-2020 16:36:34 NHibernate.Transaction.AdoTransaction [7] - DbTransaction Committed 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.ConnectionManager [7] - Aggressively releasing database connection 
DEBUG 14-10-2020 16:36:34 NHibernate.Connection.ConnectionProvider [7] - Closing connection 
DEBUG 14-10-2020 16:36:34 NHibernate.Impl.SessionImpl [7] - transaction completion 
DEBUG 14-10-2020 16:36:34 NHibernate.Transaction.AdoTransaction [7] - DbTransaction disposed. 
DEBUG 14-10-2020 16:36:34 NHibernate.Impl.SessionImpl [7] - closing session 
DEBUG 14-10-2020 16:36:34 NHibernate.AdoNet.AbstractBatcher [7] - running BatcherImpl.Dispose(true) 
INFO  14-10-2020 16:36:34 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executed action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 411.5829ms. 
INFO  14-10-2020 16:36:34 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executed action method BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 411.5829ms. 
INFO  14-10-2020 16:36:34 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor [7] - Executing ObjectResult, writing value of type 'System.Guid'. 
INFO  14-10-2020 16:36:34 Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor [7] - Executing ObjectResult, writing value of type 'System.Guid'. 
INFO  14-10-2020 16:36:34 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executed action BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) in 477.57ms 
INFO  14-10-2020 16:36:34 Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker [7] - Executed action BookWarehouse.Api.AspNetCore.Controllers.SupplierController.AddSupplier (BookWarehouse.Api.AspNetCore) in 477.57ms 
INFO  14-10-2020 16:36:34 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 503.542ms 200 application/json; charset=utf-8 
INFO  14-10-2020 16:36:34 Microsoft.AspNetCore.Hosting.Internal.WebHost [7] - Request finished in 503.542ms 200 application/json; charset=utf-8 
DEBUG 14-10-2020 16:36:45 NHibernate.Impl.SessionImpl [2] - [session-id=4eca0c20-f8a2-46e5-b582-aeccd8188587] executing real Dispose(False) 
DEBUG 14-10-2020 16:36:45 NHibernate.Impl.SessionImpl [2] - [session-id=c0e1e5fe-d56e-4308-9bbb-8ada450648b3] executing real Dispose(False) 
DEBUG 14-10-2020 16:36:45 NHibernate.Impl.SessionImpl [2] - [session-id=631abfd3-87b0-41b0-9c7e-ca725bdf8754] executing real Dispose(False) 
